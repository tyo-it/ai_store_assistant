(function(M,W){typeof exports=="object"&&typeof module<"u"?W(exports):typeof define=="function"&&define.amd?define(["exports"],W):(M=typeof globalThis<"u"?globalThis:M||self,W(M.OpenAIAgentsRealtime={}))})(this,(function(M){"use strict";var pd=Object.defineProperty;var Wa=M=>{throw TypeError(M)};var fd=(M,W,Q)=>W in M?pd(M,W,{enumerable:!0,configurable:!0,writable:!0,value:Q}):M[W]=Q;var _=(M,W,Q)=>fd(M,typeof W!="symbol"?W+"":W,Q),qr=(M,W,Q)=>W.has(M)||Wa("Cannot "+Q);var o=(M,W,Q)=>(qr(M,W,"read from private field"),Q?Q.call(M):W.get(M)),I=(M,W,Q)=>W.has(M)?Wa("Cannot add the same private member more than once"):W instanceof WeakSet?W.add(M):W.set(M,Q),y=(M,W,Q,Tn)=>(qr(M,W,"write to private field"),Tn?Tn.call(M,Q):W.set(M,Q),Q),L=(M,W,Q)=>(qr(M,W,"access private method"),Q);var Ct,ct,nn,Et,rn,sn,Ot,ue,je,Ge,ze,Rt,le,Jr,Br,Jt,me,an,on,un,cn,dt,Ve,We,lt,dn,Nt,$e,oe,pt,Qn,Ha,ge,ln,He,_e,Fe,Dt,Pt,pn,ft,Mt,ce,Gr,zr,Vr,Ka,Wr,ht,fn,pe,hn,mn,K,gn,mt,_n,gt,_t,se,yn,Le,yt,vt,er,Ya,$,D,$t,P,Ft,Lt,vn,X,Zt,Ut,Re,wn,wt,bn,xn,Y,nr,rr,Xa,sr,Qa,Hr,ei,Kr;const W={version:"0.1.4"};async function Q(n){try{return[null,await n()]}catch(e){return[e,null]}}function Tn(n,e){const t={...n};return Object.defineProperties(t,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),t}const ti=Symbol("Let zodToJsonSchema decide on which parser to use"),Yr={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},ni=n=>typeof n=="string"?{...Yr,basePath:["#"],definitions:{},name:n}:{...Yr,basePath:["#"],definitions:{},...n},ar=n=>"_def"in n?n._def:n;function ri(n){if(!n)return!0;for(const e in n)return!1;return!0}const si=n=>{const e=ni(n),t=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:t,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([r,s])=>[ar(s),{def:ar(s),path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function Xr(n,e,t,r){r!=null&&r.errorMessages&&t&&(n.errorMessage={...n.errorMessage,[e]:t})}function H(n,e,t,r,s){n[e]=t,Xr(n,e,r,s)}var B;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},n.getValidEnumValues=s=>{const a=n.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),i={};for(const u of a)i[u]=s[u];return n.objectValues(i)},n.objectValues=s=>n.objectKeys(s).map(function(a){return s[a]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},n.find=(s,a)=>{for(const i of s)if(a(i))return i},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(B||(B={}));var Qr;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Qr||(Qr={}));const k=B.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ze=n=>{switch(typeof n){case"undefined":return k.undefined;case"string":return k.string;case"number":return Number.isNaN(n)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(n)?k.array:n===null?k.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?k.promise:typeof Map<"u"&&n instanceof Map?k.map:typeof Set<"u"&&n instanceof Set?k.set:typeof Date<"u"&&n instanceof Date?k.date:k.object;default:return k.unknown}},x=B.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ne extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(t(i));else{let u=r,p=0;for(;p<i.path.length;){const d=i.path[p];p===i.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(t(i))):u[d]=u[d]||{_errors:[]},u=u[d],p++}}};return s(this),r}static assert(e){if(!(e instanceof Ne))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,B.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ne.create=n=>new Ne(n);const ir=(n,e)=>{let t;switch(n.code){case x.invalid_type:n.received===k.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case x.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,B.jsonStringifyReplacer)}`;break;case x.unrecognized_keys:t=`Unrecognized key(s) in object: ${B.joinValues(n.keys,", ")}`;break;case x.invalid_union:t="Invalid input";break;case x.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${B.joinValues(n.options)}`;break;case x.invalid_enum_value:t=`Invalid enum value. Expected ${B.joinValues(n.options)}, received '${n.received}'`;break;case x.invalid_arguments:t="Invalid function arguments";break;case x.invalid_return_type:t="Invalid function return type";break;case x.invalid_date:t="Invalid date";break;case x.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:B.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case x.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case x.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case x.custom:t="Invalid input";break;case x.invalid_intersection_types:t="Intersection results could not be merged";break;case x.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case x.not_finite:t="Number must be finite";break;default:t=e.defaultError,B.assertNever(n)}return{message:t}};let ai=ir;function ii(){return ai}const oi=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,a=[...t,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let u="";const p=r.filter(d=>!!d).slice().reverse();for(const d of p)u=d(i,{data:e,defaultError:u}).message;return{...s,path:a,message:u}};function T(n,e){const t=ii(),r=oi({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ir?void 0:ir].filter(s=>!!s)});n.common.issues.push(r)}class de{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return N;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const a=await s.key,i=await s.value;r.push({key:a,value:i})}return de.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return N;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const N=Object.freeze({status:"aborted"}),Bt=n=>({status:"dirty",value:n}),ve=n=>({status:"valid",value:n}),es=n=>n.status==="aborted",ts=n=>n.status==="dirty",bt=n=>n.status==="valid",In=n=>typeof Promise<"u"&&n instanceof Promise;var C;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(C||(C={}));class Ie{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ns=(n,e)=>{if(bt(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ne(n.common.issues);return this._error=t,this._error}}};function j(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,u)=>{const{message:p}=n;return i.code==="invalid_enum_value"?{message:p??u.defaultError}:typeof u.data>"u"?{message:p??r??u.defaultError}:i.code!=="invalid_type"?{message:u.defaultError}:{message:p??t??u.defaultError}},description:s}}class Z{get description(){return this._def.description}_getType(e){return Ze(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ze(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new de,ctx:{common:e.parent.common,data:e.data,parsedType:Ze(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(In(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ze(e)},s=this._parseSync({data:e,path:r.path,parent:r});return ns(r,s)}"~validate"(e){var r,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ze(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:t});return bt(a)?{value:a.value}:{issues:t.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(a=>bt(a)?{value:a.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ze(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(In(s)?s:Promise.resolve(s));return ns(r,a)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{const i=e(s),u=()=>a.addIssue({code:x.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(p=>p?!0:(u(),!1)):i?!0:(u(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Xe({schema:this,typeName:S.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Me.create(this,this._def)}nullable(){return Qe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ke.create(this)}promise(){return Nn.create(this,this._def)}or(e){return An.create([this,e],this._def)}and(e){return Cn.create(this,e,this._def)}transform(e){return new Xe({...j(this._def),schema:this,typeName:S.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Dn({...j(this._def),innerType:this,defaultValue:t,typeName:S.ZodDefault})}brand(){return new ls({typeName:S.ZodBranded,type:this,...j(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Pn({...j(this._def),innerType:this,catchValue:t,typeName:S.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return mr.create(this,e)}readonly(){return Mn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ui=/^c[^\s-]{8,}$/i,ci=/^[0-9a-z]+$/,di=/^[0-9A-HJKMNP-TV-Z]{26}$/i,li=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pi=/^[a-z0-9_-]{21}$/i,fi=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hi=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mi=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gi="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let or;const _i=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yi=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vi=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wi=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bi=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xi=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rs="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Si=new RegExp(`^${rs}$`);function ss(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Ti(n){return new RegExp(`^${ss(n)}$`)}function Ii(n){let e=`${rs}T${ss(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ki(n,e){return!!((e==="v4"||!e)&&_i.test(n)||(e==="v6"||!e)&&vi.test(n))}function Ai(n,e){if(!fi.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Ci(n,e){return!!((e==="v4"||!e)&&yi.test(n)||(e==="v6"||!e)&&wi.test(n))}class De extends Z{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==k.string){const a=this._getOrReturnCtx(e);return T(a,{code:x.invalid_type,expected:k.string,received:a.parsedType}),N}const r=new de;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:x.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:x.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,u=e.data.length<a.value;(i||u)&&(s=this._getOrReturnCtx(e,s),i?T(s,{code:x.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&T(s,{code:x.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")mi.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"email",code:x.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")or||(or=new RegExp(gi,"u")),or.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"emoji",code:x.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")li.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"uuid",code:x.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")pi.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"nanoid",code:x.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")ui.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cuid",code:x.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")ci.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cuid2",code:x.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")di.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"ulid",code:x.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),T(s,{validation:"url",code:x.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"regex",code:x.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),T(s,{code:x.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),T(s,{code:x.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),T(s,{code:x.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Ii(a).test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:x.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Si.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:x.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Ti(a).test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{code:x.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?hi.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"duration",code:x.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?ki(e.data,a.version)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"ip",code:x.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Ai(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"jwt",code:x.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Ci(e.data,a.version)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"cidr",code:x.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?bi.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"base64",code:x.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?xi.test(e.data)||(s=this._getOrReturnCtx(e,s),T(s,{validation:"base64url",code:x.invalid_string,message:a.message}),r.dirty()):B.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:x.invalid_string,...C.errToObj(r)})}_addCheck(e){return new De({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...C.errToObj(e)})}url(e){return this._addCheck({kind:"url",...C.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...C.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...C.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...C.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...C.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...C.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...C.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...C.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...C.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...C.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...C.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...C.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...C.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...C.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...C.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...C.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...C.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...C.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...C.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...C.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...C.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...C.errToObj(t)})}nonempty(e){return this.min(1,C.errToObj(e))}trim(){return new De({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new De({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new De({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}De.create=n=>new De({checks:[],typeName:S.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...j(n)});function Ei(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,a=Number.parseInt(n.toFixed(s).replace(".","")),i=Number.parseInt(e.toFixed(s).replace(".",""));return a%i/10**s}class xt extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==k.number){const a=this._getOrReturnCtx(e);return T(a,{code:x.invalid_type,expected:k.number,received:a.parsedType}),N}let r;const s=new de;for(const a of this._def.checks)a.kind==="int"?B.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),T(r,{code:x.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),T(r,{code:x.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),T(r,{code:x.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Ei(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),T(r,{code:x.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),T(r,{code:x.not_finite,message:a.message}),s.dirty()):B.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,C.toString(t))}gt(e,t){return this.setLimit("min",e,!1,C.toString(t))}lte(e,t){return this.setLimit("max",e,!0,C.toString(t))}lt(e,t){return this.setLimit("max",e,!1,C.toString(t))}setLimit(e,t,r,s){return new xt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:C.toString(s)}]})}_addCheck(e){return new xt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:C.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:C.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:C.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:C.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:C.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:C.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:C.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:C.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:C.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&B.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}xt.create=n=>new xt({checks:[],typeName:S.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...j(n)});class Gt extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==k.bigint)return this._getInvalidInput(e);let r;const s=new de;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),T(r,{code:x.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),T(r,{code:x.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),T(r,{code:x.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):B.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return T(t,{code:x.invalid_type,expected:k.bigint,received:t.parsedType}),N}gte(e,t){return this.setLimit("min",e,!0,C.toString(t))}gt(e,t){return this.setLimit("min",e,!1,C.toString(t))}lte(e,t){return this.setLimit("max",e,!0,C.toString(t))}lt(e,t){return this.setLimit("max",e,!1,C.toString(t))}setLimit(e,t,r,s){return new Gt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:C.toString(s)}]})}_addCheck(e){return new Gt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:C.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:C.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:C.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:C.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:C.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Gt.create=n=>new Gt({checks:[],typeName:S.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...j(n)});class ur extends Z{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==k.boolean){const r=this._getOrReturnCtx(e);return T(r,{code:x.invalid_type,expected:k.boolean,received:r.parsedType}),N}return ve(e.data)}}ur.create=n=>new ur({typeName:S.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...j(n)});class kn extends Z{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==k.date){const a=this._getOrReturnCtx(e);return T(a,{code:x.invalid_type,expected:k.date,received:a.parsedType}),N}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return T(a,{code:x.invalid_date}),N}const r=new de;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:x.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),T(s,{code:x.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):B.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new kn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:C.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:C.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}kn.create=n=>new kn({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:S.ZodDate,...j(n)});class as extends Z{_parse(e){if(this._getType(e)!==k.symbol){const r=this._getOrReturnCtx(e);return T(r,{code:x.invalid_type,expected:k.symbol,received:r.parsedType}),N}return ve(e.data)}}as.create=n=>new as({typeName:S.ZodSymbol,...j(n)});class cr extends Z{_parse(e){if(this._getType(e)!==k.undefined){const r=this._getOrReturnCtx(e);return T(r,{code:x.invalid_type,expected:k.undefined,received:r.parsedType}),N}return ve(e.data)}}cr.create=n=>new cr({typeName:S.ZodUndefined,...j(n)});class dr extends Z{_parse(e){if(this._getType(e)!==k.null){const r=this._getOrReturnCtx(e);return T(r,{code:x.invalid_type,expected:k.null,received:r.parsedType}),N}return ve(e.data)}}dr.create=n=>new dr({typeName:S.ZodNull,...j(n)});class lr extends Z{constructor(){super(...arguments),this._any=!0}_parse(e){return ve(e.data)}}lr.create=n=>new lr({typeName:S.ZodAny,...j(n)});class is extends Z{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ve(e.data)}}is.create=n=>new is({typeName:S.ZodUnknown,...j(n)});class Ue extends Z{_parse(e){const t=this._getOrReturnCtx(e);return T(t,{code:x.invalid_type,expected:k.never,received:t.parsedType}),N}}Ue.create=n=>new Ue({typeName:S.ZodNever,...j(n)});class os extends Z{_parse(e){if(this._getType(e)!==k.undefined){const r=this._getOrReturnCtx(e);return T(r,{code:x.invalid_type,expected:k.void,received:r.parsedType}),N}return ve(e.data)}}os.create=n=>new os({typeName:S.ZodVoid,...j(n)});class ke extends Z{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==k.array)return T(t,{code:x.invalid_type,expected:k.array,received:t.parsedType}),N;if(s.exactLength!==null){const i=t.data.length>s.exactLength.value,u=t.data.length<s.exactLength.value;(i||u)&&(T(t,{code:i?x.too_big:x.too_small,minimum:u?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(T(t,{code:x.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(T(t,{code:x.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((i,u)=>s.type._parseAsync(new Ie(t,i,t.path,u)))).then(i=>de.mergeArray(r,i));const a=[...t.data].map((i,u)=>s.type._parseSync(new Ie(t,i,t.path,u)));return de.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new ke({...this._def,minLength:{value:e,message:C.toString(t)}})}max(e,t){return new ke({...this._def,maxLength:{value:e,message:C.toString(t)}})}length(e,t){return new ke({...this._def,exactLength:{value:e,message:C.toString(t)}})}nonempty(e){return this.min(1,e)}}ke.create=(n,e)=>new ke({type:n,minLength:null,maxLength:null,exactLength:null,typeName:S.ZodArray,...j(e)});function St(n){if(n instanceof ee){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Me.create(St(r))}return new ee({...n._def,shape:()=>e})}else return n instanceof ke?new ke({...n._def,type:St(n.element)}):n instanceof Me?Me.create(St(n.unwrap())):n instanceof Qe?Qe.create(St(n.unwrap())):n instanceof Ke?Ke.create(n.items.map(e=>St(e))):n}class ee extends Z{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=B.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==k.object){const d=this._getOrReturnCtx(e);return T(d,{code:x.invalid_type,expected:k.object,received:d.parsedType}),N}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ue&&this._def.unknownKeys==="strip"))for(const d in s.data)i.includes(d)||u.push(d);const p=[];for(const d of i){const l=a[d],f=s.data[d];p.push({key:{status:"valid",value:d},value:l._parse(new Ie(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Ue){const d=this._def.unknownKeys;if(d==="passthrough")for(const l of u)p.push({key:{status:"valid",value:l},value:{status:"valid",value:s.data[l]}});else if(d==="strict")u.length>0&&(T(s,{code:x.unrecognized_keys,keys:u}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const l of u){const f=s.data[l];p.push({key:{status:"valid",value:l},value:d._parse(new Ie(s,f,s.path,l)),alwaysSet:l in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const l of p){const f=await l.key,h=await l.value;d.push({key:f,value:h,alwaysSet:l.alwaysSet})}return d}).then(d=>de.mergeObjectSync(r,d)):de.mergeObjectSync(r,p)}get shape(){return this._def.shape()}strict(e){return C.errToObj,new ee({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,i;const s=((i=(a=this._def).errorMap)==null?void 0:i.call(a,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:C.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ee({...this._def,unknownKeys:"strip"})}passthrough(){return new ee({...this._def,unknownKeys:"passthrough"})}extend(e){return new ee({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ee({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:S.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ee({...this._def,catchall:e})}pick(e){const t={};for(const r of B.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ee({...this._def,shape:()=>t})}omit(e){const t={};for(const r of B.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ee({...this._def,shape:()=>t})}deepPartial(){return St(this)}partial(e){const t={};for(const r of B.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new ee({...this._def,shape:()=>t})}required(e){const t={};for(const r of B.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Me;)a=a._def.innerType;t[r]=a}return new ee({...this._def,shape:()=>t})}keyof(){return cs(B.objectKeys(this.shape))}}ee.create=(n,e)=>new ee({shape:()=>n,unknownKeys:"strip",catchall:Ue.create(),typeName:S.ZodObject,...j(e)}),ee.strictCreate=(n,e)=>new ee({shape:()=>n,unknownKeys:"strict",catchall:Ue.create(),typeName:S.ZodObject,...j(e)}),ee.lazycreate=(n,e)=>new ee({shape:n,unknownKeys:"strip",catchall:Ue.create(),typeName:S.ZodObject,...j(e)});class An extends Z{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const i=a.map(u=>new Ne(u.ctx.common.issues));return T(t,{code:x.invalid_union,unionErrors:i}),N}if(t.common.async)return Promise.all(r.map(async a=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const p of r){const d={...t,common:{...t.common,issues:[]},parent:null},l=p._parseSync({data:t.data,path:t.path,parent:d});if(l.status==="valid")return l;l.status==="dirty"&&!a&&(a={result:l,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const u=i.map(p=>new Ne(p));return T(t,{code:x.invalid_union,unionErrors:u}),N}}get options(){return this._def.options}}An.create=(n,e)=>new An({options:n,typeName:S.ZodUnion,...j(e)});const Pe=n=>n instanceof On?Pe(n.schema):n instanceof Xe?Pe(n.innerType()):n instanceof Rn?[n.value]:n instanceof Ye?n.options:n instanceof hr?B.objectValues(n.enum):n instanceof Dn?Pe(n._def.innerType):n instanceof cr?[void 0]:n instanceof dr?[null]:n instanceof Me?[void 0,...Pe(n.unwrap())]:n instanceof Qe?[null,...Pe(n.unwrap())]:n instanceof ls||n instanceof Mn?Pe(n.unwrap()):n instanceof Pn?Pe(n._def.innerType):[];class pr extends Z{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==k.object)return T(t,{code:x.invalid_type,expected:k.object,received:t.parsedType}),N;const r=this.discriminator,s=t.data[r],a=this.optionsMap.get(s);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(T(t,{code:x.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),N)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const a of t){const i=Pe(a.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of i){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,a)}}return new pr({typeName:S.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...j(r)})}}function fr(n,e){const t=Ze(n),r=Ze(e);if(n===e)return{valid:!0,data:n};if(t===k.object&&r===k.object){const s=B.objectKeys(e),a=B.objectKeys(n).filter(u=>s.indexOf(u)!==-1),i={...n,...e};for(const u of a){const p=fr(n[u],e[u]);if(!p.valid)return{valid:!1};i[u]=p.data}return{valid:!0,data:i}}else if(t===k.array&&r===k.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<n.length;a++){const i=n[a],u=e[a],p=fr(i,u);if(!p.valid)return{valid:!1};s.push(p.data)}return{valid:!0,data:s}}else return t===k.date&&r===k.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Cn extends Z{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(a,i)=>{if(es(a)||es(i))return N;const u=fr(a.value,i.value);return u.valid?((ts(a)||ts(i))&&t.dirty(),{status:t.value,value:u.data}):(T(r,{code:x.invalid_intersection_types}),N)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Cn.create=(n,e,t)=>new Cn({left:n,right:e,typeName:S.ZodIntersection,...j(t)});class Ke extends Z{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.array)return T(r,{code:x.invalid_type,expected:k.array,received:r.parsedType}),N;if(r.data.length<this._def.items.length)return T(r,{code:x.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),N;!this._def.rest&&r.data.length>this._def.items.length&&(T(r,{code:x.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((i,u)=>{const p=this._def.items[u]||this._def.rest;return p?p._parse(new Ie(r,i,r.path,u)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>de.mergeArray(t,i)):de.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new Ke({...this._def,rest:e})}}Ke.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ke({items:n,typeName:S.ZodTuple,rest:null,...j(e)})};class En extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.object)return T(r,{code:x.invalid_type,expected:k.object,received:r.parsedType}),N;const s=[],a=this._def.keyType,i=this._def.valueType;for(const u in r.data)s.push({key:a._parse(new Ie(r,u,r.path,u)),value:i._parse(new Ie(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?de.mergeObjectAsync(t,s):de.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Z?new En({keyType:e,valueType:t,typeName:S.ZodRecord,...j(r)}):new En({keyType:De.create(),valueType:e,typeName:S.ZodRecord,...j(t)})}}class us extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.map)return T(r,{code:x.invalid_type,expected:k.map,received:r.parsedType}),N;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([u,p],d)=>({key:s._parse(new Ie(r,u,r.path,[d,"key"])),value:a._parse(new Ie(r,p,r.path,[d,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const p of i){const d=await p.key,l=await p.value;if(d.status==="aborted"||l.status==="aborted")return N;(d.status==="dirty"||l.status==="dirty")&&t.dirty(),u.set(d.value,l.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const p of i){const d=p.key,l=p.value;if(d.status==="aborted"||l.status==="aborted")return N;(d.status==="dirty"||l.status==="dirty")&&t.dirty(),u.set(d.value,l.value)}return{status:t.value,value:u}}}}us.create=(n,e,t)=>new us({valueType:e,keyType:n,typeName:S.ZodMap,...j(t)});class zt extends Z{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.set)return T(r,{code:x.invalid_type,expected:k.set,received:r.parsedType}),N;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(T(r,{code:x.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(T(r,{code:x.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function i(p){const d=new Set;for(const l of p){if(l.status==="aborted")return N;l.status==="dirty"&&t.dirty(),d.add(l.value)}return{status:t.value,value:d}}const u=[...r.data.values()].map((p,d)=>a._parse(new Ie(r,p,r.path,d)));return r.common.async?Promise.all(u).then(p=>i(p)):i(u)}min(e,t){return new zt({...this._def,minSize:{value:e,message:C.toString(t)}})}max(e,t){return new zt({...this._def,maxSize:{value:e,message:C.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}zt.create=(n,e)=>new zt({valueType:n,minSize:null,maxSize:null,typeName:S.ZodSet,...j(e)});class On extends Z{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}On.create=(n,e)=>new On({getter:n,typeName:S.ZodLazy,...j(e)});class Rn extends Z{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return T(t,{received:t.data,code:x.invalid_literal,expected:this._def.value}),N}return{status:"valid",value:e.data}}get value(){return this._def.value}}Rn.create=(n,e)=>new Rn({value:n,typeName:S.ZodLiteral,...j(e)});function cs(n,e){return new Ye({values:n,typeName:S.ZodEnum,...j(e)})}class Ye extends Z{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return T(t,{expected:B.joinValues(r),received:t.parsedType,code:x.invalid_type}),N}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return T(t,{received:t.data,code:x.invalid_enum_value,options:r}),N}return ve(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ye.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ye.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Ye.create=cs;class hr extends Z{_parse(e){const t=B.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==k.string&&r.parsedType!==k.number){const s=B.objectValues(t);return T(r,{expected:B.joinValues(s),received:r.parsedType,code:x.invalid_type}),N}if(this._cache||(this._cache=new Set(B.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=B.objectValues(t);return T(r,{received:r.data,code:x.invalid_enum_value,options:s}),N}return ve(e.data)}get enum(){return this._def.values}}hr.create=(n,e)=>new hr({values:n,typeName:S.ZodNativeEnum,...j(e)});class Nn extends Z{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==k.promise&&t.common.async===!1)return T(t,{code:x.invalid_type,expected:k.promise,received:t.parsedType}),N;const r=t.parsedType===k.promise?t.data:Promise.resolve(t.data);return ve(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Nn.create=(n,e)=>new Nn({type:n,typeName:S.ZodPromise,...j(e)});class Xe extends Z{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===S.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{T(r,i),i.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);if(r.common.async)return Promise.resolve(i).then(async u=>{if(t.value==="aborted")return N;const p=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return p.status==="aborted"?N:p.status==="dirty"||t.value==="dirty"?Bt(p.value):p});{if(t.value==="aborted")return N;const u=this._def.schema._parseSync({data:i,path:r.path,parent:r});return u.status==="aborted"?N:u.status==="dirty"||t.value==="dirty"?Bt(u.value):u}}if(s.type==="refinement"){const i=u=>{const p=s.refinement(u,a);if(r.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?N:(u.status==="dirty"&&t.dirty(),i(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?N:(u.status==="dirty"&&t.dirty(),i(u.value).then(()=>({status:t.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bt(i))return N;const u=s.transform(i.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>bt(i)?Promise.resolve(s.transform(i.value,a)).then(u=>({status:t.value,value:u})):N);B.assertNever(s)}}Xe.create=(n,e,t)=>new Xe({schema:n,typeName:S.ZodEffects,effect:e,...j(t)}),Xe.createWithPreprocess=(n,e,t)=>new Xe({schema:e,effect:{type:"preprocess",transform:n},typeName:S.ZodEffects,...j(t)});class Me extends Z{_parse(e){return this._getType(e)===k.undefined?ve(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Me.create=(n,e)=>new Me({innerType:n,typeName:S.ZodOptional,...j(e)});class Qe extends Z{_parse(e){return this._getType(e)===k.null?ve(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qe.create=(n,e)=>new Qe({innerType:n,typeName:S.ZodNullable,...j(e)});class Dn extends Z{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===k.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Dn.create=(n,e)=>new Dn({innerType:n,typeName:S.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...j(e)});class Pn extends Z{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return In(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ne(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ne(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Pn.create=(n,e)=>new Pn({innerType:n,typeName:S.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...j(e)});class ds extends Z{_parse(e){if(this._getType(e)!==k.nan){const r=this._getOrReturnCtx(e);return T(r,{code:x.invalid_type,expected:k.nan,received:r.parsedType}),N}return{status:"valid",value:e.data}}}ds.create=n=>new ds({typeName:S.ZodNaN,...j(n)});class ls extends Z{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class mr extends Z{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?N:a.status==="dirty"?(t.dirty(),Bt(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?N:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new mr({in:e,out:t,typeName:S.ZodPipeline})}}class Mn extends Z{_parse(e){const t=this._def.innerType._parse(e),r=s=>(bt(s)&&(s.value=Object.freeze(s.value)),s);return In(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}Mn.create=(n,e)=>new Mn({innerType:n,typeName:S.ZodReadonly,...j(e)});var S;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(S||(S={}));const c=De.create,A=xt.create,et=ur.create,U=lr.create;Ue.create;const G=ke.create,m=ee.create,ps=An.create,fe=pr.create;Cn.create,Ke.create;const te=En.create,Oi=On.create,g=Rn.create,ie=Ye.create;Nn.create,Me.create,Qe.create;function Ri(){return{}}function Ni(n,e){var r,s;const t={type:"array"};return((s=(r=n.type)==null?void 0:r._def)==null?void 0:s.typeName)!==S.ZodAny&&(t.items=z(n.type._def,{...e,currentPath:[...e.currentPath,"items"]})),n.minLength&&H(t,"minItems",n.minLength.value,n.minLength.message,e),n.maxLength&&H(t,"maxItems",n.maxLength.value,n.maxLength.message,e),n.exactLength&&(H(t,"minItems",n.exactLength.value,n.exactLength.message,e),H(t,"maxItems",n.exactLength.value,n.exactLength.message,e)),t}function Di(n,e){const t={type:"integer",format:"int64"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?H(t,"minimum",r.value,r.message,e):H(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),H(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?H(t,"maximum",r.value,r.message,e):H(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),H(t,"maximum",r.value,r.message,e));break;case"multipleOf":H(t,"multipleOf",r.value,r.message,e);break}return t}function Pi(){return{type:"boolean"}}function Mi(n,e){return z(n.type._def,e)}const ji=(n,e)=>z(n.innerType._def,e);function fs(n,e,t){const r=t??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,a)=>fs(n,e,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return $i(n,e)}}const $i=(n,e)=>{const t={type:"integer",format:"unix-time"};if(e.target==="openApi3")return t;for(const r of n.checks)switch(r.kind){case"min":H(t,"minimum",r.value,r.message,e);break;case"max":H(t,"maximum",r.value,r.message,e);break}return t};function Fi(n,e){return{...z(n.innerType._def,e),default:n.defaultValue()}}function Li(n,e,t){return e.effectStrategy==="input"?z(n.schema._def,e,t):{}}function Zi(n){return{type:"string",enum:[...n.values]}}const Ui=n=>"type"in n&&n.type==="string"?!1:"allOf"in n;function qi(n,e){const t=[z(n.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),z(n.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(a=>!!a);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return t.forEach(a=>{if(Ui(a))s.push(...a.allOf),a.unevaluatedProperties===void 0&&(r=void 0);else{let i=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:u,...p}=a;i=p}else r=void 0;s.push(i)}}),s.length?{allOf:s,...r}:void 0}function Ji(n,e){const t=typeof n.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(n.value)?"array":"object"}:e.target==="openApi3"?{type:t==="bigint"?"integer":t,enum:[n.value]}:{type:t==="bigint"?"integer":t,const:n.value}}let gr;const tt={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(gr===void 0&&(gr=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),gr),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function hs(n,e){const t={type:"string"};function r(s){return e.patternStrategy==="escape"?Bi(s):s}if(n.checks)for(const s of n.checks)switch(s.kind){case"min":H(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,s.value):s.value,s.message,e);break;case"max":H(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,s.value):s.value,s.message,e);break;case"email":switch(e.emailStrategy){case"format:email":Se(t,"email",s.message,e);break;case"format:idn-email":Se(t,"idn-email",s.message,e);break;case"pattern:zod":Te(t,tt.email,s.message,e);break}break;case"url":Se(t,"uri",s.message,e);break;case"uuid":Se(t,"uuid",s.message,e);break;case"regex":Te(t,s.regex,s.message,e);break;case"cuid":Te(t,tt.cuid,s.message,e);break;case"cuid2":Te(t,tt.cuid2,s.message,e);break;case"startsWith":Te(t,RegExp(`^${r(s.value)}`),s.message,e);break;case"endsWith":Te(t,RegExp(`${r(s.value)}$`),s.message,e);break;case"datetime":Se(t,"date-time",s.message,e);break;case"date":Se(t,"date",s.message,e);break;case"time":Se(t,"time",s.message,e);break;case"duration":Se(t,"duration",s.message,e);break;case"length":H(t,"minLength",typeof t.minLength=="number"?Math.max(t.minLength,s.value):s.value,s.message,e),H(t,"maxLength",typeof t.maxLength=="number"?Math.min(t.maxLength,s.value):s.value,s.message,e);break;case"includes":{Te(t,RegExp(r(s.value)),s.message,e);break}case"ip":{s.version!=="v6"&&Se(t,"ipv4",s.message,e),s.version!=="v4"&&Se(t,"ipv6",s.message,e);break}case"emoji":Te(t,tt.emoji,s.message,e);break;case"ulid":{Te(t,tt.ulid,s.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{Se(t,"binary",s.message,e);break}case"contentEncoding:base64":{H(t,"contentEncoding","base64",s.message,e);break}case"pattern:zod":{Te(t,tt.base64,s.message,e);break}}break}case"nanoid":Te(t,tt.nanoid,s.message,e)}return t}const Bi=n=>Array.from(n).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),Se=(n,e,t,r)=>{var s;n.format||(s=n.anyOf)!=null&&s.some(a=>a.format)?(n.anyOf||(n.anyOf=[]),n.format&&(n.anyOf.push({format:n.format,...n.errorMessage&&r.errorMessages&&{errorMessage:{format:n.errorMessage.format}}}),delete n.format,n.errorMessage&&(delete n.errorMessage.format,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.anyOf.push({format:e,...t&&r.errorMessages&&{errorMessage:{format:t}}})):H(n,"format",e,t,r)},Te=(n,e,t,r)=>{var s;n.pattern||(s=n.allOf)!=null&&s.some(a=>a.pattern)?(n.allOf||(n.allOf=[]),n.pattern&&(n.allOf.push({pattern:n.pattern,...n.errorMessage&&r.errorMessages&&{errorMessage:{pattern:n.errorMessage.pattern}}}),delete n.pattern,n.errorMessage&&(delete n.errorMessage.pattern,Object.keys(n.errorMessage).length===0&&delete n.errorMessage)),n.allOf.push({pattern:ms(e,r),...t&&r.errorMessages&&{errorMessage:{pattern:t}}})):H(n,"pattern",ms(e,r),t,r)},ms=(n,e)=>{var d;const t=typeof n=="function"?n():n;if(!e.applyRegexFlags||!t.flags)return t.source;const r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},s=r.i?t.source.toLowerCase():t.source;let a="",i=!1,u=!1,p=!1;for(let l=0;l<s.length;l++){if(i){a+=s[l],i=!1;continue}if(r.i){if(u){if(s[l].match(/[a-z]/)){p?(a+=s[l],a+=`${s[l-2]}-${s[l]}`.toUpperCase(),p=!1):s[l+1]==="-"&&((d=s[l+2])!=null&&d.match(/[a-z]/))?(a+=s[l],p=!0):a+=`${s[l]}${s[l].toUpperCase()}`;continue}}else if(s[l].match(/[a-z]/)){a+=`[${s[l]}${s[l].toUpperCase()}]`;continue}}if(r.m){if(s[l]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(s[l]==="$"){a+=`($|(?=[\r
]))`;continue}}if(r.s&&s[l]==="."){a+=u?`${s[l]}\r
`:`[${s[l]}\r
]`;continue}a+=s[l],s[l]==="\\"?i=!0:u&&s[l]==="]"?u=!1:!u&&s[l]==="["&&(u=!0)}try{const l=new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return a};function gs(n,e){var r,s,a,i;if(e.target==="openApi3"&&((r=n.keyType)==null?void 0:r._def.typeName)===S.ZodEnum)return{type:"object",required:n.keyType._def.values,properties:n.keyType._def.values.reduce((u,p)=>({...u,[p]:z(n.valueType._def,{...e,currentPath:[...e.currentPath,"properties",p]})??{}}),{}),additionalProperties:!1};const t={type:"object",additionalProperties:z(n.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return t;if(((s=n.keyType)==null?void 0:s._def.typeName)===S.ZodString&&((a=n.keyType._def.checks)!=null&&a.length)){const u=Object.entries(hs(n.keyType._def,e)).reduce((p,[d,l])=>d==="type"?p:{...p,[d]:l},{});return{...t,propertyNames:u}}else if(((i=n.keyType)==null?void 0:i._def.typeName)===S.ZodEnum)return{...t,propertyNames:{enum:n.keyType._def.values}};return t}function Gi(n,e){if(e.mapStrategy==="record")return gs(n,e);const t=z(n.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=z(n.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[t,r],minItems:2,maxItems:2}}}function zi(n){const e=n.values,r=Object.keys(n.values).filter(a=>typeof e[e[a]]!="number").map(a=>e[a]),s=Array.from(new Set(r.map(a=>typeof a)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function Vi(){return{not:{}}}function Wi(n){return n.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const jn={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Hi(n,e){if(e.target==="openApi3")return _s(n,e);const t=n.options instanceof Map?Array.from(n.options.values()):n.options;if(t.every(r=>r._def.typeName in jn&&(!r._def.checks||!r._def.checks.length))){const r=t.reduce((s,a)=>{const i=jn[a._def.typeName];return i&&!s.includes(i)?[...s,i]:s},[]);return{type:r.length>1?r:r[0]}}else if(t.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=t.reduce((s,a)=>{const i=typeof a._def.value;switch(i){case"string":case"number":case"boolean":return[...s,i];case"bigint":return[...s,"integer"];case"object":if(a._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===t.length){const s=r.filter((a,i,u)=>u.indexOf(a)===i);return{type:s.length>1?s:s[0],enum:t.reduce((a,i)=>a.includes(i._def.value)?a:[...a,i._def.value],[])}}}else if(t.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:t.reduce((r,s)=>[...r,...s._def.values.filter(a=>!r.includes(a))],[])};return _s(n,e)}const _s=(n,e)=>{const t=(n.options instanceof Map?Array.from(n.options.values()):n.options).map((r,s)=>z(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return t.length?{anyOf:t}:void 0};function Ki(n,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(n.innerType._def.typeName)&&(!n.innerType._def.checks||!n.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:jn[n.innerType._def.typeName],nullable:!0}:{type:[jn[n.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=z(n.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const t=z(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return t&&{anyOf:[t,{type:"null"}]}}function Yi(n,e){const t={type:"number"};if(!n.checks)return t;for(const r of n.checks)switch(r.kind){case"int":t.type="integer",Xr(t,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?H(t,"minimum",r.value,r.message,e):H(t,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(t.exclusiveMinimum=!0),H(t,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?H(t,"maximum",r.value,r.message,e):H(t,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(t.exclusiveMaximum=!0),H(t,"maximum",r.value,r.message,e));break;case"multipleOf":H(t,"multipleOf",r.value,r.message,e);break}return t}function Xi(n,e){return e.removeAdditionalStrategy==="strict"?n.catchall._def.typeName==="ZodNever"?n.unknownKeys!=="strict":z(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:n.catchall._def.typeName==="ZodNever"?n.unknownKeys==="passthrough":z(n.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function Qi(n,e){const t={type:"object",...Object.entries(n.shape()).reduce((r,[s,a])=>{var p;if(a===void 0||a._def===void 0)return r;const i=[...e.currentPath,"properties",s],u=z(a._def,{...e,currentPath:i,propertyPath:i});if(u===void 0)return r;if(e.openaiStrictMode&&a.isOptional()&&!a.isNullable()&&typeof((p=a._def)==null?void 0:p.defaultValue)>"u")throw new Error(`Zod field at \`${i.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);return{properties:{...r.properties,[s]:u},required:a.isOptional()&&!e.openaiStrictMode?r.required:[...r.required,s]}},{properties:{},required:[]}),additionalProperties:Xi(n,e)};return t.required.length||delete t.required,t}const eo=(n,e)=>{if(e.propertyPath&&e.currentPath.slice(0,e.propertyPath.length).toString()===e.propertyPath.toString())return z(n.innerType._def,{...e,currentPath:e.currentPath});const t=z(n.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return t?{anyOf:[{not:{}},t]}:{}},to=(n,e)=>{if(e.pipeStrategy==="input")return z(n.in._def,e);if(e.pipeStrategy==="output")return z(n.out._def,e);const t=z(n.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=z(n.out._def,{...e,currentPath:[...e.currentPath,"allOf",t?"1":"0"]});return{allOf:[t,r].filter(s=>s!==void 0)}};function no(n,e){return z(n.type._def,e)}function ro(n,e){const r={type:"array",uniqueItems:!0,items:z(n.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return n.minSize&&H(r,"minItems",n.minSize.value,n.minSize.message,e),n.maxSize&&H(r,"maxItems",n.maxSize.value,n.maxSize.message,e),r}function so(n,e){return n.rest?{type:"array",minItems:n.items.length,items:n.items.map((t,r)=>z(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[]),additionalItems:z(n.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:n.items.length,maxItems:n.items.length,items:n.items.map((t,r)=>z(t._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((t,r)=>r===void 0?t:[...t,r],[])}}function ao(){return{not:{}}}function io(){return{}}const oo=(n,e)=>z(n.innerType._def,e);function z(n,e,t=!1){var i;const r=e.seen.get(n);if(e.override){const u=(i=e.override)==null?void 0:i.call(e,n,e,r,t);if(u!==ti)return u}if(r&&!t){const u=uo(r,e);if(u!==void 0)return"$ref"in u&&e.seenRefs.add(u.$ref),u}const s={def:n,path:e.currentPath,jsonSchema:void 0};e.seen.set(n,s);const a=lo(n,n.typeName,e,t);return a&&po(n,e,a),s.jsonSchema=a,a}const uo=(n,e)=>{switch(e.$refStrategy){case"root":return{$ref:n.path.join("/")};case"extract-to-root":const t=n.path.slice(e.basePath.length+1).join("_");return t!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[t]=n.def),{$ref:[...e.basePath,e.definitionPath,t].join("/")};case"relative":return{$ref:co(e.currentPath,n.path)};case"none":case"seen":return n.path.length<e.currentPath.length&&n.path.every((r,s)=>e.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},co=(n,e)=>{let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];t++);return[(n.length-t).toString(),...e.slice(t)].join("/")},lo=(n,e,t,r)=>{switch(e){case S.ZodString:return hs(n,t);case S.ZodNumber:return Yi(n,t);case S.ZodObject:return Qi(n,t);case S.ZodBigInt:return Di(n,t);case S.ZodBoolean:return Pi();case S.ZodDate:return fs(n,t);case S.ZodUndefined:return ao();case S.ZodNull:return Wi(t);case S.ZodArray:return Ni(n,t);case S.ZodUnion:case S.ZodDiscriminatedUnion:return Hi(n,t);case S.ZodIntersection:return qi(n,t);case S.ZodTuple:return so(n,t);case S.ZodRecord:return gs(n,t);case S.ZodLiteral:return Ji(n,t);case S.ZodEnum:return Zi(n);case S.ZodNativeEnum:return zi(n);case S.ZodNullable:return Ki(n,t);case S.ZodOptional:return eo(n,t);case S.ZodMap:return Gi(n,t);case S.ZodSet:return ro(n,t);case S.ZodLazy:return z(n.getter()._def,t);case S.ZodPromise:return no(n,t);case S.ZodNaN:case S.ZodNever:return Vi();case S.ZodEffects:return Li(n,t,r);case S.ZodAny:return Ri();case S.ZodUnknown:return io();case S.ZodDefault:return Fi(n,t);case S.ZodBranded:return Mi(n,t);case S.ZodReadonly:return oo(n,t);case S.ZodCatch:return ji(n,t);case S.ZodPipeline:return to(n,t);case S.ZodFunction:case S.ZodVoid:case S.ZodSymbol:return;default:return(s=>{})()}},po=(n,e,t)=>(n.description&&(t.description=n.description,e.markdownDescription&&(t.markdownDescription=n.description)),t),fo=(n,e)=>{const t=si(e),r=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,s=z(n._def,r===void 0?t:{...t,currentPath:[...t.basePath,t.definitionPath,r]},!1)??{},a=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;a!==void 0&&(s.title=a);const i=(()=>{if(ri(t.definitions))return;const p={},d=new Set;for(let l=0;l<500;l++){const f=Object.entries(t.definitions).filter(([h])=>!d.has(h));if(f.length===0)break;for(const[h,v]of f)p[h]=z(ar(v),{...t,currentPath:[...t.basePath,t.definitionPath,h]},!0)??{},d.add(h)}return p})(),u=r===void 0?i?{...s,[t.definitionPath]:i}:s:t.nameStrategy==="duplicate-ref"?{...s,...i||t.seenRefs.size?{[t.definitionPath]:{...i,...t.seenRefs.size?{[r]:s}:void 0}}:void 0}:{$ref:[...t.$refStrategy==="relative"?[]:t.basePath,t.definitionPath,r].join("/"),[t.definitionPath]:{...i,[r]:s}};return t.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":t.target==="jsonSchema2019-09"&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),u};function ho(n,{parser:e,callback:t}){const r={...n};return Object.defineProperties(r,{$brand:{value:"auto-parseable-tool",enumerable:!1},$parseRaw:{value:e,enumerable:!1},$callback:{value:t,enumerable:!1}}),r}function ys(n,e){return fo(n,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function mo(n,e,t){return Tn({type:"json_schema",...t,name:e,strict:!0,schema:ys(n,{name:e})},r=>n.parse(JSON.parse(r)))}function go(n){return ho({type:"function",name:n.name,parameters:ys(n.parameters,{name:n.name}),strict:!0},{callback:n.function,parser:e=>n.parameters.parse(JSON.parse(e))})}class qe extends Error{constructor(t,r){super(t);_(this,"state");this.state=r}}class _o extends qe{}class vs extends qe{}class he extends qe{}class ne extends qe{}class ws extends qe{constructor(t,r,s){super(t,s);_(this,"error");this.error=r}}class yo extends qe{constructor(t,r,s){super(t,s);_(this,"error");this.error=r}}class bs extends qe{constructor(t,r,s){super(t,s);_(this,"result");this.result=r}}class $n extends qe{constructor(t,r,s){super(t,s);_(this,"result");this.result=r}}function nt(n){return typeof n=="object"&&n!==null&&"_def"in n&&typeof n._def=="object"&&n._def!==null&&"typeName"in n._def&&n._def.typeName==="ZodObject"}function vo(n){return typeof n=="object"&&n!==null&&"input"in n&&typeof n.input=="string"}function Fn(n){if(n=n.replace(/\s/g,"_"),n=n.replace(/[^a-zA-Z0-9]/g,"_"),n.length===0)throw new Error("Tool name cannot be empty");return n}function _r(n,e){const t=r=>JSON.parse(r);if(nt(n)){const r=go({name:e,parameters:n,function:()=>{}});return{schema:r.parameters,parser:r.$parseRaw}}else if(typeof n=="object"&&n!==null)return{schema:n,parser:t};throw new ne("Input type is not a ZodObject or a valid JSON schema")}function xs(n){if(n==="text")return"text";if(nt(n)){const e=mo(n,"output");return{type:e.type,name:e.name,strict:e.strict||!1,schema:e.schema}}return n}function wo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ln={exports:{}},yr,Ss;function bo(){if(Ss)return yr;Ss=1;var n=1e3,e=n*60,t=e*60,r=t*24,s=r*7,a=r*365.25;yr=function(l,f){f=f||{};var h=typeof l;if(h==="string"&&l.length>0)return i(l);if(h==="number"&&isFinite(l))return f.long?p(l):u(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function i(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var h=parseFloat(f[1]),v=(f[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return h*a;case"weeks":case"week":case"w":return h*s;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*t;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function u(l){var f=Math.abs(l);return f>=r?Math.round(l/r)+"d":f>=t?Math.round(l/t)+"h":f>=e?Math.round(l/e)+"m":f>=n?Math.round(l/n)+"s":l+"ms"}function p(l){var f=Math.abs(l);return f>=r?d(l,f,r,"day"):f>=t?d(l,f,t,"hour"):f>=e?d(l,f,e,"minute"):f>=n?d(l,f,n,"second"):l+" ms"}function d(l,f,h,v){var w=f>=h*1.5;return Math.round(l/h)+" "+v+(w?"s":"")}return yr}var vr,Ts;function xo(){if(Ts)return vr;Ts=1;function n(e){r.debug=r,r.default=r,r.coerce=d,r.disable=u,r.enable=a,r.enabled=p,r.humanize=bo(),r.destroy=l,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let h=0;for(let v=0;v<f.length;v++)h=(h<<5)-h+f.charCodeAt(v),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=t;function r(f){let h,v=null,w,b;function O(...R){if(!O.enabled)return;const F=O,V=Number(new Date),q=V-(h||V);F.diff=q,F.prev=h,F.curr=V,h=V,R[0]=r.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let J=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(ye,qt)=>{if(ye==="%%")return"%";J++;const Sn=r.formatters[qt];if(typeof Sn=="function"){const tr=R[J];ye=Sn.call(F,tr),R.splice(J,1),J--}return ye}),r.formatArgs.call(F,R),(F.log||r.log).apply(F,R)}return O.namespace=f,O.useColors=r.useColors(),O.color=r.selectColor(f),O.extend=s,O.destroy=r.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(w!==r.namespaces&&(w=r.namespaces,b=r.enabled(f)),b),set:R=>{v=R}}),typeof r.init=="function"&&r.init(O),O}function s(f,h){const v=r(this.namespace+(typeof h>"u"?":":h)+f);return v.log=this.log,v}function a(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];const h=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of h)v[0]==="-"?r.skips.push(v.slice(1)):r.names.push(v)}function i(f,h){let v=0,w=0,b=-1,O=0;for(;v<f.length;)if(w<h.length&&(h[w]===f[v]||h[w]==="*"))h[w]==="*"?(b=w,O=v,w++):(v++,w++);else if(b!==-1)w=b+1,O++,v=O;else return!1;for(;w<h.length&&h[w]==="*";)w++;return w===h.length}function u(){const f=[...r.names,...r.skips.map(h=>"-"+h)].join(",");return r.enable(""),f}function p(f){for(const h of r.skips)if(i(f,h))return!1;for(const h of r.names)if(i(f,h))return!0;return!1}function d(f){return f instanceof Error?f.stack||f.message:f}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return vr=n,vr}var Is;function So(){return Is||(Is=1,(function(n,e){e.formatArgs=r,e.save=s,e.load=a,e.useColors=t,e.storage=i(),e.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let p;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(p=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(p[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;p.splice(1,0,d,"color: inherit");let l=0,f=0;p[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(l++,h==="%c"&&(f=l))}),p.splice(f,0,d)}e.log=console.debug||console.log||(()=>{});function s(p){try{p?e.storage.setItem("debug",p):e.storage.removeItem("debug")}catch{}}function a(){let p;try{p=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=process.env.DEBUG),p}function i(){try{return localStorage}catch{}}n.exports=xo()(e);const{formatters:u}=n.exports;u.j=function(p){try{return JSON.stringify(p)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(Ln,Ln.exports)),Ln.exports}var To=So();const Io=wo(To);function ks(){return No()}function As(n){const e=ks();return typeof e<"u"&&(e[n]==="true"||e[n]==="1")}const Cs={get disabled(){return!0}},Es={get dontLogModelData(){return As("OPENAI_AGENTS_DONT_LOG_MODEL_DATA")},get dontLogToolData(){return As("OPENAI_AGENTS_DONT_LOG_TOOL_DATA")}},ko=Es.dontLogModelData,Ao=Es.dontLogToolData;function Os(n="openai-agents"){return{namespace:n,debug:Io(n),error:console.error,warn:console.warn,dontLogModelData:ko,dontLogToolData:Ao}}const E=Os("openai-agents:core");function Je(n){if(n==null)return String(n);if(typeof n=="string")return n;if(typeof n=="object")try{return JSON.stringify(n)}catch{return"[object with circular references]"}return String(n)}function Co(n,e){return`An error occurred while running the tool. Please try again. Error: ${e instanceof Error?e.toString():String(e)}`}function Zn(n){const e=n.name?Fn(n.name):Fn(n.execute.name),t=typeof n.errorFunction>"u"?Co:n.errorFunction;if(!e)throw new Error("Tool name cannot be empty. Either name your function or provide a name in the options.");const r=n.strict??!0;if(!r&&nt(n.parameters))throw new ne("Strict mode is required for Zod parameters");const{parser:s,schema:a}=_r(n.parameters,e);async function i(d,l,f){const[h,v]=await Q(()=>s(l));if(h!==null)throw E.dontLogToolData?E.debug(`Invalid JSON input for tool ${e}`):E.debug(`Invalid JSON input for tool ${e}: ${l}`),new he("Invalid JSON input for tool");E.dontLogToolData?E.debug(`Invoking tool ${e}`):E.debug(`Invoking tool ${e} with input ${l}`);const w=await n.execute(v,d,f),b=Je(w);return E.dontLogToolData?E.debug(`Tool ${e} completed`):E.debug(`Tool ${e} returned: ${b}`),w}async function u(d,l,f){return i(d,l,f).catch(h=>{if(t){const v=Wt();return v==null||v.setError({message:"Error running tool (non-fatal)",data:{tool_name:e,error:h.toString()}}),t(d,h)}throw h})}const p=typeof n.needsApproval=="function"?n.needsApproval:async()=>typeof n.needsApproval=="boolean"?n.needsApproval:!1;return{type:"function",name:e,description:n.description,parameters:a,strict:r,invoke:u,needsApproval:p}}m({name:c(),description:c().optional(),inputSchema:m({type:g("object"),properties:te(c(),U()),required:G(c()),additionalProperties:et()})});const wr={};async function Eo({server:n,convertSchemasToStrict:e,runContext:t,agent:r}){return n.cacheToolsList&&wr[n.name]?wr[n.name].map(s=>Rs(s,n,e)):tu(async s=>{const a=await n.listTools();let i=a;if(t&&r){const p={runContext:t,agent:r,serverName:n.name},d=[];for(const l of a){const f=n.toolFilter;if(f)if(typeof f=="function"){if(!await f(p,l)){E.debug(`MCP Tool (server: ${n.name}, tool: ${l.name}) is blocked by the callable filter.`);continue}}else{const h=f.allowedToolNames??[],v=f.blockedToolNames??[];if(h.length>0||v.length>0){const w=h.length>0?h.includes(l.name):!0,b=v.length>0?v.includes(l.name):!1;if(!w||b){b?E.debug(`MCP Tool (server: ${n.name}, tool: ${l.name}) is blocked by the static filter.`):w||E.debug(`MCP Tool (server: ${n.name}, tool: ${l.name}) is not allowed by the static filter.`);continue}}}d.push(l)}i=d}s.spanData.result=i.map(p=>p.name);const u=i.map(p=>Rs(p,n,e));return n.cacheToolsList&&(wr[n.name]=i),u},{data:{server:n.name}})}async function Oo(n,e,t,r=!1){const s=Array.isArray(n)?{mcpServers:n,runContext:e,agent:t,convertSchemasToStrict:r}:n,{mcpServers:a,convertSchemasToStrict:i=!1,runContext:u,agent:p}=s,d=[],l=new Set;for(const f of a){const h=await Eo({server:f,convertSchemasToStrict:i,runContext:u,agent:p}),w=[...new Set(h.map(b=>b.name))].filter(b=>l.has(b));if(w.length>0)throw new ne(`Duplicate tool names found across MCP servers: ${w.join(", ")}`);for(const b of h)l.add(b.name),d.push(b)}return d}function Rs(n,e,t){var i,u,p,d;async function r(l,f){let h={};typeof l=="string"&&l?h=JSON.parse(l):typeof l=="object"&&l!=null&&(h=l);const v=Wt();v&&(v.spanData.mcp_data={server:e.name});const w=await e.callTool(n.name,h);return w.length===1?w[0]:w}const s={...n.inputSchema,type:((i=n.inputSchema)==null?void 0:i.type)??"object",properties:((u=n.inputSchema)==null?void 0:u.properties)??{},required:((p=n.inputSchema)==null?void 0:p.required)??[],additionalProperties:((d=n.inputSchema)==null?void 0:d.additionalProperties)??!1};if(t||s.additionalProperties===!0)try{const l=Ro(s);return Zn({name:n.name,description:n.description||"",parameters:l,strict:!0,execute:r})}catch(l){E.warn(`Error converting MCP schema to strict mode: ${l}`)}const a={...s,additionalProperties:!0};return Zn({name:n.name,description:n.description||"",parameters:a,strict:!1,execute:r})}function Ro(n){const e={...n,additionalProperties:!1};return e.required||(e.required=[]),e}function No(){return{}}class Un{constructor(){I(this,Ct,new EventTarget);I(this,ct,new Map)}on(e,t){const r=e;let s=o(this,ct).get(r);s||(s=new Map,o(this,ct).set(r,s));let a=s.get(t);a||(a=new Set,s.set(t,a));const i=(u=>t(...u.detail??[]));return a.add(i),o(this,Ct).addEventListener(r,i),this}off(e,t){const r=e,s=o(this,ct).get(r),a=s==null?void 0:s.get(t);if(a!=null&&a.size){for(const i of a)o(this,Ct).removeEventListener(r,i);s==null||s.delete(t),(s==null?void 0:s.size)===0&&o(this,ct).delete(r)}return this}emit(e,...t){const r=new CustomEvent(e,{detail:t});return o(this,Ct).dispatchEvent(r)}once(e,t){const r=(...s)=>{this.off(e,r),t(...s)};return this.on(e,r),this}}Ct=new WeakMap,ct=new WeakMap;const Ns=crypto.randomUUID.bind(crypto),Do=class{constructor(){}pipeTo(e,t){}pipeThrough(e,t){}},Po=globalThis.ReadableStream,Mo=globalThis.TransformStream;class jo{constructor(){_(this,"context",null)}run(e,t){return this.context=e,t()}getStore(){return this.context}enterWith(e){this.context=e}}class $o{constructor(){}setTimeout(e,t){const r=setTimeout(e,t);return r.ref=typeof r.ref=="function"?r.ref:()=>r,r.unref=typeof r.unref=="function"?r.unref:()=>r,r.hasRef=typeof r.hasRef=="function"?r.hasRef:()=>!0,r.refresh=typeof r.refresh=="function"?r.refresh:()=>r,r}clearTimeout(e){window.clearTimeout(e)}}const Fo=new $o;let Ds;function Ae(){return Ds??(Ds=new jo),Ds}function Vt(){const n=Ae().getStore();return n!=null&&n.trace?n.trace:null}function Wt(){const n=Ae().getStore();return n!=null&&n.span?n.span:null}function Ps(n){return async()=>{const e=Vt();if(!e)throw new Error("No trace found");await e.start();const t=await n(e);return await e.end(),t}}async function Lo(n,e,t={}){const r=typeof n=="string"?Ce().createTrace({...t,name:n}):n;return Ae().run({trace:r},Ps(e))}async function Zo(n,e={}){if(Vt())return await n();const r=Ce().createTrace(e);return Ae().run({trace:r},Ps(n))}function qn(n){const e=Ae().getStore();if(!e)throw new Error("No existing trace found");e.span&&(e.span.previousSpan=e.previousSpan,e.previousSpan=e.span),e.span=n,Ae().enterWith(e)}function Ht(){var e;const n=Ae().getStore();n&&(n.span=n.previousSpan,n.previousSpan=(e=n.previousSpan)==null?void 0:e.previousSpan,Ae().enterWith(n))}function Tt(n){const e=Wt();e&&e.setError(n)}function Uo(n){var e,t,r;return{trace:(e=n.trace)==null?void 0:e.clone(),span:(t=n.span)==null?void 0:t.clone(),previousSpan:(r=n.previousSpan)==null?void 0:r.clone()}}function br(n){const e=Ae().getStore();if(!e)throw new Error("No existing trace found");const t=Uo(e);return Ae().run(t,n)}class qo{async export(e){if(Cs.disabled){E.debug("Tracing is disabled. Skipping export");return}for(const t of e)t.type==="trace"?console.log(`[Exporter] Export trace traceId=${t.traceId} name=${t.name}${t.groupId?` groupId=${t.groupId}`:""}`):console.log(`[Exporter] Export span: ${JSON.stringify(t)}`)}}class Jo{constructor(e,{maxQueueSize:t=1e3,maxBatchSize:r=100,scheduleDelay:s=5e3,exportTriggerRatio:a=.8}={}){I(this,le);I(this,nn);I(this,Et);I(this,rn);I(this,sn);I(this,Ot);I(this,ue,[]);I(this,je);I(this,Ge,null);I(this,ze,!1);I(this,Rt,null);y(this,nn,t),y(this,Et,r),y(this,rn,s),y(this,sn,t*a),y(this,Ot,e),y(this,je,Fo),E.debug("Automatic trace export loop is not supported in this environment. You need to manually call `getGlobalTraceProvider().forceFlush()` to export traces.")}start(){y(this,Rt,new AbortController),L(this,le,Br).call(this)}async onTraceStart(e){await L(this,le,Jr).call(this,e)}async onTraceEnd(e){}async onSpanStart(e){}async onSpanEnd(e){await L(this,le,Jr).call(this,e)}async shutdown(e){var t;for(e&&o(this,je).setTimeout(()=>{var r;(r=o(this,Rt))==null||r.abort()},e),E.debug("Shutting down gracefully");o(this,ue).length>0;){if(E.debug(`Waiting for buffer to empty. Items left: ${o(this,ue).length}`),o(this,ze)||await L(this,le,Jt).call(this,!0),(t=o(this,Rt))!=null&&t.signal.aborted){E.debug("Timeout reached, force flushing"),await L(this,le,Jt).call(this,!0);break}await new Promise(r=>o(this,je).setTimeout(r,500))}E.debug("Buffer empty. Exiting"),o(this,je)&&o(this,Ge)&&o(this,je).clearTimeout(o(this,Ge))}async forceFlush(){o(this,ue).length>0&&await L(this,le,Jt).call(this,!0)}}nn=new WeakMap,Et=new WeakMap,rn=new WeakMap,sn=new WeakMap,Ot=new WeakMap,ue=new WeakMap,je=new WeakMap,Ge=new WeakMap,ze=new WeakMap,Rt=new WeakMap,le=new WeakSet,Jr=async function(e){if(o(this,ue).length+1>o(this,nn)){E.error("Dropping trace because buffer is full");return}o(this,ue).push(e),o(this,ue).length>o(this,sn)&&await L(this,le,Jt).call(this)},Br=function(){y(this,Ge,o(this,je).setTimeout(async()=>{await L(this,le,Jt).call(this),L(this,le,Br).call(this)},o(this,rn))),typeof o(this,Ge).unref=="function"&&o(this,Ge).unref()},Jt=async function(e=!1){if(o(this,ue).length!==0){if(E.debug(`Exporting batches. Force: ${e}. Buffer size: ${o(this,ue).length}`),e||o(this,ue).length<o(this,Et)){const t=[...o(this,ue)];y(this,ue,[]),y(this,ze,!0),await o(this,Ot).export(t),y(this,ze,!1)}else if(o(this,ue).length>0){const t=o(this,ue).splice(0,o(this,Et));y(this,ze,!0),await o(this,Ot).export(t),y(this,ze,!1)}}};class Bo{constructor(){I(this,me,[])}start(){for(const e of o(this,me))e.start&&e.start()}addTraceProcessor(e){o(this,me).push(e)}setProcessors(e){E.debug("Shutting down old processors");for(const t of o(this,me))t.shutdown();y(this,me,e)}async onTraceStart(e){for(const t of o(this,me))await t.onTraceStart(e)}async onTraceEnd(e){for(const t of o(this,me))await t.onTraceEnd(e)}async onSpanStart(e){for(const t of o(this,me))await t.onSpanStart(e)}async onSpanEnd(e){for(const t of o(this,me))await t.onSpanEnd(e)}async shutdown(e){for(const t of o(this,me))await t.shutdown(e)}async forceFlush(){for(const e of o(this,me))await e.forceFlush()}}me=new WeakMap;let xr=null,Sr=null;function Go(){return xr||(xr=new qo),xr}function Ms(){return Sr||(Sr=new Jo(Go())),Sr}function js(){return new Date().toISOString()}function $s(){return`trace_${Ns().replace(/-/g,"")}`}function zo(){return`span_${Ns().replace(/-/g,"").slice(0,24)}`}function Vo(n){return Object.fromEntries(Object.entries(n).filter(([e])=>!e.startsWith("_")))}const Lr=class Lr{constructor(e,t){_(this,"type","trace.span");I(this,an);I(this,on);I(this,un);I(this,cn);I(this,dt);I(this,Ve);I(this,We);I(this,lt);I(this,dn);y(this,on,e.traceId),y(this,un,e.spanId??zo()),y(this,an,e.data),y(this,dt,t),y(this,cn,e.parentId??null),y(this,lt,e.error??null),y(this,Ve,e.startedAt??null),y(this,We,e.endedAt??null)}get traceId(){return o(this,on)}get spanData(){return o(this,an)}get spanId(){return o(this,un)}get parentId(){return o(this,cn)}get previousSpan(){return o(this,dn)}set previousSpan(e){y(this,dn,e)}start(){if(o(this,Ve)){E.warn("Span already started");return}y(this,Ve,js()),o(this,dt).onSpanStart(this)}end(){if(o(this,We)){E.debug("Span already finished",this.spanData);return}y(this,We,js()),o(this,dt).onSpanEnd(this)}setError(e){y(this,lt,e)}get error(){return o(this,lt)}get startedAt(){return o(this,Ve)}get endedAt(){return o(this,We)}clone(){var t;const e=new Lr({traceId:this.traceId,spanId:this.spanId,parentId:this.parentId??void 0,data:this.spanData,startedAt:o(this,Ve)??void 0,endedAt:o(this,We)??void 0,error:o(this,lt)??void 0},o(this,dt));return e.previousSpan=(t=this.previousSpan)==null?void 0:t.clone(),e}toJSON(){return{object:this.type,id:this.spanId,trace_id:this.traceId,parent_id:this.parentId,started_at:this.startedAt,ended_at:this.endedAt,span_data:Vo(this.spanData),error:this.error}}};an=new WeakMap,on=new WeakMap,un=new WeakMap,cn=new WeakMap,dt=new WeakMap,Ve=new WeakMap,We=new WeakMap,lt=new WeakMap,dn=new WeakMap;let Kt=Lr;class Be extends Kt{constructor(e,t){super({traceId:"no-op",spanId:"no-op",data:e},t)}start(){}end(){}setError(){}toJSON(){return null}}const Zr=class Zr{constructor(e,t){_(this,"type","trace");_(this,"traceId");_(this,"name");_(this,"groupId",null);_(this,"metadata");I(this,Nt);I(this,$e);this.traceId=e.traceId??$s(),this.name=e.name??"Agent workflow",this.groupId=e.groupId??null,this.metadata=e.metadata??{},y(this,Nt,t??Ms()),y(this,$e,e.started??!1)}async start(){o(this,$e)||(y(this,$e,!0),await o(this,Nt).onTraceStart(this))}async end(){o(this,$e)&&(y(this,$e,!1),await o(this,Nt).onTraceEnd(this))}clone(){return new Zr({traceId:this.traceId,name:this.name,groupId:this.groupId??void 0,metadata:this.metadata,started:o(this,$e)})}toJSON(){return{object:this.type,id:this.traceId,workflow_name:this.name,group_id:this.groupId,metadata:this.metadata}}};Nt=new WeakMap,$e=new WeakMap;let Yt=Zr;class Tr extends Yt{constructor(){super({})}async start(){}async end(){}toJSON(){return null}}class Wo{constructor(){I(this,Qn);I(this,oe);I(this,pt);y(this,oe,new Bo),y(this,pt,Cs.disabled),L(this,Qn,Ha).call(this)}registerProcessor(e){o(this,oe).addTraceProcessor(e)}setProcessors(e){o(this,oe).setProcessors(e)}getCurrentTrace(){return Vt()}getCurrentSpan(){return Wt()}setDisabled(e){y(this,pt,e)}startExportLoop(){o(this,oe).start()}createTrace(e){if(o(this,pt))return E.debug("Tracing is disabled, Not creating trace %o",e),new Tr;const t=e.traceId??$s(),r=e.name??"Agent workflow";return E.debug("Creating trace %s with name %s",t,r),new Yt({...e,name:r,traceId:t},o(this,oe))}createSpan(e,t){if(o(this,pt)||e.disabled)return E.debug("Tracing is disabled, Not creating span %o",e),new Be(e.data,o(this,oe));let r,s;if(t){if(t instanceof Yt){if(t instanceof Tr)return E.debug("Parent trace is no-op, returning NoopSpan"),new Be(e.data,o(this,oe));s=t.traceId}else if(t instanceof Kt){if(t instanceof Be)return E.debug("Parent span is no-op, returning NoopSpan"),new Be(e.data,o(this,oe));r=t.spanId,s=t.traceId}}else{const a=Vt(),i=Wt();if(!a)return E.error("No active trace. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."),new Be(e.data,o(this,oe));if(i instanceof Be||a instanceof Tr)return E.debug(`Parent ${i} or ${a} is no-op, returning NoopSpan`),new Be(e.data,o(this,oe));s=a.traceId,i?(E.debug("Using parent span %s",i.spanId),r=i.spanId):E.debug("No parent span, using current trace %s",a.traceId)}return s?(E.debug(`Creating span ${JSON.stringify(e.data)} with id ${e.spanId??s}`),new Kt({...e,traceId:s,parentId:r},o(this,oe))):(E.error("No traceId found. Make sure to start a trace with `withTrace()` first. Returning NoopSpan."),new Be(e.data,o(this,oe)))}async shutdown(e){try{E.debug("Shutting down tracing provider"),await o(this,oe).shutdown(e)}catch(t){E.error("Error shutting down tracing provider %o",t)}}async forceFlush(){await o(this,oe).forceFlush()}}oe=new WeakMap,pt=new WeakMap,Qn=new WeakSet,Ha=function(){if(typeof process<"u"&&typeof process.on=="function"){const e=async()=>{const t=setTimeout(()=>{console.warn("Cleanup timeout, forcing exit"),process.exit(1)},5e3);try{await this.shutdown()}finally{clearTimeout(t)}};process.on("beforeExit",e),process.on("SIGINT",async()=>{await e(),Fs("SIGINT")||process.exit(130)}),process.on("SIGTERM",async()=>{await e(),Fs("SIGTERM")||process.exit(0)}),process.on("unhandledRejection",async(t,r)=>{E.error("Unhandled rejection",t,r),await e(),Ho("unhandledRejection")||process.exit(1)})}};function Fs(n){return process.listeners(n).length>1}function Ho(n){return process.listeners(n).length>1}let Ir;function Ce(){return Ir||(Ir=new Wo),Ir}function Jn(n){return async(e,...t)=>br(async()=>{const r=n(...t);qn(r);try{return r.start(),await e(r)}catch(s){throw r.setError({message:s.message,data:s.data}),s}finally{r.end(),Ht()}})}function Ls(n,e){var t;return Ce().createSpan({...n,data:{type:"agent",name:((t=n==null?void 0:n.data)==null?void 0:t.name)??"Agent",...n==null?void 0:n.data}},e)}function Ko(n,e){var t,r;return Ce().createSpan({...n,data:{type:"function",input:((t=n==null?void 0:n.data)==null?void 0:t.input)??"",output:((r=n==null?void 0:n.data)==null?void 0:r.output)??"",...n==null?void 0:n.data}},e)}const Zs=Jn(Ko);function Yo(n,e){return Ce().createSpan({...n,data:{type:"handoff",...n==null?void 0:n.data}},e)}const Xo=Jn(Yo);function Qo(n,e){return Ce().createSpan({...n,data:{type:"guardrail",triggered:!1,...n==null?void 0:n.data}},e)}const Us=Jn(Qo);function eu(n,e){return Ce().createSpan({...n,data:{type:"mcp_tools",...n==null?void 0:n.data}},e)}const tu=Jn(eu);function nu(n){Ce().registerProcessor(n)}class kr{on(e,t){return this.eventEmitter.on(e,t),this.eventEmitter}off(e,t){return this.eventEmitter.off(e,t),this.eventEmitter}emit(e,...t){return this.eventEmitter.emit(e,...t)}once(e,t){return this.eventEmitter.once(e,t),this.eventEmitter}}class ru extends kr{constructor(){super(...arguments);_(this,"eventEmitter",new Un)}}class su extends kr{constructor(){super(...arguments);_(this,"eventEmitter",new Un)}}const au="OPENAI_DEFAULT_MODEL";function Bn(n){return n.startsWith("gpt-5-chat")?!1:n.startsWith("gpt-5")}function qs(){return Bn(Js())}function Js(){var e;return((e=ks()[au])==null?void 0:e.toLowerCase())??"gpt-4.1"}function iu(n){const e=Js();return Bn(e)?{providerData:{reasoning:{effort:"low"},text:{verbosity:"low"}}}:{}}function Bs({name:n,execute:e}){return{type:"input",name:n,guardrailFunction:e,async run(t){return{guardrail:{type:"input",name:n},output:await e(t)}}}}function Ar({name:n,execute:e}){return{type:"output",name:n,guardrailFunction:e,async run(t){return{guardrail:{type:"output",name:n},agent:t.agent,agentOutput:t.agentOutput,output:await e(t)}}}}function Gs(n){return JSON.stringify({assistant:n.name})}function ou(n){return`transfer_to_${Fn(n.name)}`}function uu(n){return`Handoff to the ${n.name} agent to handle the request. ${n.handoffDescription??""}`}class zs{constructor(e,t){_(this,"toolName");_(this,"toolDescription");_(this,"inputJsonSchema",{type:"object",properties:{},required:[],additionalProperties:!1});_(this,"strictJsonSchema",!0);_(this,"onInvokeHandoff");_(this,"agentName");_(this,"inputFilter");_(this,"agent");this.agentName=e.name,this.onInvokeHandoff=t,this.toolName=ou(e),this.toolDescription=uu(e),this.agent=e}getHandoffAsFunctionTool(){return{type:"function",name:this.toolName,description:this.toolDescription,parameters:this.inputJsonSchema,strict:this.strictJsonSchema}}}function Vs(n,e={}){let t;const r=!!e.onHandoff,s=!!e.inputType;if(!(r===s))throw new ne("You must provide either both `onHandoff` and `inputType` or neither.");async function i(p,d){var l;if(t){if(!d)throw Tt({message:`Handoff function expected non empty input but got: ${d}`,data:{details:"input is empty"}}),new he("Handoff function expected non empty input");try{const f=await t(d);e.onHandoff&&await e.onHandoff(p,f)}catch(f){throw Tt({message:"Invalid JSON provided",data:{}}),E.dontLogToolData||E.error(`Invalid JSON when parsing: ${d}. Error: ${f}`),new he("Invalid JSON provided")}}else await((l=e.onHandoff)==null?void 0:l.call(e,p));return n}const u=new zs(n,i);if(e.inputType){const p=_r(e.inputType,u.toolName);u.inputJsonSchema=p.schema,u.strictJsonSchema=!0,t=p.parser}return e.toolNameOverride&&(u.toolName=e.toolNameOverride),e.toolDescriptionOverride&&(u.toolDescription=e.toolDescriptionOverride),e.inputFilter&&(u.inputFilter=e.inputFilter),u}function Gn(n){return n instanceof zs?n:Vs(n)}function cu(){throw new Error("No default model provider set. Make sure to set a provider using setDefaultModelProvider before calling getDefaultModelProvider or pass an explicit provider.")}const re=m({providerData:te(c(),U()).optional()}),rt=re.extend({id:c().optional()}),du=re.extend({type:g("refusal"),refusal:c()}),lu=re.extend({type:g("output_text"),text:c()}),Ws=re.extend({type:g("input_text"),text:c()}),pu=re.extend({type:g("reasoning_text"),text:c()}),fu=re.extend({type:g("input_image"),image:c().or(m({id:c()})).describe("Could be a URL, base64 or an object with a file ID.")}),hu=re.extend({type:g("input_file"),file:c().describe("Either base64 encoded file data or a publicly accessible file URL").or(m({id:c().describe("OpenAI file ID")})).or(m({url:c().describe("Publicly accessible PDF file URL")})).describe("Contents of the file or an object with a file ID.")}),Hs=re.extend({type:g("audio"),audio:c().or(m({id:c()})).describe("Base64 encoded audio data or file id"),format:c().nullable().optional(),transcript:c().nullable().optional()}),mu=re.extend({type:g("image"),image:c().describe("Base64 encoded image data")}),gu=re.extend({type:g("text"),text:c()}),_u=re.extend({type:g("image"),data:c().describe("Base64 encoded image data"),mediaType:c().describe("IANA media type of the image")}),yu=re.extend({type:g("computer_screenshot"),data:c().describe("Base64 encoded image data or URL")}),vu=fe("type",[m({type:g("screenshot")}),m({type:g("click"),x:A(),y:A(),button:ie(["left","right","wheel","back","forward"])}),m({type:g("double_click"),x:A(),y:A()}),m({type:g("scroll"),x:A(),y:A(),scroll_x:A(),scroll_y:A()}),m({type:g("type"),text:c()}),m({type:g("wait")}),m({type:g("move"),x:A(),y:A()}),m({type:g("keypress"),keys:G(c())}),m({type:g("drag"),path:G(m({x:A(),y:A()}))})]),wu=fe("type",[lu,du,Hs,mu]),Cr=rt.extend({type:g("message").optional()}),zn=Cr.extend({role:g("assistant"),status:ie(["in_progress","completed","incomplete"]),content:G(wu)}),bu=fe("type",[Ws,fu,hu,Hs]),Ks=Cr.extend({role:g("user"),content:G(bu).or(c())}),Ys=Cr.extend({role:g("system"),content:c()});fe("role",[Ys,zn,Ks]);const Xt=rt.extend({type:g("hosted_tool_call"),name:c().describe("The name of the hosted tool"),arguments:c().describe("The arguments of the hosted tool call").optional(),status:c().optional(),output:c().optional()}),Qt=rt.extend({type:g("function_call"),callId:c().describe("The ID of the tool call"),name:c().describe("The name of the function"),status:ie(["in_progress","completed","incomplete"]).optional(),arguments:c()}),Er=rt.extend({type:g("function_call_result"),name:c().describe("The name of the tool"),callId:c().describe("The ID of the tool call"),status:ie(["in_progress","completed","incomplete"]),output:fe("type",[gu,_u])}),Or=rt.extend({type:g("computer_call"),callId:c().describe("The ID of the computer call"),status:ie(["in_progress","completed","incomplete"]),action:vu}),xu=rt.extend({type:g("computer_call_result"),callId:c().describe("The ID of the computer call"),output:yu}),Su=fe("type",[Or,Qt,Xt]),Rr=re.extend({id:c().optional(),type:g("reasoning"),content:G(Ws),rawContent:G(pu).optional()}),Xs=rt.extend({type:g("unknown")}),Nr=fe("type",[zn,Xt,Qt,Or,Rr,Xs]),Tu=ps([Ks,zn,Ys,Xt,Qt,Or,Er,xu,Rr,Xs]),Iu=m({requests:A().optional(),inputTokens:A(),outputTokens:A(),totalTokens:A(),inputTokensDetails:te(c(),A()).optional(),outputTokensDetails:te(c(),A()).optional()}),Qs=re.extend({type:g("output_text_delta"),delta:c()}),ku=re.extend({type:g("response_started")}),ea=re.extend({type:g("response_done"),response:re.extend({id:c(),usage:Iu,output:G(Nr)})}),Au=re.extend({type:g("model"),event:U().describe("The event from the model")});fe("type",[Qs,ea,ku,Au]);class Vn{constructor(e){_(this,"requests");_(this,"inputTokens");_(this,"outputTokens");_(this,"totalTokens");_(this,"inputTokensDetails",[]);_(this,"outputTokensDetails",[]);if(typeof e>"u")this.requests=0,this.inputTokens=0,this.outputTokens=0,this.totalTokens=0,this.inputTokensDetails=[],this.outputTokensDetails=[];else{this.requests=(e==null?void 0:e.requests)??1,this.inputTokens=(e==null?void 0:e.inputTokens)??(e==null?void 0:e.input_tokens)??0,this.outputTokens=(e==null?void 0:e.outputTokens)??(e==null?void 0:e.output_tokens)??0,this.totalTokens=(e==null?void 0:e.totalTokens)??(e==null?void 0:e.total_tokens)??0;const t=(e==null?void 0:e.inputTokensDetails)??(e==null?void 0:e.input_tokens_details);this.inputTokensDetails=t?[t]:[];const r=(e==null?void 0:e.outputTokensDetails)??(e==null?void 0:e.output_tokens_details);this.outputTokensDetails=r?[r]:[]}}add(e){this.requests+=e.requests,this.inputTokens+=e.inputTokens,this.outputTokens+=e.outputTokens,this.totalTokens+=e.totalTokens,e.inputTokensDetails&&this.inputTokensDetails.push(...e.inputTokensDetails),e.outputTokensDetails&&this.outputTokensDetails.push(...e.outputTokensDetails)}}class It{constructor(e={}){_(this,"context");_(this,"usage");I(this,ge);this.context=e,this.usage=new Vn,y(this,ge,new Map)}_rebuildApprovals(e){y(this,ge,new Map(Object.entries(e)))}isToolApproved({toolName:e,callId:t}){const r=o(this,ge).get(e);if((r==null?void 0:r.approved)===!0&&r.rejected===!0)return E.warn("Tool is permanently approved and rejected at the same time. Approval takes precedence"),!0;if((r==null?void 0:r.approved)===!0)return!0;if((r==null?void 0:r.rejected)===!0)return!1;const s=Array.isArray(r==null?void 0:r.approved)?r.approved.includes(t):!1,a=Array.isArray(r==null?void 0:r.rejected)?r.rejected.includes(t):!1;if(s&&a)return E.warn(`Tool call ${t} is both approved and rejected at the same time. Approval takes precedence`),!0;if(s)return!0;if(a)return!1}approveTool(e,{alwaysApprove:t=!1}={}){const r=e.rawItem.name;if(t){o(this,ge).set(r,{approved:!0,rejected:[]});return}const s=o(this,ge).get(r)??{approved:[],rejected:[]};if(Array.isArray(s.approved)){const a="callId"in e.rawItem?e.rawItem.callId:e.rawItem.id;s.approved.push(a)}o(this,ge).set(r,s)}rejectTool(e,{alwaysReject:t=!1}={}){const r=e.rawItem.name;if(t){o(this,ge).set(r,{approved:!1,rejected:!0});return}const s=o(this,ge).get(r)??{approved:[],rejected:[]};if(Array.isArray(s.rejected)){const a="callId"in e.rawItem?e.rawItem.callId:e.rawItem.id;s.rejected.push(a)}o(this,ge).set(r,s)}toJSON(){return{context:this.context,usage:this.usage,approvals:Object.fromEntries(o(this,ge).entries())}}}ge=new WeakMap;class ta{constructor(e){_(this,"state");this.state=e}get history(){return en(this.input,this.newItems)}get output(){return en([],this.newItems)}get input(){return this.state._originalInput}get newItems(){return this.state._generatedItems}get rawResponses(){return this.state._modelResponses}get lastResponseId(){const e=this.rawResponses;return e&&e.length>0?e[e.length-1].responseId:void 0}get lastAgent(){return this.state._currentAgent}get inputGuardrailResults(){return this.state._inputGuardrailResults}get outputGuardrailResults(){return this.state._outputGuardrailResults}get interruptions(){var e;return((e=this.state._currentStep)==null?void 0:e.type)==="next_step_interruption"?this.state._currentStep.data.interruptions:[]}get finalOutput(){var e;if(((e=this.state._currentStep)==null?void 0:e.type)==="next_step_final_output")return this.state._currentAgent.processFinalOutput(this.state._currentStep.output);E.warn("Accessed finalOutput before agent run is completed.")}}class Dr extends ta{constructor(e){super(e)}}class Cu extends ta{constructor(t={}){super(t.state);_(this,"currentTurn",0);_(this,"maxTurns");I(this,ln,null);I(this,He);I(this,_e);I(this,Fe);I(this,Dt);I(this,Pt);I(this,pn);I(this,ft,!1);if(y(this,He,t.signal),y(this,Fe,new Po({start:r=>{y(this,_e,r)},cancel:()=>{y(this,ft,!0)}})),y(this,Dt,new Promise((r,s)=>{y(this,Pt,r),y(this,pn,s)})),o(this,He)){const r=()=>{var a,i;if(o(this,ft))return;y(this,ft,!0);const s=o(this,_e);if(y(this,_e,void 0),o(this,Fe).locked){if(s)try{s.close()}catch(u){E.debug(`Failed to close readable stream on abort: ${u}`)}}else o(this,Fe).cancel((a=o(this,He))==null?void 0:a.reason).catch(u=>{E.debug(`Failed to cancel readable stream on abort: ${u}`)});(i=o(this,Pt))==null||i.call(this)};o(this,He).aborted?r():o(this,He).addEventListener("abort",r,{once:!0})}}get currentAgent(){return this.lastAgent}_addItem(t){var r;this.cancelled||(r=o(this,_e))==null||r.enqueue(t)}_done(){var t;!this.cancelled&&o(this,_e)&&(o(this,_e).close(),y(this,_e,void 0),(t=o(this,Pt))==null||t.call(this))}_raiseError(t){var r;!this.cancelled&&o(this,_e)&&(o(this,_e).error(t),y(this,_e,void 0)),y(this,ln,t),(r=o(this,pn))==null||r.call(this,t),o(this,Dt).catch(s=>{E.debug(`Resulted in an error: ${s}`)})}get cancelled(){return o(this,ft)}toStream(){return o(this,Fe)}get completed(){return o(this,Dt)}get error(){return o(this,ln)}toTextStream(t={}){const r=o(this,Fe).pipeThrough(new Mo({transform(s,a){if(s.type==="raw_model_stream_event"&&s.data.type==="output_text_delta"){const i=Qs.parse(s.data);a.enqueue(i.delta)}}}));return t.compatibleWithNodeStreams?Do.fromWeb(r):r}[Symbol.asyncIterator](){return o(this,Fe)[Symbol.asyncIterator]()}}ln=new WeakMap,He=new WeakMap,_e=new WeakMap,Fe=new WeakMap,Dt=new WeakMap,Pt=new WeakMap,pn=new WeakMap,ft=new WeakMap;function na(n){return n.type==="function"?{type:"function",name:n.name,description:n.description,parameters:n.parameters,strict:n.strict}:n.type==="computer"?{type:"computer",name:n.name,environment:n.computer.environment,dimensions:n.computer.dimensions}:{type:"hosted_tool",name:n.name,providerData:n.providerData}}function ra(n){return{toolName:n.toolName,toolDescription:n.toolDescription,inputJsonSchema:n.inputJsonSchema,strictJsonSchema:n.strictJsonSchema}}class st{constructor(){_(this,"type","base_item");_(this,"rawItem")}toJSON(){return{type:this.type,rawItem:this.rawItem}}}class Wn extends st{constructor(t,r){super();_(this,"rawItem");_(this,"agent");_(this,"type","message_output_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}get content(){let t="";for(const r of this.rawItem.content)r.type==="output_text"&&(t+=r.text);return t}}class at extends st{constructor(t,r){super();_(this,"rawItem");_(this,"agent");_(this,"type","tool_call_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class kt extends st{constructor(t,r,s){super();_(this,"rawItem");_(this,"agent");_(this,"output");_(this,"type","tool_call_output_item");this.rawItem=t,this.agent=r,this.output=s}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON(),output:Je(this.output)}}}class Pr extends st{constructor(t,r){super();_(this,"rawItem");_(this,"agent");_(this,"type","reasoning_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class Mr extends st{constructor(t,r){super();_(this,"rawItem");_(this,"agent");_(this,"type","handoff_call_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}class jr extends st{constructor(t,r,s){super();_(this,"rawItem");_(this,"sourceAgent");_(this,"targetAgent");_(this,"type","handoff_output_item");this.rawItem=t,this.sourceAgent=r,this.targetAgent=s}toJSON(){return{...super.toJSON(),sourceAgent:this.sourceAgent.toJSON(),targetAgent:this.targetAgent.toJSON()}}}class we extends st{constructor(t,r){super();_(this,"rawItem");_(this,"agent");_(this,"type","tool_approval_item");this.rawItem=t,this.agent=r}toJSON(){return{...super.toJSON(),agent:this.agent.toJSON()}}}function sa(n){if(n.type!=="message"||n.role!=="assistant")return;const e=n.content[n.content.length-1];if(e.type==="output_text")return e.text}function Eu(n){return n.output.length===0?"":sa(n.output[n.output.length-1])||""}class Ou{constructor(e){_(this,"data");_(this,"type","raw_model_stream_event");this.data=e}}class Ru{constructor(e,t){_(this,"name");_(this,"item");_(this,"type","run_item_stream_event");this.name=e,this.item=t}}class Nu{constructor(e){_(this,"agent");_(this,"type","agent_updated_stream_event");this.agent=e}}function aa(n,e,t,r){var w;const s=[],a=[],i=[],u=[],p=[],d=[],l=new Map(r.map(b=>[b.toolName,b])),f=new Map(t.filter(b=>b.type==="function").map(b=>[b.name,b])),h=t.find(b=>b.type==="computer"),v=new Map(t.filter(b=>{var O;return b.type==="hosted_tool"&&((O=b.providerData)==null?void 0:O.type)==="mcp"}).map(b=>b).map(b=>[b.providerData.server_label,b]));for(const b of n.output){if(b.type==="message")b.role==="assistant"&&s.push(new Wn(b,e));else if(b.type==="hosted_tool_call"){s.push(new at(b,e));const R=b.name;if(d.push(R),((w=b.providerData)==null?void 0:w.type)==="mcp_approval_request"||b.name==="mcp_approval_request"){const F=b.providerData,V=F.server_label,q=v.get(V);if(typeof q>"u"){const ae=`MCP server (${V}) not found in Agent (${e.name})`;throw Tt({message:ae,data:{mcp_server_label:V}}),new he(ae)}const J=new we({type:"hosted_tool_call",name:F.name,id:F.id,status:"in_progress",providerData:F},e);p.push({requestItem:J,mcpTool:q}),q.providerData.on_approval||s.push(J)}}else if(b.type==="reasoning")s.push(new Pr(b,e));else if(b.type==="computer_call"){if(s.push(new at(b,e)),d.push("computer_use"),!h)throw Tt({message:"Model produced computer action without a computer tool.",data:{agent_name:e.name}}),new he("Model produced computer action without a computer tool.");u.push({toolCall:b,computer:h})}if(b.type!=="function_call")continue;d.push(b.name);const O=l.get(b.name);if(O)s.push(new Mr(b,e)),a.push({toolCall:b,handoff:O});else{const R=f.get(b.name);if(!R)throw Tt({message:`Tool ${b.name} not found in agent ${e.name}.`,data:{tool_name:b.name,agent_name:e.name}}),new he(`Tool ${b.name} not found in agent ${e.name}.`);s.push(new at(b,e)),i.push({toolCall:b,tool:R})}}return{newItems:s,handoffs:a,functions:i,computerActions:u,mcpApprovalRequests:p,toolsUsed:d,hasToolsOrApprovalsToRun(){return a.length>0||i.length>0||p.length>0||u.length>0}}}const Du=fe("type",[m({type:g("next_step_handoff"),newAgent:U()}),m({type:g("next_step_final_output"),output:c()}),m({type:g("next_step_run_again")}),m({type:g("next_step_interruption"),data:te(c(),U())})]);class be{constructor(e,t,r,s,a){_(this,"originalInput");_(this,"modelResponse");_(this,"preStepItems");_(this,"newStepItems");_(this,"nextStep");this.originalInput=e,this.modelResponse=t,this.preStepItems=r,this.newStepItems=s,this.nextStep=a}get generatedItems(){return this.preStepItems.concat(this.newStepItems)}}function ia(n,e,t){return n.resetToolChoice&&e.hasUsedTools(n)?{...t,toolChoice:void 0}:t}async function oa(n,e,t,r,s,a,i){const u=t.filter(w=>w instanceof we&&"callId"in w.rawItem&&w.rawItem.type==="function_call").map(w=>w.rawItem.callId),p=s.functions.filter(w=>u.includes(w.toolCall.callId)),d=await ca(n,p,a,i),l=d.map(w=>w.runItem),f=s.mcpApprovalRequests.filter(w=>{var b;return w.requestItem.type==="tool_approval_item"&&w.requestItem.rawItem.type==="hosted_tool_call"&&((b=w.requestItem.rawItem.providerData)==null?void 0:b.type)==="mcp_approval_request"});for(const w of f){const b=w.requestItem.rawItem.id,O=i._context.isToolApproved({toolName:w.requestItem.rawItem.name,callId:b});if(typeof O<"u"){const R={approve:O,approval_request_id:b,reason:void 0};l.push(new at({type:"hosted_tool_call",name:"mcp_approval_response",providerData:R},n))}}const h=await da(n,d,i),v=t.filter(w=>!(w instanceof we));return h.isFinalOutput?(a.emit("agent_end",i._context,n,h.finalOutput),n.emit("agent_end",i._context,h.finalOutput),new be(e,r,v,l,{type:"next_step_final_output",output:h.finalOutput})):h.isInterrupted?new be(e,r,v,l,{type:"next_step_interruption",data:{interruptions:h.interruptions}}):new be(e,r,v,l,{type:"next_step_run_again"})}async function ua(n,e,t,r,s,a,i){var O,R,F,V;const u=t;let p=s.newItems;const[d,l]=await Promise.all([ca(n,s.functions,a,i),Mu(n,s.computerActions,a,i._context)]);if(p=p.concat(d.map(q=>q.runItem)),p=p.concat(l),s.mcpApprovalRequests.length>0)for(const q of s.mcpApprovalRequests){const J=q.mcpTool.providerData,ae=q.requestItem.rawItem.providerData;if(J.on_approval){const ye=await J.on_approval(i._context,q.requestItem),qt={approve:ye.approve,approval_request_id:ae.id,reason:ye.reason};p.push(new at({type:"hosted_tool_call",name:"mcp_approval_response",providerData:qt},n))}else{p.push(q.requestItem);const ye={type:"hosted_mcp_tool_approval",tool:q.mcpTool,runItem:new we({type:"hosted_tool_call",name:ae.name,id:ae.id,arguments:ae.arguments,status:"in_progress",providerData:ae},n)};d.push(ye)}}if(s.handoffs.length>0)return await ju(n,e,u,p,r,s.handoffs,a,i._context);const f=await da(n,d,i);if(f.isFinalOutput)return a.emit("agent_end",i._context,n,f.finalOutput),n.emit("agent_end",i._context,f.finalOutput),new be(e,r,u,p,{type:"next_step_final_output",output:f.finalOutput});if(f.isInterrupted)return new be(e,r,u,p,{type:"next_step_interruption",data:{interruptions:f.interruptions}});if((((O=s.functions)==null?void 0:O.length)??0)>0||(((R=s.computerActions)==null?void 0:R.length)??0)>0||(((F=s.mcpApprovalRequests)==null?void 0:F.length)??0)>0||(((V=s.handoffs)==null?void 0:V.length)??0)>0)return new be(e,r,u,p,{type:"next_step_run_again"});const v=p.filter(q=>q instanceof Wn),w=v.length>0?sa(v[v.length-1].rawItem):void 0;if(typeof w>"u")return new be(e,r,u,p,{type:"next_step_run_again"});if(!d.some(q=>q.runItem instanceof we)){if(n.outputType==="text")return new be(e,r,u,p,{type:"next_step_final_output",output:w});if(n.outputType!=="text"&&w){const{parser:q}=_r(n.outputType,"final_output"),[J]=await Q(()=>q(w));if(J)throw Tt({message:"Invalid output type",data:{error:String(J)}}),new he("Invalid output type");return new be(e,r,u,p,{type:"next_step_final_output",output:w})}}return new be(e,r,u,p,{type:"next_step_run_again"})}function Hn(n,e){return{type:"function_call_result",name:n.name,callId:n.callId,status:"completed",output:{type:"text",text:Je(e)}}}async function ca(n,e,t,r){async function s(a){let i=a.toolCall.arguments;if(a.tool.parameters&&(nt(a.tool.parameters)?i=a.tool.parameters.parse(i):i=JSON.parse(i)),await a.tool.needsApproval(r._context,i,a.toolCall.callId)){const p=r._context.isToolApproved({toolName:a.tool.name,callId:a.toolCall.callId});if(p===!1)return Zs(async d=>{const l="Tool execution was not approved.";return d.setError({message:l,data:{tool_name:a.tool.name,error:`Tool execution for ${a.toolCall.callId} was manually rejected by user.`}}),d.spanData.output=l,{type:"function_output",tool:a.tool,output:l,runItem:new kt(Hn(a.toolCall,l),n,l)}},{data:{name:a.tool.name}});if(p!==!0)return{type:"function_approval",tool:a.tool,runItem:new we(a.toolCall,n)}}return Zs(async p=>{t.config.traceIncludeSensitiveData&&(p.spanData.input=a.toolCall.arguments);try{t.emit("agent_tool_start",r._context,n,a.tool,{toolCall:a.toolCall}),n.emit("agent_tool_start",r._context,a.tool,{toolCall:a.toolCall});const d=await a.tool.invoke(r._context,a.toolCall.arguments,{toolCall:a.toolCall}),l=Je(d);t.emit("agent_tool_end",r._context,n,a.tool,l,{toolCall:a.toolCall}),n.emit("agent_tool_end",r._context,a.tool,l,{toolCall:a.toolCall}),t.config.traceIncludeSensitiveData&&(p.spanData.output=l);const f={type:"function_output",tool:a.tool,output:d,runItem:new kt(Hn(a.toolCall,d),n,d)},h=zu(a.toolCall);if(h){f.agentRunResult=h;const v=h.interruptions;v.length>0&&(f.interruptions=v)}return f}catch(d){throw p.setError({message:"Error running tool",data:{tool_name:a.tool.name,error:String(d)}}),d}},{data:{name:a.tool.name}})}try{return await Promise.all(e.map(s))}catch(a){throw new yo(`Failed to run function tools: ${a}`,a,r)}}async function Pu(n,e){const t=e.action;let r;switch(t.type){case"click":await n.click(t.x,t.y,t.button);break;case"double_click":await n.doubleClick(t.x,t.y);break;case"drag":await n.drag(t.path.map(s=>[s.x,s.y]));break;case"keypress":await n.keypress(t.keys);break;case"move":await n.move(t.x,t.y);break;case"screenshot":r=await n.screenshot();break;case"scroll":await n.scroll(t.x,t.y,t.scroll_x,t.scroll_y);break;case"type":await n.type(t.text);break;case"wait":await n.wait();break}if(typeof r<"u"||typeof n.screenshot=="function"&&(r=await n.screenshot(),typeof r<"u"))return r;throw new Error("Computer does not implement screenshot()")}async function Mu(n,e,t,r,s=void 0){const a=s??E,i=[];for(const u of e){const p=u.computer.computer,d=u.toolCall;t.emit("agent_tool_start",r,n,u.computer,{toolCall:d}),typeof n.emit=="function"&&n.emit("agent_tool_start",r,u.computer,{toolCall:d});let l;try{l=await Pu(p,d)}catch(v){a.error("Failed to execute computer action:",v),l=""}t.emit("agent_tool_end",r,n,u.computer,l,{toolCall:d}),typeof n.emit=="function"&&n.emit("agent_tool_end",r,u.computer,l,{toolCall:d});const f=l?`data:image/png;base64,${l}`:"",h={type:"computer_call_result",callId:d.callId,output:{type:"computer_screenshot",data:f}};i.push(new kt(h,n,f))}return i}async function ju(n,e,t,r,s,a,i,u){if(r=[...r],a.length===0)return E.warn("Incorrectly called executeHandoffCalls with no handoffs. This should not happen. Moving on."),new be(e,s,t,r,{type:"next_step_run_again"});if(a.length>1){const d="Multiple handoffs detected, ignoring this one.";for(let l=1;l<a.length;l++)r.push(new kt(Hn(a[l].toolCall,d),n,d))}const p=a[0];return Xo(async d=>{const l=p.handoff,f=await l.onInvokeHandoff(u,p.toolCall.arguments);if(d.spanData.to_agent=f.name,a.length>1){const v=a.map(w=>w.handoff.agentName);d.setError({message:"Multiple handoffs requested",data:{requested_agents:v}})}r.push(new jr(Hn(p.toolCall,Gs(f)),n,f)),i.emit("agent_handoff",u,n,f),n.emit("agent_handoff",u,f);const h=l.inputFilter??i.config.handoffInputFilter;if(h){E.debug("Filtering inputs for handoff"),typeof h!="function"&&d.setError({message:"Invalid input filter",data:{details:"not callable"}});const v={inputHistory:Array.isArray(e)?[...e]:e,preHandoffItems:[...t],newItems:[...r],runContext:u},w=h(v);e=w.inputHistory,t=w.preHandoffItems,r=w.newItems}return new be(e,s,t,r,{type:"next_step_handoff",newAgent:f})},{data:{from_agent:n.name}})}const Kn={isFinalOutput:!1,isInterrupted:void 0};async function da(n,e,t){if(e.length===0)return Kn;const r=[];for(const i of e)if(i.runItem instanceof we&&r.push(i.runItem),i.type==="function_output"){if(Array.isArray(i.interruptions))r.push(...i.interruptions);else if(i.agentRunResult){const u=i.agentRunResult.interruptions;u.length>0&&r.push(...u)}}if(r.length>0)return{isFinalOutput:!1,isInterrupted:!0,interruptions:r};if(n.toolUseBehavior==="run_llm_again")return Kn;const s=e[0];if(n.toolUseBehavior==="stop_on_first_tool")return(s==null?void 0:s.type)==="function_output"?{isFinalOutput:!0,isInterrupted:void 0,finalOutput:Je(s.output)}:Kn;const a=n.toolUseBehavior;if(typeof a=="object"){const i=e.find(u=>a.stopAtToolNames.includes(u.tool.name));return(i==null?void 0:i.type)==="function_output"?{isFinalOutput:!0,isInterrupted:void 0,finalOutput:Je(i.output)}:Kn}if(typeof a=="function")return a(t._context,e);throw new ne(`Invalid toolUseBehavior: ${a}`,t)}function la(n,e){for(const t of e.newStepItems){let r;if(t instanceof Wn)r="message_output_created";else if(t instanceof Mr)r="handoff_requested";else if(t instanceof jr)r="handoff_occurred";else if(t instanceof at)r="tool_called";else if(t instanceof kt)r="tool_output";else if(t instanceof Pr)r="reasoning_item_created";else if(t instanceof we)r="tool_approval_requested";else{E.warn("Unknown item type: ",t);continue}n._addItem(new Ru(r,t))}}class pa{constructor(){I(this,Mt,new Map)}addToolUse(e,t){o(this,Mt).set(e,t)}hasUsedTools(e){return o(this,Mt).has(e)}toJSON(){return Object.fromEntries(Array.from(o(this,Mt).entries()).map(([e,t])=>[e.name,t]))}}Mt=new WeakMap;const Yn="1.0",$u=g(Yn),Ee=m({name:c()}),fa=m({object:g("trace.span"),id:c(),trace_id:c(),parent_id:c().nullable(),started_at:c().nullable(),ended_at:c().nullable(),error:m({message:c(),data:te(c(),U()).optional()}).nullable(),span_data:te(c(),U())}).extend({previous_span:Oi(()=>fa).optional()}),ha=m({requests:A(),inputTokens:A(),outputTokens:A(),totalTokens:A()}),ma=m({usage:ha,output:G(Nr),responseId:c().optional(),providerData:te(c(),U()).optional()}),ga=fe("type",[m({type:g("message_output_item"),rawItem:zn,agent:Ee}),m({type:g("tool_call_item"),rawItem:Su.or(Xt),agent:Ee}),m({type:g("tool_call_output_item"),rawItem:Er,agent:Ee,output:c()}),m({type:g("reasoning_item"),rawItem:Rr,agent:Ee}),m({type:g("handoff_call_item"),rawItem:Qt,agent:Ee}),m({type:g("handoff_output_item"),rawItem:Er,sourceAgent:Ee,targetAgent:Ee}),m({type:g("tool_approval_item"),rawItem:Qt.or(Xt),agent:Ee})]),Fu=m({object:g("trace"),id:c(),workflow_name:c(),group_id:c().nullable(),metadata:te(c(),U())}),Lu=m({newItems:G(ga),toolsUsed:G(c()),handoffs:G(m({toolCall:U(),handoff:U()})),functions:G(m({toolCall:U(),tool:U()})),computerActions:G(m({toolCall:U(),computer:U()})),mcpApprovalRequests:G(m({requestItem:m({rawItem:m({type:g("hosted_tool_call"),name:c(),arguments:c().optional(),status:c().optional(),output:c().optional(),providerData:te(c(),U()).nullable().optional()})}),mcpTool:m({type:g("hosted_tool"),name:g("hosted_mcp"),providerData:te(c(),U())})})).optional()}),_a=m({tripwireTriggered:et(),outputInfo:U()}),Zu=m({guardrail:m({type:g("input"),name:c()}),output:_a}),Uu=m({guardrail:m({type:g("output"),name:c()}),agentOutput:U(),agent:Ee,output:_a}),ya=m({$schemaVersion:$u,currentTurn:A(),currentAgent:Ee,originalInput:c().or(G(Tu)),modelResponses:G(ma),context:m({usage:ha,approvals:te(c(),m({approved:G(c()).or(et()),rejected:G(c()).or(et())})),context:te(c(),U())}),toolUseTracker:te(c(),G(c())),maxTurns:A(),currentAgentSpan:fa.nullable().optional(),noActiveAgentRun:et(),inputGuardrailResults:G(Zu),outputGuardrailResults:G(Uu),currentStep:Du.optional(),lastModelResponse:ma.optional(),generatedItems:G(ga),lastProcessedResponse:Lu.optional(),trace:Fu.nullable()});class it{constructor(e,t,r,s){_(this,"_currentTurn",0);_(this,"_currentAgent");_(this,"_originalInput");_(this,"_modelResponses");_(this,"_currentAgentSpan");_(this,"_context");_(this,"_toolUseTracker");_(this,"_generatedItems");_(this,"_maxTurns");_(this,"_noActiveAgentRun",!0);_(this,"_lastTurnResponse");_(this,"_inputGuardrailResults");_(this,"_outputGuardrailResults");_(this,"_currentStep");_(this,"_lastProcessedResponse");_(this,"_trace",null);this._context=e,this._originalInput=structuredClone(t),this._modelResponses=[],this._currentAgentSpan=void 0,this._currentAgent=r,this._toolUseTracker=new pa,this._generatedItems=[],this._maxTurns=s,this._inputGuardrailResults=[],this._outputGuardrailResults=[],this._trace=Vt()}get history(){return en(this._originalInput,this._generatedItems)}getInterruptions(){var e;return((e=this._currentStep)==null?void 0:e.type)!=="next_step_interruption"?[]:this._currentStep.data.interruptions}approve(e,t={alwaysApprove:!1}){this._context.approveTool(e,t)}reject(e,t={alwaysReject:!1}){this._context.rejectTool(e,t)}toJSON(){var r;const e={$schemaVersion:Yn,currentTurn:this._currentTurn,currentAgent:{name:this._currentAgent.name},originalInput:this._originalInput,modelResponses:this._modelResponses.map(s=>({usage:{requests:s.usage.requests,inputTokens:s.usage.inputTokens,outputTokens:s.usage.outputTokens,totalTokens:s.usage.totalTokens},output:s.output,responseId:s.responseId,providerData:s.providerData})),context:this._context.toJSON(),toolUseTracker:this._toolUseTracker.toJSON(),maxTurns:this._maxTurns,currentAgentSpan:(r=this._currentAgentSpan)==null?void 0:r.toJSON(),noActiveAgentRun:this._noActiveAgentRun,inputGuardrailResults:this._inputGuardrailResults,outputGuardrailResults:this._outputGuardrailResults.map(s=>({...s,agent:s.agent.toJSON()})),currentStep:this._currentStep,lastModelResponse:this._lastTurnResponse,generatedItems:this._generatedItems.map(s=>s.toJSON()),lastProcessedResponse:this._lastProcessedResponse,trace:this._trace?this._trace.toJSON():null},t=ya.safeParse(e);if(!t.success)throw new _o(`Failed to serialize run state. ${t.error.message}`);return t.data}toString(){return JSON.stringify(this.toJSON())}static async fromString(e,t){var f,h,v,w,b;const[r,s]=await Q(()=>JSON.parse(t));if(r)throw new ne(`Failed to parse run state. ${r instanceof Error?r.message:String(r)}`);const a=s.$schemaVersion;if(!a)throw new ne("Run state is missing schema version");if(a!==Yn)throw new ne(`Run state schema version ${a} is not supported. Please use version ${Yn}`);const i=ya.parse(JSON.parse(t)),u=qu(e),p=new It(i.context.context);p._rebuildApprovals(i.context.approvals);const d=u.get(i.currentAgent.name);if(!d)throw new ne(`Agent ${i.currentAgent.name} not found`);const l=new it(p,"",d,i.maxTurns);l._currentTurn=i.currentTurn,l._toolUseTracker=new pa;for(const[O,R]of Object.entries(i.toolUseTracker))l._toolUseTracker.addToolUse(u.get(O),R);if(i.currentAgentSpan){i.trace||E.warn("Trace is not set, skipping tracing setup");const O=Ce().createTrace({traceId:(f=i.trace)==null?void 0:f.id,name:(h=i.trace)==null?void 0:h.workflow_name,groupId:((v=i.trace)==null?void 0:v.group_id)??void 0,metadata:(w=i.trace)==null?void 0:w.metadata});l._currentAgentSpan=va(O,i.currentAgentSpan),l._trace=O}return l._noActiveAgentRun=i.noActiveAgentRun,l._inputGuardrailResults=i.inputGuardrailResults,l._outputGuardrailResults=i.outputGuardrailResults.map(O=>({...O,agent:u.get(O.agent.name)})),l._currentStep=i.currentStep,l._originalInput=i.originalInput,l._modelResponses=i.modelResponses.map(wa),l._lastTurnResponse=i.lastModelResponse?wa(i.lastModelResponse):void 0,l._generatedItems=i.generatedItems.map(O=>ba(O,u)),l._lastProcessedResponse=i.lastProcessedResponse?await Ju(u,l._currentAgent,l._context,i.lastProcessedResponse):void 0,((b=i.currentStep)==null?void 0:b.type)==="next_step_handoff"&&(l._currentStep={type:"next_step_handoff",newAgent:u.get(i.currentStep.newAgent.name)}),l}}function qu(n){const e=new Map,t=[n];for(;t.length>0;){const r=t.shift();if(!e.has(r.name)){e.set(r.name,r);for(const s of r.handoffs)s instanceof ot?e.has(s.name)||t.push(s):s.agent&&(e.has(s.agent.name)||t.push(s.agent))}}return e}function va(n,e){const t=e.span_data,r=e.previous_span?va(n,e.previous_span):void 0,s=Ce().createSpan({spanId:e.id,traceId:e.trace_id,parentId:e.parent_id??void 0,startedAt:e.started_at??void 0,endedAt:e.ended_at??void 0,data:t},n);return s.previousSpan=r,s}function wa(n){const e=new Vn;return e.requests=n.usage.requests,e.inputTokens=n.usage.inputTokens,e.outputTokens=n.usage.outputTokens,e.totalTokens=n.usage.totalTokens,{usage:e,output:n.output.map(t=>Nr.parse(t)),responseId:n.responseId,providerData:n.providerData}}function ba(n,e){switch(n.type){case"message_output_item":return new Wn(n.rawItem,e.get(n.agent.name));case"tool_call_item":return new at(n.rawItem,e.get(n.agent.name));case"tool_call_output_item":return new kt(n.rawItem,e.get(n.agent.name),n.output);case"reasoning_item":return new Pr(n.rawItem,e.get(n.agent.name));case"handoff_call_item":return new Mr(n.rawItem,e.get(n.agent.name));case"handoff_output_item":return new jr(n.rawItem,e.get(n.sourceAgent.name),e.get(n.targetAgent.name));case"tool_approval_item":return new we(n.rawItem,e.get(n.agent.name))}}async function Ju(n,e,t,r){const s=await e.getAllTools(t),a=new Map(s.filter(d=>d.type==="function").map(d=>[d.name,d])),i=new Map(s.filter(d=>d.type==="computer").map(d=>[d.name,d])),u=new Map(e.handoffs.map(d=>d instanceof ot?[d.name,Vs(d)]:[d.toolName,d])),p={newItems:r.newItems.map(d=>ba(d,n)),toolsUsed:r.toolsUsed,handoffs:r.handoffs.map(d=>{if(!u.has(d.handoff.toolName))throw new ne(`Handoff ${d.handoff.toolName} not found`);return{toolCall:d.toolCall,handoff:u.get(d.handoff.toolName)}}),functions:await Promise.all(r.functions.map(async d=>{if(!a.has(d.tool.name))throw new ne(`Tool ${d.tool.name} not found`);return{toolCall:d.toolCall,tool:a.get(d.tool.name)}})),computerActions:r.computerActions.map(d=>{const l=d.computer.name;if(!i.has(l))throw new ne(`Computer tool ${l} not found`);return{toolCall:d.toolCall,computer:i.get(l)}}),mcpApprovalRequests:(r.mcpApprovalRequests??[]).map(d=>({requestItem:new we(d.requestItem.rawItem,e),mcpTool:d.mcpTool}))};return{...p,hasToolsOrApprovalsToRun(){return p.handoffs.length>0||p.functions.length>0||p.mcpApprovalRequests.length>0||p.computerActions.length>0}}}const xa=10;function Sa(n,e){return n?!1:e?!0:"enabled_without_data"}function en(n,e){const t=e.filter(r=>r.type!=="tool_approval_item").map(r=>r.rawItem);return typeof n=="string"&&(n=[{type:"message",role:"user",content:n}]),[...n,...t]}class Bu extends su{constructor(t={}){super();I(this,ce);_(this,"config");_(this,"inputGuardrailDefs");_(this,"outputGuardrailDefs");this.config={modelProvider:t.modelProvider??cu(),model:t.model,modelSettings:t.modelSettings,handoffInputFilter:t.handoffInputFilter,inputGuardrails:t.inputGuardrails,outputGuardrails:t.outputGuardrails,tracingDisabled:t.tracingDisabled??!1,traceIncludeSensitiveData:t.traceIncludeSensitiveData??!0,workflowName:t.workflowName??"Agent workflow",traceId:t.traceId,groupId:t.groupId,traceMetadata:t.traceMetadata},this.inputGuardrailDefs=(t.inputGuardrails??[]).map(Bs),this.outputGuardrailDefs=(t.outputGuardrails??[]).map(Ar)}run(t,r,s={stream:!1,context:void 0}){return r instanceof it&&r._trace?Lo(r._trace,async()=>(r._currentAgentSpan&&qn(r._currentAgentSpan),s!=null&&s.stream?L(this,ce,Wr).call(this,t,r,s):L(this,ce,Gr).call(this,t,r,s))):Zo(async()=>s!=null&&s.stream?L(this,ce,Wr).call(this,t,r,s):L(this,ce,Gr).call(this,t,r,s),{traceId:this.config.traceId,name:this.config.workflowName,groupId:this.config.groupId,metadata:this.config.traceMetadata})}}ce=new WeakSet,Gr=async function(t,r,s){return br(async()=>{var i,u;const a=r instanceof it?r:new it(s.context instanceof It?s.context:new It(s.context),r,t,s.maxTurns??xa);try{for(;;){const p=a._currentAgent.model!==void 0&&a._currentAgent.model!==""||this.config.model!==void 0&&this.config.model!=="";let d=Ta(a._currentAgent.model,this.config.model);if(typeof d=="string"&&(d=await this.config.modelProvider.getModel(d)),a._currentStep=a._currentStep??{type:"next_step_run_again"},a._currentStep.type==="next_step_interruption"){if(E.debug("Continuing from interruption"),!a._lastTurnResponse||!a._lastProcessedResponse)throw new ne("No model response found in previous state",a);const l=await oa(a._currentAgent,a._originalInput,a._generatedItems,a._lastTurnResponse,a._lastProcessedResponse,this,a);if(a._toolUseTracker.addToolUse(a._currentAgent,a._lastProcessedResponse.toolsUsed),a._originalInput=l.originalInput,a._generatedItems=l.generatedItems,a._currentStep=l.nextStep,l.nextStep.type==="next_step_interruption")return new Dr(a);continue}if(a._currentStep.type==="next_step_run_again"){const l=[];if(a._currentAgent.handoffs&&l.push(...a._currentAgent.handoffs.map(Gn)),!a._currentAgentSpan){const V=l.map(q=>q.agentName);a._currentAgentSpan=Ls({data:{name:a._currentAgent.name,handoffs:V,output_type:a._currentAgent.outputSchemaName}}),a._currentAgentSpan.start(),qn(a._currentAgentSpan)}const f=await a._currentAgent.getAllTools(a._context),h=f.map(V=>na(V)),v=l.map(V=>ra(V));if(a._currentAgentSpan&&(a._currentAgentSpan.spanData.tools=f.map(V=>V.name)),a._currentTurn++,a._currentTurn>a._maxTurns)throw(i=a._currentAgentSpan)==null||i.setError({message:"Max turns exceeded",data:{max_turns:a._maxTurns}}),new vs(`Max turns (${a._maxTurns}) exceeded`,a);E.debug(`Running agent ${a._currentAgent.name} (turn ${a._currentTurn})`),a._currentTurn===1&&await L(this,ce,zr).call(this,a);const w=en(a._originalInput,a._generatedItems);a._noActiveAgentRun&&(a._currentAgent.emit("agent_start",a._context,a._currentAgent),this.emit("agent_start",a._context,a._currentAgent));let b={...this.config.modelSettings,...a._currentAgent.modelSettings};const O=a._currentAgent.modelSettings;b=Ia(p,O,d,b),b=ia(a._currentAgent,a._toolUseTracker,b),a._lastTurnResponse=await d.getResponse({systemInstructions:await a._currentAgent.getSystemPrompt(a._context),prompt:await a._currentAgent.getPrompt(a._context),input:w,previousResponseId:s.previousResponseId,conversationId:s.conversationId,modelSettings:b,tools:h,outputType:xs(a._currentAgent.outputType),handoffs:v,tracing:Sa(this.config.tracingDisabled,this.config.traceIncludeSensitiveData),signal:s.signal}),a._modelResponses.push(a._lastTurnResponse),a._context.usage.add(a._lastTurnResponse.usage),a._noActiveAgentRun=!1;const R=aa(a._lastTurnResponse,a._currentAgent,f,l);a._lastProcessedResponse=R;const F=await ua(a._currentAgent,a._originalInput,a._generatedItems,a._lastTurnResponse,a._lastProcessedResponse,this,a);a._toolUseTracker.addToolUse(a._currentAgent,a._lastProcessedResponse.toolsUsed),a._originalInput=F.originalInput,a._generatedItems=F.generatedItems,a._currentStep=F.nextStep}if(a._currentStep&&a._currentStep.type==="next_step_final_output")return await L(this,ce,Vr).call(this,a,a._currentStep.output),this.emit("agent_end",a._context,a._currentAgent,a._currentStep.output),a._currentAgent.emit("agent_end",a._context,a._currentStep.output),new Dr(a);if(a._currentStep&&a._currentStep.type==="next_step_handoff")a._currentAgent=a._currentStep.newAgent,a._currentAgentSpan&&(a._currentAgentSpan.end(),Ht(),a._currentAgentSpan=void 0),a._noActiveAgentRun=!0,a._currentStep={type:"next_step_run_again"};else{if(a._currentStep&&a._currentStep.type==="next_step_interruption")return new Dr(a);E.debug("Running next loop")}}}catch(p){throw a._currentAgentSpan&&a._currentAgentSpan.setError({message:"Error in agent run",data:{error:String(p)}}),p}finally{a._currentAgentSpan&&(((u=a._currentStep)==null?void 0:u.type)!=="next_step_interruption"&&a._currentAgentSpan.end(),Ht())}})},zr=async function(t){const r=this.inputGuardrailDefs.concat(t._currentAgent.inputGuardrails.map(Bs));if(r.length>0){const s={agent:t._currentAgent,input:t._originalInput,context:t._context};try{const a=await Promise.all(r.map(async i=>Us(async u=>{const p=await i.run(s);return u.spanData.triggered=p.output.tripwireTriggered,p},{data:{name:i.name}},t._currentAgentSpan)));for(const i of a)if(i.output.tripwireTriggered)throw t._currentAgentSpan&&t._currentAgentSpan.setError({message:"Guardrail tripwire triggered",data:{guardrail:i.guardrail.name}}),new bs(`Input guardrail triggered: ${JSON.stringify(i.output.outputInfo)}`,i,t)}catch(a){throw a instanceof bs?a:(t._currentTurn--,new ws(`Input guardrail failed to complete: ${a}`,a,t))}}},Vr=async function(t,r){const s=this.outputGuardrailDefs.concat(t._currentAgent.outputGuardrails.map(Ar));if(s.length>0){const a=t._currentAgent.processFinalOutput(r),i={agent:t._currentAgent,agentOutput:a,context:t._context,details:{modelResponse:t._lastTurnResponse}};try{const u=await Promise.all(s.map(async p=>Us(async d=>{const l=await p.run(i);return d.spanData.triggered=l.output.tripwireTriggered,l},{data:{name:p.name}},t._currentAgentSpan)));for(const p of u)if(p.output.tripwireTriggered)throw t._currentAgentSpan&&t._currentAgentSpan.setError({message:"Guardrail tripwire triggered",data:{guardrail:p.guardrail.name}}),new $n(`Output guardrail triggered: ${JSON.stringify(p.output.outputInfo)}`,p,t)}catch(u){throw u instanceof $n?u:new ws(`Output guardrail failed to complete: ${u}`,u,t)}}},Ka=async function(t,r){var s,a,i;try{for(;;){const u=t.state._currentAgent,p=u.handoffs.map(Gn),d=await u.getAllTools(t.state._context),l=d.map(h=>na(h)),f=p.map(h=>ra(h));if(t.state._currentStep=t.state._currentStep??{type:"next_step_run_again"},t.state._currentStep.type==="next_step_interruption"){if(E.debug("Continuing from interruption"),!t.state._lastTurnResponse||!t.state._lastProcessedResponse)throw new ne("No model response found in previous state",t.state);const h=await oa(t.state._currentAgent,t.state._originalInput,t.state._generatedItems,t.state._lastTurnResponse,t.state._lastProcessedResponse,this,t.state);if(la(t,h),t.state._toolUseTracker.addToolUse(t.state._currentAgent,t.state._lastProcessedResponse.toolsUsed),t.state._originalInput=h.originalInput,t.state._generatedItems=h.generatedItems,t.state._currentStep=h.nextStep,h.nextStep.type==="next_step_interruption")return;continue}if(t.state._currentStep.type==="next_step_run_again"){if(!t.state._currentAgentSpan){const q=p.map(J=>J.agentName);t.state._currentAgentSpan=Ls({data:{name:u.name,handoffs:q,tools:d.map(J=>J.name),output_type:u.outputSchemaName}}),t.state._currentAgentSpan.start(),qn(t.state._currentAgentSpan)}if(t.state._currentTurn++,t.state._currentTurn>t.state._maxTurns)throw(s=t.state._currentAgentSpan)==null||s.setError({message:"Max turns exceeded",data:{max_turns:t.state._maxTurns}}),new vs(`Max turns (${t.state._maxTurns}) exceeded`,t.state);E.debug(`Running agent ${u.name} (turn ${t.state._currentTurn})`);const h=u.model!==void 0&&u.model!==""||this.config.model!==void 0&&this.config.model!=="";let v=Ta(u.model,this.config.model);typeof v=="string"&&(v=await this.config.modelProvider.getModel(v)),t.state._currentTurn===1&&await L(this,ce,zr).call(this,t.state);let w={...this.config.modelSettings,...u.modelSettings};const b=u.modelSettings;w=Ia(h,b,v,w),w=ia(u,t.state._toolUseTracker,w);const O=en(t.input,t.newItems);t.state._noActiveAgentRun&&(u.emit("agent_start",t.state._context,u),this.emit("agent_start",t.state._context,u));let R;for await(const q of v.getStreamedResponse({systemInstructions:await u.getSystemPrompt(t.state._context),prompt:await u.getPrompt(t.state._context),input:O,previousResponseId:r.previousResponseId,conversationId:r.conversationId,modelSettings:w,tools:l,handoffs:f,outputType:xs(u.outputType),tracing:Sa(this.config.tracingDisabled,this.config.traceIncludeSensitiveData),signal:r.signal})){if(q.type==="response_done"){const J=ea.parse(q);R={usage:new Vn(J.response.usage),output:J.response.output,responseId:J.response.id}}if(t.cancelled)return;t._addItem(new Ou(q))}if(t.state._noActiveAgentRun=!1,!R)throw new he("Model did not produce a final response!",t.state);t.state._lastTurnResponse=R,t.state._modelResponses.push(t.state._lastTurnResponse);const F=aa(t.state._lastTurnResponse,u,d,p);t.state._lastProcessedResponse=F;const V=await ua(u,t.state._originalInput,t.state._generatedItems,t.state._lastTurnResponse,t.state._lastProcessedResponse,this,t.state);la(t,V),t.state._toolUseTracker.addToolUse(u,F.toolsUsed),t.state._originalInput=V.originalInput,t.state._generatedItems=V.generatedItems,t.state._currentStep=V.nextStep}if(t.state._currentStep.type==="next_step_final_output"){await L(this,ce,Vr).call(this,t.state,t.state._currentStep.output),this.emit("agent_end",t.state._context,u,t.state._currentStep.output),u.emit("agent_end",t.state._context,t.state._currentStep.output);return}else{if(t.state._currentStep.type==="next_step_interruption")return;t.state._currentStep.type==="next_step_handoff"?(t.state._currentAgent=(a=t.state._currentStep)==null?void 0:a.newAgent,t.state._currentAgentSpan&&(t.state._currentAgentSpan.end(),Ht()),t.state._currentAgentSpan=void 0,t._addItem(new Nu(t.state._currentAgent)),t.state._noActiveAgentRun=!0,t.state._currentStep={type:"next_step_run_again"}):E.debug("Running next loop")}}}catch(u){throw t.state._currentAgentSpan&&t.state._currentAgentSpan.setError({message:"Error in agent run",data:{error:String(u)}}),u}finally{t.state._currentAgentSpan&&(((i=t.state._currentStep)==null?void 0:i.type)!=="next_step_interruption"&&t.state._currentAgentSpan.end(),Ht())}},Wr=async function(t,r,s){return s=s??{},br(async()=>{const a=r instanceof it?r:new it(s.context instanceof It?s.context:new It(s.context),r,t,s.maxTurns??xa),i=new Cu({signal:s.signal,state:a});return i.maxTurns=s.maxTurns??a._maxTurns,L(this,ce,Ka).call(this,i,s).then(()=>{i._done()},u=>{i._raiseError(u)}),i})};function Ta(n,e){return typeof n=="string"&&n!==ot.DEFAULT_MODEL_PLACEHOLDER||n?n:e??n??ot.DEFAULT_MODEL_PLACEHOLDER}function Ia(n,e,t,r){var s,a,i,u,p,d,l,f;return qs()&&n&&(typeof t!="string"||!Bn(t))&&((s=e.providerData)!=null&&s.reasoning||(i=(a=e.providerData)==null?void 0:a.text)!=null&&i.verbosity||(u=e.providerData)!=null&&u.reasoning_effort)&&((p=r.providerData)==null||delete p.reasoning,(l=(d=r.providerData)==null?void 0:d.text)==null||delete l.verbosity,(f=r.providerData)==null||delete f.reasoning_effort),r}const $r=new WeakMap;function Gu(n,e){n&&$r.set(n,e)}function zu(n){const e=$r.get(n);return e&&$r.delete(n),e}const Vu=m({input:c()}),jt=class jt extends ru{constructor(t){super();_(this,"name");_(this,"instructions");_(this,"prompt");_(this,"handoffDescription");_(this,"handoffs");_(this,"model");_(this,"modelSettings");_(this,"tools");_(this,"mcpServers");_(this,"inputGuardrails");_(this,"outputGuardrails");_(this,"outputType","text");_(this,"toolUseBehavior");_(this,"resetToolChoice");if(typeof t.name!="string"||t.name.trim()==="")throw new ne("Agent must have a name.");if(this.name=t.name,this.instructions=t.instructions??jt.DEFAULT_MODEL_PLACEHOLDER,this.prompt=t.prompt,this.handoffDescription=t.handoffDescription??"",this.handoffs=t.handoffs??[],this.model=t.model??"",this.modelSettings=t.modelSettings??iu(),this.tools=t.tools??[],this.mcpServers=t.mcpServers??[],this.inputGuardrails=t.inputGuardrails??[],this.outputGuardrails=t.outputGuardrails??[],t.outputType&&(this.outputType=t.outputType),this.toolUseBehavior=t.toolUseBehavior??"run_llm_again",this.resetToolChoice=t.resetToolChoice??!0,t.model!==void 0&&qs()&&(typeof t.model!="string"||!Bn(t.model))&&t.modelSettings===void 0&&(this.modelSettings={}),(t.handoffOutputTypeWarningEnabled===void 0||t.handoffOutputTypeWarningEnabled)&&this.handoffs&&this.outputType){const r=new Set([JSON.stringify(this.outputType)]);for(const s of this.handoffs)"outputType"in s&&s.outputType?r.add(JSON.stringify(s.outputType)):"agent"in s&&s.agent.outputType&&r.add(JSON.stringify(s.agent.outputType));r.size>1&&E.warn(`[Agent] Warning: Handoff agents have different output types: ${Array.from(r).join(", ")}. You can make it type-safe by using Agent.create({ ... }) method instead.`)}}static create(t){return new jt({...t,handoffs:t.handoffs,outputType:t.outputType,handoffOutputTypeWarningEnabled:!1})}get outputSchemaName(){if(this.outputType==="text")return"text";if(nt(this.outputType))return"ZodOutput";if(typeof this.outputType=="object")return this.outputType.name;throw new Error(`Unknown output type: ${this.outputType}`)}clone(t){return new jt({...this,...t})}asTool(t){const{toolName:r,toolDescription:s,customOutputExtractor:a,needsApproval:i,runConfig:u,runOptions:p}=t;return Zn({name:r??Fn(this.name),description:s??"",parameters:Vu,strict:!0,needsApproval:i,execute:async(d,l,f)=>{if(!vo(d))throw new he("Agent tool called with invalid input");const v=await new Bu(u??{}).run(this,d.input,{context:l,...p??{}}),w=typeof a=="function"?await a(v):Eu(v.rawResponses[v.rawResponses.length-1]);return f!=null&&f.toolCall&&Gu(f.toolCall,v),w}})}async getSystemPrompt(t){return typeof this.instructions=="function"?await this.instructions(t,this):this.instructions}async getPrompt(t){return typeof this.prompt=="function"?await this.prompt(t,this):this.prompt}async getMcpTools(t){return this.mcpServers.length>0?Oo({mcpServers:this.mcpServers,runContext:t,agent:this,convertSchemasToStrict:!1}):[]}async getAllTools(t){return[...await this.getMcpTools(t),...this.tools]}processFinalOutput(t){if(this.outputType==="text")return t;if(typeof this.outputType=="object"){const r=JSON.parse(t);return nt(this.outputType)?this.outputType.parse(r):r}throw new Error(`Unknown output type: ${this.outputType}`)}toJSON(){return{name:this.name}}};_(jt,"DEFAULT_MODEL_PLACEHOLDER","");let ot=jt;nu(Ms());function ka(n){const e=atob(n),t=e.length,r=new Uint8Array(t);for(let s=0;s<t;s++)r[s]=e.charCodeAt(s);return r.buffer}function Aa(n){const e=String.fromCharCode(...new Uint8Array(n));return btoa(e)}function Ca(n){if(typeof n>"u"||n===null||typeof n!="object"||!("type"in n)||typeof n.type!="string"||!n.type||n.type!=="message"||!("content"in n)||!Array.isArray(n.content)||n.content.length<1)return;const e=n.content[n.content.length-1];if(!(!("type"in e)||typeof e.type!="string")){if(e.type==="output_text")return typeof e.text=="string"?e.text:void 0;if(e.type==="output_audio")return typeof e.transcript=="string"?e.transcript:void 0}}function Wu(n,e){const t=n.filter(a=>!e.some(i=>i.itemId===a.itemId)),r=e.filter(a=>!n.some(i=>i.itemId===a.itemId)),s=e.filter(a=>n.some(i=>i.itemId===a.itemId&&JSON.stringify(i)!==JSON.stringify(a)));return{removals:t,additions:r,updates:s}}function Hu(){return typeof window>"u"?!1:typeof window.RTCPeerConnection<"u"}function Ea(n){return n.role==="system"?n:n.role==="assistant"?{...n,content:n.content.map(e=>e.type==="output_audio"?{...e,audio:null}:e)}:n.role==="user"?{...n,content:n.content.map(e=>e.type==="input_audio"?{...e,audio:null}:e)}:n}function Oa(n,e,t){if(e.type==="conversation.item.input_audio_transcription.completed")return n.map(a=>{if(a.itemId===e.item_id&&a.type==="message"&&"role"in a&&a.role==="user"){const i=a.content.map(u=>u.type==="input_audio"?{...u,transcript:e.transcript}:u);return{...a,content:i,status:"completed"}}return a});const r=!t&&e.type==="message"?Ea(e):e,s=n.findIndex(a=>a.itemId===e.itemId);if(s!==-1)return n.map((a,i)=>i===s?r:!t&&a.type==="message"?Ea(a):a);if(e.previousItemId){const a=n.findIndex(i=>i.itemId===e.previousItemId);return a!==-1?[...n.slice(0,a+1),r,...n.slice(a+1)]:[...n,r]}else return[...n,r]}const Ku={"User-Agent":`Agents/JavaScript ${W.version}`,"X-OpenAI-Agents-SDK":`openai-agents-sdk.${W.version}`},Yu=`openai-agents-sdk.${W.version}`;function Xu(n,e){const{name:t,arguments:r,...s}=e;return new we({type:"hosted_tool_call",name:t,arguments:JSON.stringify(r),status:"in_progress",providerData:{...s}},n)}function Ra(n){const{name:e,arguments:t,providerData:r}=n.rawItem,{itemId:s,serverLabel:a,...i}=r??{};if(!s||!a)throw new Error("Invalid approval item for Realtime MCP approval request");return{type:"mcp_approval_request",itemId:s,serverLabel:a,...i,name:e,arguments:t?JSON.parse(t):{},approved:null}}class Qu extends ot{constructor(t){super(t);_(this,"voice");this.voice=t.voice}}function ec(n){return{debounceTextLength:n.debounceTextLength??100}}function tc({policyHint:n,...e}){const t=Ar(e),r=n??t.name;return{...t,policyHint:r,run:async s=>{const a=await t.run(s);return{...a,guardrail:{...a.guardrail,policyHint:r}}}}}function nc(n){return`
 Your last answer was blocked. 
Failed Guardrail Reason: ${n.guardrail.policyHint}. 
Failure Details: ${JSON.stringify(n.output.outputInfo??{})}. 
Please respond again following policy. Apologize for not being able to answer the question (while avoiding the specific reason) and divert discussion back to an approved topic immediately and not invite more discussion.
`.trim()}const xe=Os("openai-agents:realtime");function ut(n,e){return n in e&&typeof e[n]<"u"}function rc(n){return ut("modalities",n)||ut("inputAudioFormat",n)||ut("outputAudioFormat",n)||ut("inputAudioTranscription",n)||ut("turnDetection",n)||ut("inputAudioNoiseReduction",n)||ut("speed",n)}function sc(n){var e,t,r,s,a,i,u,p;if(!rc(n)){const d=(e=n.audio)!=null&&e.input?{format:Xn(n.audio.input.format),noiseReduction:n.audio.input.noiseReduction??null,transcription:n.audio.input.transcription,turnDetection:n.audio.input.turnDetection}:void 0,l=((r=(t=n.audio)==null?void 0:t.output)==null?void 0:r.voice)??n.voice,f=(s=n.audio)!=null&&s.output||typeof l<"u"?{format:Xn((i=(a=n.audio)==null?void 0:a.output)==null?void 0:i.format),voice:l,speed:(p=(u=n.audio)==null?void 0:u.output)==null?void 0:p.speed}:void 0;return{model:n.model,instructions:n.instructions,toolChoice:n.toolChoice,tools:n.tools,tracing:n.tracing,providerData:n.providerData,prompt:n.prompt,outputModalities:n.outputModalities,audio:d||f?{input:d,output:f}:void 0}}return{model:n.model,instructions:n.instructions,toolChoice:n.toolChoice,tools:n.tools,tracing:n.tracing,providerData:n.providerData,prompt:n.prompt,outputModalities:n.modalities,audio:{input:{format:Xn(n.inputAudioFormat),noiseReduction:n.inputAudioNoiseReduction??null,transcription:n.inputAudioTranscription,turnDetection:n.turnDetection},output:{format:Xn(n.outputAudioFormat),voice:n.voice,speed:n.speed}}}}function Xn(n){if(!n)return;if(typeof n=="object")return n;const e=String(n);return e==="pcm16"?{type:"audio/pcm",rate:24e3}:e==="g711_ulaw"?{type:"audio/pcmu"}:e==="g711_alaw"?{type:"audio/pcma"}:{type:"audio/pcm",rate:24e3}}m({itemId:c()});const Na=fe("role",[m({itemId:c(),previousItemId:c().nullable().optional(),type:g("message"),role:g("system"),content:G(m({type:g("input_text"),text:c()}))}),m({itemId:c(),previousItemId:c().nullable().optional(),type:g("message"),role:g("user"),status:ie(["in_progress","completed"]),content:G(m({type:g("input_text"),text:c()}).or(m({type:g("input_audio"),audio:c().nullable().optional(),transcript:c().nullable()})))}),m({itemId:c(),previousItemId:c().nullable().optional(),type:g("message"),role:g("assistant"),status:ie(["in_progress","completed","incomplete"]),content:G(m({type:g("output_text"),text:c()}).or(m({type:g("output_audio"),audio:c().nullable().optional(),transcript:c().nullable().optional()})))})]),Da=m({itemId:c(),previousItemId:c().nullable().optional(),type:g("function_call"),status:ie(["in_progress","completed","incomplete"]),arguments:c(),name:c(),output:c().nullable()}),Pa=m({itemId:c(),previousItemId:c().nullable().optional(),type:ie(["mcp_call","mcp_tool_call"]),status:ie(["in_progress","completed","incomplete"]),arguments:c(),name:c(),output:c().nullable()}),ac=m({itemId:c(),type:g("mcp_approval_request"),serverLabel:c(),name:c(),arguments:te(c(),U()),approved:et().optional().nullable()}),Ma=m({id:c().optional().nullable(),conversation_id:c().optional().nullable(),max_output_tokens:A().or(g("inf")).optional().nullable(),metadata:te(c(),U()).optional().nullable(),output_modalities:G(c()).optional().nullable(),object:g("realtime.response").optional().nullable(),output:G(U()).optional().nullable(),audio:m({output:m({format:U().optional().nullable(),voice:c().optional().nullable()}).optional().nullable()}).optional().nullable(),status:ie(["completed","incomplete","failed","cancelled","in_progress"]).optional().nullable(),status_details:te(c(),U()).optional().nullable(),usage:m({input_tokens:A().optional(),input_tokens_details:te(c(),U()).optional().nullable(),output_tokens:A().optional(),output_tokens_details:te(c(),U()).optional().nullable()}).optional().nullable()}),ic=m({id:c().optional(),audio:c().nullable().optional(),text:c().nullable().optional(),transcript:c().nullable().optional(),type:ps([g("input_text"),g("input_audio"),g("item_reference"),g("output_text"),g("output_audio")])}),At=m({id:c().optional(),arguments:c().optional(),call_id:c().optional(),content:G(ic).optional(),name:c().optional(),output:c().nullable().optional(),role:ie(["user","assistant","system"]).optional(),status:ie(["completed","incomplete","in_progress"]).optional(),type:ie(["message","function_call","function_call_output","mcp_list_tools","mcp_tool_call","mcp_call","mcp_approval_request","mcp_approval_response"]).optional(),approval_request_id:c().nullable().optional(),approve:et().nullable().optional(),reason:c().nullable().optional(),server_label:c().optional(),error:U().nullable().optional(),tools:G(m({name:c(),description:c(),input_schema:te(U()).optional()}).passthrough()).optional()}).passthrough(),oc=m({type:g("conversation.created"),event_id:c(),conversation:m({id:c().optional(),object:g("realtime.conversation").optional()})}),uc=m({type:g("conversation.item.added"),event_id:c(),item:At,previous_item_id:c().nullable().optional()}),cc=m({type:g("conversation.item.done"),event_id:c(),item:At,previous_item_id:c().nullable().optional()}),dc=m({type:g("conversation.item.deleted"),event_id:c(),item_id:c()}),lc=m({type:g("conversation.item.input_audio_transcription.completed"),event_id:c(),item_id:c(),content_index:A(),transcript:c(),logprobs:G(U()).nullable().optional()}),pc=m({type:g("conversation.item.input_audio_transcription.delta"),event_id:c(),item_id:c(),content_index:A().optional(),delta:c().optional(),logprobs:G(U()).nullable().optional()}),fc=m({type:g("conversation.item.input_audio_transcription.failed"),event_id:c(),item_id:c(),content_index:A(),error:m({code:c().optional(),message:c().optional(),param:c().optional(),type:c().optional()})}),hc=m({type:g("conversation.item.retrieved"),event_id:c(),item:At}),mc=m({type:g("conversation.item.truncated"),event_id:c(),item_id:c(),audio_end_ms:A(),content_index:A()}),gc=m({type:g("conversation.item.create"),item:At,event_id:c().optional(),previous_item_id:c().nullable().optional()}),_c=m({type:g("conversation.item.delete"),item_id:c(),event_id:c().optional()}),yc=m({type:g("conversation.item.retrieve"),item_id:c(),event_id:c().optional()}),vc=m({type:g("conversation.item.truncate"),item_id:c(),audio_end_ms:A(),content_index:A(),event_id:c().optional()}),wc=m({type:g("error"),event_id:c().optional(),error:U().optional()}),bc=m({type:g("input_audio_buffer.cleared"),event_id:c()}),xc=m({type:g("input_audio_buffer.append"),audio:c(),event_id:c().optional()}),Sc=m({type:g("input_audio_buffer.clear"),event_id:c().optional()}),Tc=m({type:g("input_audio_buffer.commit"),event_id:c().optional()}),Ic=m({type:g("input_audio_buffer.committed"),event_id:c(),item_id:c(),previous_item_id:c().nullable().optional()}),kc=m({type:g("input_audio_buffer.speech_started"),event_id:c(),item_id:c(),audio_start_ms:A()}),Ac=m({type:g("input_audio_buffer.speech_stopped"),event_id:c(),item_id:c(),audio_end_ms:A()}),Cc=m({type:g("output_audio_buffer.started"),event_id:c()}).passthrough(),Ec=m({type:g("output_audio_buffer.stopped"),event_id:c()}).passthrough(),Oc=m({type:g("output_audio_buffer.cleared"),event_id:c()}),Rc=m({type:g("rate_limits.updated"),event_id:c(),rate_limits:G(m({limit:A().optional(),name:ie(["requests","tokens"]).optional(),remaining:A().optional(),reset_seconds:A().optional()}))}),Nc=m({type:g("response.output_audio.delta"),event_id:c(),item_id:c(),content_index:A(),delta:c(),output_index:A(),response_id:c()}),Dc=m({type:g("response.output_audio.done"),event_id:c(),item_id:c(),content_index:A(),output_index:A(),response_id:c()}),Pc=m({type:g("response.output_audio_transcript.delta"),event_id:c(),item_id:c(),content_index:A(),delta:c(),output_index:A(),response_id:c()}),Mc=m({type:g("response.output_audio_transcript.done"),event_id:c(),item_id:c(),content_index:A(),transcript:c(),output_index:A(),response_id:c()}),jc=m({type:g("response.content_part.added"),event_id:c(),item_id:c(),content_index:A(),output_index:A(),response_id:c(),part:m({audio:c().optional(),text:c().optional(),transcript:c().optional(),type:ie(["text","audio"]).optional()})}),$c=m({type:g("response.content_part.done"),event_id:c(),item_id:c(),content_index:A(),output_index:A(),response_id:c(),part:m({audio:c().optional(),text:c().optional(),transcript:c().optional(),type:ie(["text","audio"]).optional()})}),Fc=m({type:g("response.created"),event_id:c(),response:Ma}),ja=m({type:g("response.done"),event_id:c(),response:Ma}),Lc=m({type:g("response.function_call_arguments.delta"),event_id:c(),item_id:c(),call_id:c(),delta:c(),output_index:A(),response_id:c()}),Zc=m({type:g("response.function_call_arguments.done"),event_id:c(),item_id:c(),call_id:c(),arguments:c(),output_index:A(),response_id:c()}),Uc=m({type:g("response.output_item.added"),event_id:c(),item:At,output_index:A(),response_id:c()}),qc=m({type:g("response.output_item.done"),event_id:c(),item:At,output_index:A(),response_id:c()}),Jc=m({type:g("response.output_text.delta"),event_id:c(),item_id:c(),content_index:A(),delta:c(),output_index:A(),response_id:c()}),Bc=m({type:g("response.output_text.done"),event_id:c(),item_id:c(),content_index:A(),text:c(),output_index:A(),response_id:c()}),Gc=m({type:g("session.created"),event_id:c(),session:U()}),zc=m({type:g("session.updated"),event_id:c(),session:U()}),Vc=m({type:g("response.cancel"),event_id:c().optional(),response_id:c().optional()}),Wc=m({type:g("response.create"),event_id:c().optional(),response:U().optional()}),Hc=m({type:g("session.update"),event_id:c().optional(),session:U()}),Kc=m({type:g("mcp_list_tools.in_progress"),event_id:c().optional(),item_id:c().optional()}),Yc=m({type:g("mcp_list_tools.completed"),event_id:c().optional(),item_id:c().optional()}),Xc=m({type:g("response.mcp_call_arguments.delta"),event_id:c(),response_id:c(),item_id:c(),output_index:A(),delta:c(),obfuscation:c()}),Qc=m({type:g("response.mcp_call_arguments.done"),event_id:c(),response_id:c(),item_id:c(),output_index:A(),arguments:c()}),ed=m({type:g("response.mcp_call.in_progress"),event_id:c(),output_index:A(),item_id:c()}),td=m({type:g("response.mcp_call.completed"),event_id:c(),output_index:A(),item_id:c()}),nd=m({type:g("mcp_list_tools.failed"),event_id:c().optional(),item_id:c().optional()}),rd=m({type:c(),event_id:c().optional().nullable()}).passthrough(),sd=fe("type",[oc,uc,cc,dc,lc,pc,fc,hc,mc,wc,bc,Ic,kc,Ac,Cc,Ec,Oc,Rc,Nc,Dc,Pc,Mc,jc,$c,Fc,ja,Lc,Zc,Uc,qc,Jc,Bc,Gc,zc,Kc,Yc,nd,Xc,Qc,ed,td]);fe("type",[gc,_c,yc,vc,xc,Sc,Tc,Vc,Wc,Hc]);function Fr(n){const e=JSON.parse(n.data.toString()),t=sd.safeParse(e);if(!t.success){const r=rd.safeParse(e);return r.success?{data:r.data,isGeneric:!0}:{data:null,isGeneric:!0}}return{data:t.data,isGeneric:!1}}const $a="gpt-realtime",Oe={outputModalities:["audio"],audio:{input:{format:{type:"audio/pcm",rate:24e3},transcription:{model:"gpt-4o-mini-transcribe"},turnDetection:{type:"semantic_vad"},noiseReduction:null},output:{format:{type:"audio/pcm",rate:24e3},speed:1}}},Ur=class Ur extends kr{constructor(t={}){super();I(this,ht);I(this,fn);I(this,pe,null);I(this,hn,null);_(this,"eventEmitter",new Un);y(this,ht,t.model??$a),y(this,fn,t.apiKey)}get currentModel(){return o(this,ht)}set currentModel(t){y(this,ht,t)}get _rawSessionConfig(){return o(this,hn)??null}async _getApiKey(t){const r=t.apiKey??o(this,fn);return typeof r=="function"?await r():r}_onMessage(t){var a,i,u,p,d,l;const{data:r,isGeneric:s}=Fr(t);if(r!==null&&(this.emit("*",r),!s)){if(r.type==="error"?this.emit("error",{type:"error",error:r}):this.emit(r.type,r),r.type==="response.created"){this.emit("turn_started",{type:"response_started",providerData:{...r}});return}if(r.type==="session.updated"&&y(this,hn,r.session),r.type==="response.done"){const f=ja.safeParse(r);if(!f.success){xe.error("Error parsing response done event",f.error);return}const h=((a=f.data.response.usage)==null?void 0:a.input_tokens)??0,v=((i=f.data.response.usage)==null?void 0:i.output_tokens)??0,w=h+v,b=new Vn({inputTokens:h,inputTokensDetails:((u=f.data.response.usage)==null?void 0:u.input_tokens_details)??{},outputTokens:v,outputTokensDetails:((p=f.data.response.usage)==null?void 0:p.output_tokens_details)??{},totalTokens:w});this.emit("usage_update",b),this.emit("turn_done",{type:"response_done",response:{id:f.data.response.id??"",output:f.data.response.output??[],usage:{inputTokens:h,inputTokensDetails:((d=f.data.response.usage)==null?void 0:d.input_tokens_details)??{},outputTokens:v,outputTokensDetails:((l=f.data.response.usage)==null?void 0:l.output_tokens_details)??{},totalTokens:w}}});return}if(r.type==="response.output_audio.done"){this.emit("audio_done");return}if(r.type==="conversation.item.deleted"){this.emit("item_deleted",{itemId:r.item_id});return}if(r.type==="conversation.item.input_audio_transcription.completed"||r.type==="conversation.item.truncated"){this.sendEvent({type:"conversation.item.retrieve",item_id:r.item_id});return}if(r.type==="conversation.item.input_audio_transcription.delta"||r.type==="response.output_text.delta"||r.type==="response.output_audio_transcript.delta"||r.type==="response.function_call_arguments.delta"){r.type==="response.output_audio_transcript.delta"&&this.emit("audio_transcript_delta",{type:"transcript_delta",delta:r.delta,itemId:r.item_id,responseId:r.response_id});return}if(r.type==="conversation.item.added"||r.type==="conversation.item.done"||r.type==="conversation.item.retrieved"){if(r.item.type==="mcp_list_tools"&&r.type==="conversation.item.done"){const f=r.item.server_label??"",h=r.item.tools??[];try{this.emit("mcp_tools_listed",{serverLabel:f,tools:h})}catch(v){xe.error("Error emitting mcp_tools_listed",v,r.item)}return}if(r.item.type==="message"){const f=r.type==="conversation.item.added"||r.type==="conversation.item.done"?r.previous_item_id:null,h=Na.parse({itemId:r.item.id,previousItemId:f,type:r.item.type,role:r.item.role,content:r.item.content,status:r.item.status});this.emit("item_update",h);return}if(r.item.type==="mcp_approval_request"&&r.type==="conversation.item.done"){const f=r.item,h=ac.parse({itemId:f.id,type:f.type,serverLabel:f.server_label,name:f.name,arguments:JSON.parse(f.arguments||"{}"),approved:f.approved});this.emit("item_update",h),this.emit("mcp_approval_request",h);return}if(r.item.type==="mcp_tool_call"||r.item.type==="mcp_call"){const f=r.type==="conversation.item.done"?"completed":"in_progress",h=Pa.parse({itemId:r.item.id,type:r.item.type,status:f,arguments:r.item.arguments,name:r.item.name,output:r.item.output});this.emit("item_update",h),r.type==="conversation.item.done"&&this.emit("mcp_tool_call_completed",h);return}}if(r.type==="response.mcp_call.in_progress"){const f=r;this.sendEvent({type:"conversation.item.retrieve",item_id:f.item_id});return}if(r.type==="mcp_list_tools.in_progress"){const f=r;f.item_id&&this.sendEvent({type:"conversation.item.retrieve",item_id:f.item_id});return}if(r.type==="response.output_item.done"||r.type==="response.output_item.added"){const f=r.item;if(f.type==="function_call"&&f.status==="completed"){const h=Da.parse({itemId:f.id,type:f.type,status:"in_progress",arguments:f.arguments,name:f.name,output:null});this.emit("item_update",h),this.emit("function_call",{id:f.id,type:"function_call",callId:f.call_id??"",arguments:f.arguments??"",name:f.name??""});return}if(f.type==="mcp_tool_call"||f.type==="mcp_call"){const h=Pa.parse({itemId:f.id,type:f.type,status:r.type==="response.output_item.done"?"completed":"in_progress",arguments:f.arguments,name:f.name,output:f.output});this.emit("item_update",h);return}if(f.type==="message"){const h=Na.parse({itemId:r.item.id,type:r.item.type,role:r.item.role,content:r.item.content,status:r.type==="response.output_item.done"?f.status??"completed":f.status??"in_progress"});this.emit("item_update",h);return}}}}_onError(t){this.emit("error",{type:"error",error:t})}_onOpen(){this.emit("connected")}_onClose(){this.emit("disconnected")}sendMessage(t,r,{triggerResponse:s=!0}={}){const a=typeof t=="string"?[{type:"input_text",text:t}]:t.content.map(i=>i.type==="input_image"?{type:"input_image",image_url:i.image,...i.providerData??{}}:i);this.sendEvent({type:"conversation.item.create",item:{type:"message",role:"user",content:a},...r}),s&&this.sendEvent({type:"response.create"})}addImage(t,{triggerResponse:r=!0}={}){this.sendMessage({type:"message",role:"user",content:[{type:"input_image",image:t}]},{},{triggerResponse:r})}_getMergedSessionConfig(t){var a,i,u,p,d,l,f,h,v,w,b,O,R,F,V,q,J,ae,ye,qt,Sn,tr,qa,Ja,Ba,Ga,za,Va;const r=sc(t),s={type:"realtime",instructions:r.instructions,model:r.model??o(this,ht),output_modalities:r.outputModalities??Oe.outputModalities,audio:{input:{format:((i=(a=r.audio)==null?void 0:a.input)==null?void 0:i.format)??((p=(u=Oe.audio)==null?void 0:u.input)==null?void 0:p.format),noise_reduction:((l=(d=r.audio)==null?void 0:d.input)==null?void 0:l.noiseReduction)??((h=(f=Oe.audio)==null?void 0:f.input)==null?void 0:h.noiseReduction),transcription:((w=(v=r.audio)==null?void 0:v.input)==null?void 0:w.transcription)??((O=(b=Oe.audio)==null?void 0:b.input)==null?void 0:O.transcription),turn_detection:Ur.buildTurnDetectionConfig((F=(R=r.audio)==null?void 0:R.input)==null?void 0:F.turnDetection)??((q=(V=Oe.audio)==null?void 0:V.input)==null?void 0:q.turnDetection)},output:{format:((ae=(J=r.audio)==null?void 0:J.output)==null?void 0:ae.format)??((qt=(ye=Oe.audio)==null?void 0:ye.output)==null?void 0:qt.format),voice:((tr=(Sn=r.audio)==null?void 0:Sn.output)==null?void 0:tr.voice)??((Ja=(qa=Oe.audio)==null?void 0:qa.output)==null?void 0:Ja.voice),speed:((Ga=(Ba=r.audio)==null?void 0:Ba.output)==null?void 0:Ga.speed)??((Va=(za=Oe.audio)==null?void 0:za.output)==null?void 0:Va.speed)}},tool_choice:r.toolChoice??Oe.toolChoice,...r.providerData??{}};return r.prompt&&(s.prompt={id:r.prompt.promptId,version:r.prompt.version,variables:r.prompt.variables}),r.tools&&r.tools.length>0&&(s.tools=r.tools.map(ld=>({...ld,strict:void 0}))),s}static buildTurnDetectionConfig(t){if(typeof t>"u")return;const{type:r,createResponse:s,create_response:a,eagerness:i,interruptResponse:u,interrupt_response:p,prefixPaddingMs:d,prefix_padding_ms:l,silenceDurationMs:f,silence_duration_ms:h,threshold:v,idleTimeoutMs:w,idle_timeout_ms:b,...O}=t,R={type:r,create_response:s||a,eagerness:i,interrupt_response:u||p,prefix_padding_ms:d||l,silence_duration_ms:f||h,idle_timeout_ms:w||b,threshold:v,...O};return Object.keys(R).forEach(F=>{R[F]===void 0&&delete R[F]}),Object.keys(R).length>0?R:void 0}set _tracingConfig(t){y(this,pe,t)}_updateTracingConfig(t){var r,s,a;if(typeof o(this,pe)>"u"&&y(this,pe,null),t==="auto"){this.sendEvent({type:"session.update",session:{type:"realtime",tracing:"auto"}});return}if(o(this,pe)!==null&&typeof o(this,pe)!="string"&&typeof t!="string"){xe.warn("Tracing config is already set, skipping setting it again. This likely happens when you already set a tracing config on session creation.");return}if(t===null){xe.debug("Disabling tracing for this session. It cannot be turned on for this session from this point on."),this.sendEvent({type:"session.update",session:{type:"realtime",tracing:null}});return}if(o(this,pe)===null||typeof o(this,pe)=="string"){this.sendEvent({type:"session.update",session:{type:"realtime",tracing:t}});return}if((t==null?void 0:t.group_id)!==((r=o(this,pe))==null?void 0:r.group_id)||(t==null?void 0:t.metadata)!==((s=o(this,pe))==null?void 0:s.metadata)||(t==null?void 0:t.workflow_name)!==((a=o(this,pe))==null?void 0:a.workflow_name)){xe.warn("Mismatch in tracing config. Ignoring the new tracing config. This likely happens when you already set a tracing config on session creation. Current tracing config: %s, new tracing config: %s",JSON.stringify(o(this,pe)),JSON.stringify(t));return}this.sendEvent({type:"session.update",session:{type:"realtime",tracing:t}})}updateSessionConfig(t){const r=this._getMergedSessionConfig(t);this.sendEvent({type:"session.update",session:r})}sendFunctionCallOutput(t,r,s=!0){this.sendEvent({type:"conversation.item.create",item:{type:"function_call_output",output:r,call_id:t.callId}});try{const a=Da.parse({itemId:t.id,previousItemId:t.previousItemId,type:"function_call",status:"completed",arguments:t.arguments,name:t.name,output:r});this.emit("item_update",a)}catch(a){xe.error("Error parsing tool call item",a,t)}s&&this.sendEvent({type:"response.create"})}sendAudio(t,{commit:r=!1}={}){this.sendEvent({type:"input_audio_buffer.append",audio:Aa(t)}),r&&this.sendEvent({type:"input_audio_buffer.commit"})}resetHistory(t,r){const{removals:s,additions:a,updates:i}=Wu(t,r),u=new Set(s.map(d=>d.itemId));for(const d of i)u.add(d.itemId);if(u.size>0)for(const d of u)this.sendEvent({type:"conversation.item.delete",item_id:d});const p=[...a,...i];for(const d of p)if(d.type==="message"){const l={type:"message",role:d.role,content:d.content,id:d.itemId};d.role!=="system"&&d.status&&(l.status=d.status),this.sendEvent({type:"conversation.item.create",item:l})}else d.type==="function_call"&&xe.warn("Function calls cannot be manually added or updated at the moment. Ignoring.")}sendMcpResponse(t,r){this.sendEvent({type:"conversation.item.create",previous_item_id:t.itemId,item:{type:"mcp_approval_response",approval_request_id:t.itemId,approve:r}})}};ht=new WeakMap,fn=new WeakMap,pe=new WeakMap,hn=new WeakMap;let tn=Ur;class Fa extends tn{constructor(t={}){if(typeof RTCPeerConnection>"u")throw new Error("WebRTC is not supported in this environment");super(t);_(this,"options");I(this,mn);I(this,K,{status:"disconnected",peerConnection:void 0,dataChannel:void 0,callId:void 0});I(this,gn);I(this,mt,!1);I(this,_n,!1);this.options=t,y(this,mn,t.baseUrl??"https://api.openai.com/v1/realtime/calls"),y(this,gn,t.useInsecureApiKey??!1)}get callId(){return o(this,K).callId}get status(){return o(this,K).status}get connectionState(){return o(this,K)}get muted(){return o(this,_n)}async connect(t){if(o(this,K).status==="connected")return;o(this,K).status==="connecting"&&xe.warn("Realtime connection already in progress. Please await original promise");const r=t.model??this.currentModel;this.currentModel=r;const s=t.url??o(this,mn),a=await this._getApiKey(t),i=typeof a=="string"&&a.startsWith("ek_");if(!o(this,gn)&&!i)throw new ne("Using the WebRTC connection in a browser environment requires an ephemeral client key. If you need to use a regular API key, use the WebSocket transport or set the `useInsecureApiKey` option to true.");return new Promise(async(u,p)=>{var d,l;try{const f={...t.initialSessionConfig||{},model:this.currentModel},h=new URL(s);let v=new RTCPeerConnection;const w=v.createDataChannel("oai-events");let b;y(this,K,{status:"connecting",peerConnection:v,dataChannel:w,callId:b}),this.emit("connection_change",o(this,K).status),w.addEventListener("open",()=>{y(this,K,{status:"connected",peerConnection:v,dataChannel:w,callId:b}),this.updateSessionConfig(f),this.emit("connection_change",o(this,K).status),this._onOpen(),u()}),w.addEventListener("error",J=>{this.close(),this._onError(J),p(J)}),w.addEventListener("message",J=>{this._onMessage(J);const{data:ae,isGeneric:ye}=Fr(J);!ae||ye||(ae.type==="response.created"?y(this,mt,!0):ae.type==="response.done"&&y(this,mt,!1),ae.type==="session.created"&&(this._tracingConfig=ae.session.tracing,this._updateTracingConfig(f.tracing??"auto")))});const O=this.options.audioElement??document.createElement("audio");O.autoplay=!0,v.ontrack=J=>{O.srcObject=J.streams[0]};const R=this.options.mediaStream??await navigator.mediaDevices.getUserMedia({audio:!0});v.addTrack(R.getAudioTracks()[0]),this.options.changePeerConnection&&(v=await this.options.changePeerConnection(v),y(this,K,{...o(this,K),peerConnection:v}));const F=await v.createOffer();if(await v.setLocalDescription(F),!F.sdp)throw new Error("Failed to create offer");const V=await fetch(h,{method:"POST",body:F.sdp,headers:{"Content-Type":"application/sdp",Authorization:`Bearer ${a}`,"X-OpenAI-Agents-SDK":Ku["X-OpenAI-Agents-SDK"]}});b=(l=(d=V.headers)==null?void 0:d.get("Location"))==null?void 0:l.split("/").pop(),y(this,K,{...o(this,K),callId:b});const q={type:"answer",sdp:await V.text()};await v.setRemoteDescription(q)}catch(f){this.close(),this._onError(f),p(f)}})}sendEvent(t){if(!o(this,K).dataChannel||o(this,K).dataChannel.readyState!=="open")throw new Error("WebRTC data channel is not connected. Make sure you call `connect()` before sending events.");o(this,K).dataChannel.send(JSON.stringify(t))}mute(t){y(this,_n,t),o(this,K).peerConnection&&o(this,K).peerConnection.getSenders().forEach(s=>{s.track&&(s.track.enabled=!t)})}close(){if(o(this,K).dataChannel&&o(this,K).dataChannel.close(),o(this,K).peerConnection){const t=o(this,K).peerConnection;t.getSenders().forEach(r=>{var s;(s=r.track)==null||s.stop()}),t.close()}o(this,K).status!=="disconnected"&&(y(this,K,{status:"disconnected",peerConnection:void 0,dataChannel:void 0,callId:void 0}),this.emit("connection_change",o(this,K).status),this._onClose())}interrupt(){o(this,mt)&&(this.sendEvent({type:"response.cancel"}),y(this,mt,!1)),this.sendEvent({type:"output_audio_buffer.clear"})}}mn=new WeakMap,K=new WeakMap,gn=new WeakMap,mt=new WeakMap,_n=new WeakMap;const ad=globalThis.WebSocket;class La extends tn{constructor(t={}){super(t);I(this,er);I(this,gt);I(this,_t);I(this,se,{status:"disconnected",websocket:void 0});I(this,yn);I(this,Le);I(this,yt);_(this,"_firstAudioTimestamp");_(this,"_audioLengthMs",0);I(this,vt,!1);y(this,_t,t.url),y(this,yn,t.useInsecureApiKey??!1)}get status(){return o(this,se).status}get connectionState(){return o(this,se)}get muted(){return null}get currentItemId(){return o(this,Le)}_onAudio(t){this.emit("audio",t)}async connect(t){const r=t.model??this.currentModel;this.currentModel=r,y(this,gt,await this._getApiKey(t));const s=t.url??o(this,_t)??`wss://api.openai.com/v1/realtime?model=${this.currentModel}`;y(this,_t,s);const a={...t.initialSessionConfig||{},model:this.currentModel};await new Promise((i,u)=>{try{L(this,er,Ya).call(this,i,u,a)}catch(p){u(p)}}),await this.updateSessionConfig(a)}sendEvent(t){if(!o(this,se).websocket)throw new Error("WebSocket is not connected. Make sure you call `connect()` before sending events.");o(this,se).websocket.send(JSON.stringify(t))}close(){var t;(t=o(this,se).websocket)==null||t.close(),y(this,Le,void 0),this._firstAudioTimestamp=void 0,this._audioLengthMs=0,y(this,yt,void 0)}mute(t){throw new Error("Mute is not supported for the WebSocket transport. You have to mute the audio input yourself.")}sendAudio(t,r={}){o(this,se).status==="connected"&&super.sendAudio(t,r)}_cancelResponse(){o(this,vt)&&(this.sendEvent({type:"response.cancel"}),y(this,vt,!1))}_interrupt(t,r=!0){if(t<0)return;r&&this._cancelResponse();const s=this._audioLengthMs??Number.POSITIVE_INFINITY,a=Math.max(0,Math.min(Math.floor(t),s));this.emit("audio_interrupted"),this.sendEvent({type:"conversation.item.truncate",item_id:o(this,Le),content_index:o(this,yt),audio_end_ms:a})}interrupt(t=!0){if(!o(this,Le)||typeof this._firstAudioTimestamp!="number")return;const r=Date.now()-this._firstAudioTimestamp;r>=0&&this._interrupt(r,t),y(this,Le,void 0),this._firstAudioTimestamp=void 0,this._audioLengthMs=0,y(this,yt,void 0)}}gt=new WeakMap,_t=new WeakMap,se=new WeakMap,yn=new WeakMap,Le=new WeakMap,yt=new WeakMap,vt=new WeakMap,er=new WeakSet,Ya=function(t,r,s){if(o(this,se).websocket){t();return}if(!o(this,gt))throw new ne("API key is not set. Please call `connect()` with an API key first.");if(!o(this,gt).startsWith("ek_")&&!o(this,yn))throw new ne("Using the WebSocket connection in a browser environment requires an ephemeral client key. If you have to use a regular API key, set the `useInsecureApiKey` option to true.");const a=["realtime","openai-insecure-api-key."+o(this,gt),Yu],i=new ad(o(this,_t),a);y(this,se,{status:"connecting",websocket:i}),this.emit("connection_change",o(this,se).status),i.addEventListener("open",()=>{y(this,se,{status:"connected",websocket:i}),this.emit("connection_change",o(this,se).status),this._onOpen(),t()}),i.addEventListener("error",u=>{this._onError(u),y(this,se,{status:"disconnected",websocket:void 0}),this.emit("connection_change",o(this,se).status),r(u)}),i.addEventListener("message",u=>{var l,f,h,v,w,b,O;this._onMessage(u);const{data:p,isGeneric:d}=Fr(u);if(!(!p||d))if(p.type==="response.output_audio.delta"){y(this,yt,p.content_index),y(this,Le,p.item_id),this._firstAudioTimestamp===void 0&&(this._firstAudioTimestamp=Date.now(),this._audioLengthMs=0);const R=ka(p.delta),F=(h=(f=(l=this._rawSessionConfig)==null?void 0:l.audio)==null?void 0:f.output)==null?void 0:h.format;if(F&&typeof F=="object"){const q=F.type;if(q==="audio/pcmu"||q==="audio/pcma")this._audioLengthMs+=R.byteLength/8;else if(q==="audio/pcm"){const J=F.rate??24e3;this._audioLengthMs+=R.byteLength/2/J*1e3}else this._audioLengthMs+=R.byteLength/24/2}else typeof F=="string"?F.startsWith("g711_")?this._audioLengthMs+=R.byteLength/8:this._audioLengthMs+=R.byteLength/24/2:this._audioLengthMs+=R.byteLength/24/2;const V={type:"audio",data:R,responseId:p.response_id};this._onAudio(V)}else if(p.type==="input_audio_buffer.speech_started"){const R=((O=(b=(w=(v=this._rawSessionConfig)==null?void 0:v.audio)==null?void 0:w.input)==null?void 0:b.turn_detection)==null?void 0:O.interrupt_response)??!1;this.interrupt(!R)}else p.type==="response.created"?y(this,vt,!0):p.type==="response.done"?y(this,vt,!1):p.type==="session.created"&&(this._tracingConfig=p.session.tracing,this._updateTracingConfig(s.tracing??"auto"))}),i.addEventListener("close",()=>{y(this,se,{status:"disconnected",websocket:void 0}),this.emit("connection_change",o(this,se).status),this._onClose()})};const Za=Symbol("backgroundResult");function id(n){return{[Za]:!0,content:n}}function Ua(n){return typeof n=="object"&&n!==null&&Za in n}function od(n){return n.type==="function"||n.type==="hosted_tool"&&n.name==="hosted_mcp"}function ud(n){if(n.type==="function")return n;if(n.type==="hosted_tool"&&n.name==="hosted_mcp"){const e=n.providerData.server_url&&n.providerData.server_url.length>0?n.providerData.server_url:void 0;return{type:"mcp",server_label:n.providerData.server_label,server_url:e,headers:n.providerData.headers,allowed_tools:n.providerData.allowed_tools,require_approval:n.providerData.require_approval}}throw new ne(`Invalid tool type: ${n}`)}class cd extends Un{constructor(t,r={}){super();I(this,Y);_(this,"initialAgent");_(this,"options");I(this,$);I(this,D);I(this,$t);I(this,P);I(this,Ft,[]);I(this,Lt);I(this,vn,{});I(this,X,[]);I(this,Zt);I(this,Ut,{});I(this,Re,!1);I(this,wn,new Map);I(this,wt,[]);I(this,bn,null);I(this,xn,!0);this.initialAgent=t,this.options=r,typeof r.transport>"u"&&Hu()||r.transport==="webrtc"?y(this,$,new Fa):r.transport==="websocket"||typeof r.transport>"u"?y(this,$,new La):y(this,$,r.transport),y(this,D,t),y(this,P,new It({...r.context??{},history:o(this,X)})),y(this,Ft,(r.outputGuardrails??[]).map(tc)),y(this,Lt,ec(r.outputGuardrailSettings??{})),y(this,Zt,r.historyStoreAudio??!1),y(this,xn,r.automaticallyTriggerResponseForMcpToolCalls??!0)}get transport(){return o(this,$)}get currentAgent(){return o(this,D)}get usage(){return o(this,P).usage}get context(){return o(this,P)}get muted(){return o(this,$).muted}get history(){return o(this,X)}get availableMcpTools(){return o(this,wt)}async updateAgent(t){return o(this,D).emit("agent_handoff",o(this,P),t),this.emit("agent_handoff",o(this,P),o(this,D),t),await L(this,Y,nr).call(this,t),await o(this,$).updateSessionConfig(await L(this,Y,rr).call(this)),t}async connect(t){await L(this,Y,nr).call(this,this.initialAgent),L(this,Y,ei).call(this),await o(this,$).connect({apiKey:t.apiKey??this.options.apiKey,model:this.options.model,url:t.url,initialSessionConfig:await L(this,Y,rr).call(this,this.options.config)}),y(this,X,[]),this.emit("history_updated",o(this,X))}updateHistory(t){let r;typeof t=="function"?r=t(o(this,X)):r=t,o(this,$).resetHistory(o(this,X),r)}sendMessage(t,r={}){o(this,$).sendMessage(t,r)}addImage(t,{triggerResponse:r=!0}={}){o(this,$).addImage(t,{triggerResponse:r})}mute(t){o(this,$).mute(t)}close(){y(this,Ut,{}),o(this,$).close()}sendAudio(t,r={}){o(this,$).sendAudio(t,r)}interrupt(){o(this,$).interrupt()}async approve(t,r={alwaysApprove:!1}){o(this,P).approveTool(t,r);const s=o(this,D).tools.find(a=>a.name===t.rawItem.name);if(s&&s.type==="function"&&t.rawItem.type==="function_call")await L(this,Y,sr).call(this,t.rawItem,s);else if(t.rawItem.type==="hosted_tool_call"){r.alwaysApprove&&xe.warn("Always approving MCP tools is not supported. Use the allowed tools configuration instead.");const a=Ra(t);o(this,$).sendMcpResponse(a,!0)}else throw new he(`Tool ${t.rawItem.name} not found`)}async reject(t,r={alwaysReject:!1}){o(this,P).rejectTool(t,r);const s=o(this,D).tools.find(a=>a.name===t.rawItem.name);if(s&&s.type==="function"&&t.rawItem.type==="function_call")await L(this,Y,sr).call(this,t.rawItem,s);else if(t.rawItem.type==="hosted_tool_call"){r.alwaysReject&&xe.warn("Always rejecting MCP tools is not supported. Use the allowed tools configuration instead.");const a=Ra(t);o(this,$).sendMcpResponse(a,!1)}else throw new he(`Tool ${t.rawItem.name} not found`)}}$=new WeakMap,D=new WeakMap,$t=new WeakMap,P=new WeakMap,Ft=new WeakMap,Lt=new WeakMap,vn=new WeakMap,X=new WeakMap,Zt=new WeakMap,Ut=new WeakMap,Re=new WeakMap,wn=new WeakMap,wt=new WeakMap,bn=new WeakMap,xn=new WeakMap,Y=new WeakSet,nr=async function(t){y(this,D,t);const r=o(this,D).handoffs.map(Gn),s=r.map(p=>p.getHandoffAsFunctionTool()),a=(await o(this,D).getAllTools(o(this,P))).filter(od).map(ud),i=typeof o(this,D).tools<"u"||typeof o(this,D).mcpServers<"u",u=r.length>0;y(this,$t,i||u?[...a,...s]:void 0),L(this,Y,Kr).call(this)},rr=async function(t={}){const r=await o(this,D).getSystemPrompt(o(this,P)),s=this.options.tracingDisabled?null:this.options.workflowName?{workflow_name:this.options.workflowName}:"auto";s!==null&&s!=="auto"?(this.options.groupId&&(s.group_id=this.options.groupId),this.options.traceMetadata&&(s.metadata=this.options.traceMetadata)):(this.options.groupId||this.options.traceMetadata)&&xe.warn("In order to set traceMetadata or a groupId you need to specify a workflowName.");const i={...{...o(this,bn)??{},...this.options.config??{},...t??{}},instructions:r,voice:o(this,D).voice,model:this.options.model,tools:o(this,$t),tracing:s,prompt:typeof o(this,D).prompt=="function"?await o(this,D).prompt(o(this,P),o(this,D)):o(this,D).prompt};return y(this,bn,i),i},Xa=async function(t,r){const s=await r.onInvokeHandoff(o(this,P),t.arguments);o(this,D).emit("agent_handoff",o(this,P),s),this.emit("agent_handoff",o(this,P),o(this,D),s),await L(this,Y,nr).call(this,s),await o(this,$).updateSessionConfig(await L(this,Y,rr).call(this));const a=Gs(s);return o(this,$).sendFunctionCallOutput(t,a,!0),s},sr=async function(t,r){o(this,P).context.history=JSON.parse(JSON.stringify(o(this,X)));let s=t.arguments;if(r.parameters&&(nt(r.parameters)?s=r.parameters.parse(s):s=JSON.parse(s)),await r.needsApproval(o(this,P),s,t.callId)){const p=this.context.isToolApproved({toolName:r.name,callId:t.callId});if(p===!1){this.emit("agent_tool_start",o(this,P),o(this,D),r,{toolCall:t}),o(this,D).emit("agent_tool_start",o(this,P),r,{toolCall:t});const d="Tool execution was not approved.";o(this,$).sendFunctionCallOutput(t,d,!0),this.emit("agent_tool_end",o(this,P),o(this,D),r,d,{toolCall:t}),o(this,D).emit("agent_tool_end",o(this,P),r,d,{toolCall:t});return}else if(typeof p>"u"){this.emit("tool_approval_requested",o(this,P),o(this,D),{type:"function_approval",tool:r,approvalItem:new we(t,o(this,D))});return}}this.emit("agent_tool_start",o(this,P),o(this,D),r,{toolCall:t}),o(this,D).emit("agent_tool_start",o(this,P),r,{toolCall:t}),o(this,P).context.history=JSON.parse(JSON.stringify(o(this,X)));const i=await r.invoke(o(this,P),t.arguments,{toolCall:t});let u;Ua(i)?(u=Je(i.content),o(this,$).sendFunctionCallOutput(t,u,!1)):(u=Je(i),o(this,$).sendFunctionCallOutput(t,u,!0)),this.emit("agent_tool_end",o(this,P),o(this,D),r,u,{toolCall:t}),o(this,D).emit("agent_tool_end",o(this,P),r,u,{toolCall:t})},Qa=async function(t){const r=new Map(o(this,D).handoffs.map(Gn).map(u=>[u.toolName,u])),s=await o(this,D).getAllTools(o(this,P)),a=new Map(s.map(u=>[u.name,u])),i=r.get(t.name);if(i)await L(this,Y,Xa).call(this,t,i);else{const u=a.get(t.name);if(u&&u.type==="function")await L(this,Y,sr).call(this,t,u);else throw new he(`Tool ${t.name} not found`)}},Hr=async function(t,r,s){if(o(this,Ft).length===0)return;const a={agent:o(this,D),agentOutput:t,context:o(this,P)},u=(await Promise.all(o(this,Ft).map(p=>p.run(a)))).find(p=>p.output.tripwireTriggered);if(u){if(o(this,Ut)[r])return;o(this,Ut)[r]=!0;const p=new $n(`Output guardrail triggered: ${JSON.stringify(u.output.outputInfo)}`,u);this.emit("guardrail_tripped",o(this,P),o(this,D),p,{itemId:s}),this.interrupt();const d=nc(u);this.sendMessage(d);return}},ei=function(){o(this,$).on("*",s=>{if(this.emit("transport_event",s),s.type==="conversation.item.input_audio_transcription.completed")try{const a=s;y(this,X,Oa(o(this,X),a,o(this,Zt))),o(this,P).context.history=o(this,X),this.emit("history_updated",o(this,X))}catch(a){this.emit("error",{type:"error",error:a})}}),o(this,$).on("mcp_tools_listed",({serverLabel:s,tools:a})=>{try{o(this,wn).set(s,a??[]),L(this,Y,Kr).call(this)}catch(i){this.emit("error",{type:"error",error:i})}}),o(this,$).on("audio",s=>{o(this,Re)||(y(this,Re,!0),this.emit("audio_start",o(this,P),o(this,D))),this.emit("audio",s)}),o(this,$).on("turn_started",()=>{y(this,Re,!1),this.emit("agent_start",o(this,P),o(this,D)),o(this,D).emit("agent_start",o(this,P),o(this,D))}),o(this,$).on("turn_done",s=>{const a=s.response.output[s.response.output.length-1],i=Ca(a)??"",u=(a==null?void 0:a.id)??"";this.emit("agent_end",o(this,P),o(this,D),i),o(this,D).emit("agent_end",o(this,P),i),L(this,Y,Hr).call(this,i,s.response.id,u)}),o(this,$).on("audio_done",()=>{o(this,Re)&&y(this,Re,!1),this.emit("audio_stopped",o(this,P),o(this,D))});let t=0,r;o(this,$).on("audio_transcript_delta",s=>{try{const a=s.delta,i=s.itemId,u=s.responseId;r!==i&&(r=i,t=0);const d=(o(this,vn)[i]??"")+a;if(o(this,vn)[i]=d,o(this,Lt).debounceTextLength<0)return;const l=Math.floor(d.length/o(this,Lt).debounceTextLength);l>t&&(t=l,L(this,Y,Hr).call(this,d,u,i))}catch(a){this.emit("error",{type:"error",error:a})}}),o(this,$).on("item_update",s=>{try{const a=!o(this,X).some(i=>i.itemId===s.itemId);if(y(this,X,Oa(o(this,X),s,o(this,Zt))),o(this,P).context.history=o(this,X),a){const i=o(this,X).find(u=>u.itemId===s.itemId);i&&this.emit("history_added",i)}this.emit("history_updated",o(this,X))}catch(a){this.emit("error",{type:"error",error:a})}}),o(this,$).on("item_deleted",s=>{try{y(this,X,o(this,X).filter(a=>a.itemId!==s.itemId)),o(this,P).context.history=o(this,X),this.emit("history_updated",o(this,X))}catch(a){this.emit("error",{type:"error",error:a})}}),o(this,$).on("function_call",async s=>{try{await L(this,Y,Qa).call(this,s)}catch(a){xe.error("Error handling function call",a),this.emit("error",{type:"error",error:a})}}),o(this,$).on("usage_update",s=>{o(this,P).usage.add(s)}),o(this,$).on("audio_interrupted",()=>{o(this,Re)&&y(this,Re,!1),this.emit("audio_interrupted",o(this,P),o(this,D))}),o(this,$).on("error",s=>{this.emit("error",s)}),o(this,$).on("mcp_tool_call_completed",s=>{this.emit("mcp_tool_call_completed",o(this,P),o(this,D),s),o(this,xn)&&o(this,$).sendEvent({type:"response.create"})}),o(this,$).on("mcp_approval_request",s=>{this.emit("tool_approval_requested",o(this,P),o(this,D),{type:"mcp_approval_request",approvalItem:Xu(o(this,D),s)})})},Kr=function(){var p;const t=(p=o(this,$t))==null?void 0:p.filter(d=>d.type==="mcp"),r=d=>{const l=d.allowed_tools;if(l){if(Array.isArray(l))return l;if(l&&Array.isArray(l.tool_names))return l.tool_names}},s=new Map;for(const d of t){const l=o(this,wn).get(d.server_label)??[],f=r(d);for(const h of l)f&&!f.includes(h.name)||s.has(h.name)||s.set(h.name,h)}const a=Array.from(s.values()),i=o(this,wt);(i.length!==a.length||JSON.stringify(i.map(d=>d.name).sort())!==JSON.stringify(a.map(d=>d.name).sort()))&&(y(this,wt,a),this.emit("mcp_tools_changed",o(this,wt)))};const dd={base64ToArrayBuffer:ka,arrayBufferToBase64:Aa,getLastTextFromAudioOutputMessage:Ca};M.DEFAULT_OPENAI_REALTIME_MODEL=$a,M.DEFAULT_OPENAI_REALTIME_SESSION_CONFIG=Oe,M.ModelBehaviorError=he,M.OpenAIRealtimeBase=tn,M.OpenAIRealtimeWebRTC=Fa,M.OpenAIRealtimeWebSocket=La,M.OutputGuardrailTripwireTriggered=$n,M.RealtimeAgent=Qu,M.RealtimeSession=cd,M.UserError=ne,M.backgroundResult=id,M.isBackgroundResult=Ua,M.tool=Zn,M.utils=dd,Object.defineProperty(M,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlbmFpLXJlYWx0aW1lLWFnZW50cy51bWQuanMiLCJzb3VyY2VzIjpbIi4uL21ldGFkYXRhLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvc2FmZUV4ZWN1dGUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvcGFyc2VyLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvT3B0aW9ucy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3V0aWwubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9SZWZzLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvZXJyb3JNZXNzYWdlcy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL2Rpc3QvZXNtL3YzL2hlbHBlcnMvdXRpbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvZGlzdC9lc20vdjMvWm9kRXJyb3IuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL2Rpc3QvZXNtL3YzL2xvY2FsZXMvZW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL2Rpc3QvZXNtL3YzL2Vycm9ycy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvZGlzdC9lc20vdjMvaGVscGVycy9wYXJzZVV0aWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL2Rpc3QvZXNtL3YzL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9kaXN0L2VzbS92My90eXBlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9hbnkubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2FycmF5Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9iaWdpbnQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2Jvb2xlYW4ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2JyYW5kZWQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2NhdGNoLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kYXRlLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9kZWZhdWx0Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lZmZlY3RzLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9lbnVtLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9pbnRlcnNlY3Rpb24ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL2xpdGVyYWwubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3N0cmluZy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVjb3JkLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9tYXAubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL25hdGl2ZUVudW0ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL25ldmVyLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9udWxsLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy91bmlvbi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvbnVsbGFibGUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL251bWJlci5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvb2JqZWN0Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci96b2QtdG8tanNvbi1zY2hlbWEvcGFyc2Vycy9vcHRpb25hbC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcGlwZWxpbmUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3Byb21pc2UubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3NldC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdHVwbGUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZXJzL3VuZGVmaW5lZC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvdW5rbm93bi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3BhcnNlcnMvcmVhZG9ubHkubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9wYXJzZURlZi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3Ivem9kLXRvLWpzb24tc2NoZW1hL3pvZFRvSnNvblNjaGVtYS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9SZXNwb25zZXNQYXJzZXIubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9oZWxwZXJzL3pvZC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2Vycm9ycy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3V0aWxzL3R5cGVHdWFyZHMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC91dGlscy90b29scy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvY29uZmlnLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvbG9nZ2VyLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvc21hcnRTdHJpbmcubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90b29sLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvbWNwLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3Qvc2hpbXMvc2hpbXMtYnJvd3Nlci5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvY29udGV4dC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvcHJvY2Vzc29yLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy91dGlscy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvc3BhbnMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90cmFjaW5nL3RyYWNlcy5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3RyYWNpbmcvcHJvdmlkZXIubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90cmFjaW5nL2NyZWF0ZVNwYW5zLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdHJhY2luZy9pbmRleC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2xpZmVjeWNsZS5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2RlZmF1bHRNb2RlbC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2d1YXJkcmFpbC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2hhbmRvZmYubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9wcm92aWRlcnMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC90eXBlcy9wcm90b2NvbC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3VzYWdlLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcnVuQ29udGV4dC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3Jlc3VsdC5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3V0aWxzL3NlcmlhbGl6ZS5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L2l0ZW1zLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvdXRpbHMvbWVzc2FnZXMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9ldmVudHMubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9ydW5JbXBsZW1lbnRhdGlvbi5tanMiLCIuLi8uLi8uLi9hZ2VudHMtY29yZS9kaXN0L3J1blN0YXRlLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvcnVuLm1qcyIsIi4uLy4uLy4uL2FnZW50cy1jb3JlL2Rpc3QvYWdlbnQubWpzIiwiLi4vLi4vLi4vYWdlbnRzLWNvcmUvZGlzdC9pbmRleC5tanMiLCIuLi91dGlscy5tanMiLCIuLi9yZWFsdGltZUFnZW50Lm1qcyIsIi4uL2d1YXJkcmFpbC5tanMiLCIuLi9sb2dnZXIubWpzIiwiLi4vY2xpZW50TWVzc2FnZXMubWpzIiwiLi4vaXRlbXMubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qcyIsIi4uL29wZW5haVJlYWx0aW1lV2ViUnRjLm1qcyIsIi4uL3NoaW1zL3NoaW1zLWJyb3dzZXIubWpzIiwiLi4vb3BlbmFpUmVhbHRpbWVXZWJzb2NrZXQubWpzIiwiLi4vdG9vbC5tanMiLCIuLi9yZWFsdGltZVNlc3Npb24ubWpzIiwiLi4vaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZFxuZXhwb3J0IGNvbnN0IE1FVEFEQVRBID0ge1xuICAgIFwibmFtZVwiOiBcIkBvcGVuYWkvYWdlbnRzLXJlYWx0aW1lXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiMC4xLjRcIixcbiAgICBcInZlcnNpb25zXCI6IHtcbiAgICAgICAgXCJAb3BlbmFpL2FnZW50cy1yZWFsdGltZVwiOiBcIjAuMS40XCIsXG4gICAgICAgIFwiQG9wZW5haS9hZ2VudHMtY29yZVwiOiBcIndvcmtzcGFjZToqXCJcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgTUVUQURBVEE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRhZGF0YS5tanMubWFwIiwiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhZmVFeGVjdXRlKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBhd2FpdCBmbigpXTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBbZXJyb3IsIG51bGxdO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNhZmVFeGVjdXRlLm1qcy5tYXAiLCJpbXBvcnQgeyBDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IsIExlbmd0aEZpbmlzaFJlYXNvbkVycm9yLCBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBpc0NoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sKHRvb2wpIHtcbiAgICByZXR1cm4gdG9vbCAhPT0gdW5kZWZpbmVkICYmICdmdW5jdGlvbicgaW4gdG9vbCAmJiB0b29sLmZ1bmN0aW9uICE9PSB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCwgcGFyc2VyKSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi5yZXNwb25zZV9mb3JtYXQgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdChyZXNwb25zZV9mb3JtYXQsIHBhcnNlcikge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4ucmVzcG9uc2VfZm9ybWF0IH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdChyZXNwb25zZV9mb3JtYXQpIHtcbiAgICByZXR1cm4gcmVzcG9uc2VfZm9ybWF0Py5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0Jztcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlVG9vbCh0b29sLCB7IHBhcnNlciwgY2FsbGJhY2ssIH0pIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnRvb2wgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXRvb2wnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkY2FsbGJhY2s6IHtcbiAgICAgICAgICAgIHZhbHVlOiBjYWxsYmFjayxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVUb29sKHRvb2wpIHtcbiAgICByZXR1cm4gdG9vbD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXRvb2wnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1heWJlUGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcyB8fCAhaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmNvbXBsZXRpb24sXG4gICAgICAgICAgICBjaG9pY2VzOiBjb21wbGV0aW9uLmNob2ljZXMubWFwKChjaG9pY2UpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnRUb29sQ2FsbHNBcmVDaGF0Q29tcGxldGlvbkZ1bmN0aW9uVG9vbENhbGxzKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNob2ljZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2hvaWNlcyA9IGNvbXBsZXRpb24uY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICBpZiAoY2hvaWNlLmZpbmlzaF9yZWFzb24gPT09ICdsZW5ndGgnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hvaWNlLmZpbmlzaF9yZWFzb24gPT09ICdjb250ZW50X2ZpbHRlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnRUb29sQ2FsbHNBcmVDaGF0Q29tcGxldGlvbkZ1bmN0aW9uVG9vbENhbGxzKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY2hvaWNlLFxuICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgIC4uLmNob2ljZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsczogY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscz8ubWFwKCh0b29sQ2FsbCkgPT4gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSkgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBwYXJzZWQ6IGNob2ljZS5tZXNzYWdlLmNvbnRlbnQgJiYgIWNob2ljZS5tZXNzYWdlLnJlZnVzYWwgP1xuICAgICAgICAgICAgICAgICAgICBwYXJzZVJlc3BvbnNlRm9ybWF0KHBhcmFtcywgY2hvaWNlLm1lc3NhZ2UuY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4geyAuLi5jb21wbGV0aW9uLCBjaG9pY2VzIH07XG59XG5mdW5jdGlvbiBwYXJzZVJlc3BvbnNlRm9ybWF0KHBhcmFtcywgY29udGVudCkge1xuICAgIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlICE9PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdD8udHlwZSA9PT0gJ2pzb25fc2NoZW1hJykge1xuICAgICAgICBpZiAoJyRwYXJzZVJhdycgaW4gcGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VfZm9ybWF0ID0gcGFyYW1zLnJlc3BvbnNlX2Zvcm1hdDtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZV9mb3JtYXQuJHBhcnNlUmF3KGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGNvbnRlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkge1xuICAgIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpc0NoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sKGlucHV0VG9vbCkgJiYgaW5wdXRUb29sLmZ1bmN0aW9uPy5uYW1lID09PSB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lKTsgLy8gVFMgZG9lc24ndCBuYXJyb3cgYmFzZWQgb24gaXNDaGF0Q29tcGxldGlvblRvb2xcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50b29sQ2FsbCxcbiAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgIC4uLnRvb2xDYWxsLmZ1bmN0aW9uLFxuICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgPyBpbnB1dFRvb2wuJHBhcnNlUmF3KHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICA6IGlucHV0VG9vbD8uZnVuY3Rpb24uc3RyaWN0ID8gSlNPTi5wYXJzZSh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkge1xuICAgIGlmICghcGFyYW1zIHx8ICEoJ3Rvb2xzJyBpbiBwYXJhbXMpIHx8ICFwYXJhbXMudG9vbHMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dFRvb2wgPSBwYXJhbXMudG9vbHM/LmZpbmQoKGlucHV0VG9vbCkgPT4gaXNDaGF0Q29tcGxldGlvbkZ1bmN0aW9uVG9vbChpbnB1dFRvb2wpICYmIGlucHV0VG9vbC5mdW5jdGlvbj8ubmFtZSA9PT0gdG9vbENhbGwuZnVuY3Rpb24ubmFtZSk7XG4gICAgcmV0dXJuIChpc0NoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sKGlucHV0VG9vbCkgJiZcbiAgICAgICAgKGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpIHx8IGlucHV0VG9vbD8uZnVuY3Rpb24uc3RyaWN0IHx8IGZhbHNlKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykge1xuICAgIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHBhcmFtcy5yZXNwb25zZV9mb3JtYXQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKHBhcmFtcy50b29scz8uc29tZSgodCkgPT4gaXNBdXRvUGFyc2FibGVUb29sKHQpIHx8ICh0LnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdC5mdW5jdGlvbi5zdHJpY3QgPT09IHRydWUpKSA/PyBmYWxzZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VG9vbENhbGxzQXJlQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2xDYWxscyh0b29sQ2FsbHMpIHtcbiAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIHRvb2xDYWxscyB8fCBbXSkge1xuICAgICAgICBpZiAodG9vbENhbGwudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIGNhbGxzIGFyZSBzdXBwb3J0ZWQ7IFJlY2VpdmVkIFxcYCR7dG9vbENhbGwudHlwZX1cXGBgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0VG9vbHModG9vbHMpIHtcbiAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVGhlIFxcYCR7dG9vbC5mdW5jdGlvbi5uYW1lfVxcYCB0b29sIGlzIG5vdCBtYXJrZWQgd2l0aCBcXGBzdHJpY3Q6IHRydWVcXGAuIE9ubHkgc3RyaWN0IGZ1bmN0aW9uIHRvb2xzIGNhbiBiZSBhdXRvLXBhcnNlZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VyLm1qcy5tYXAiLCJleHBvcnQgY29uc3QgaWdub3JlT3ZlcnJpZGUgPSBTeW1ib2woJ0xldCB6b2RUb0pzb25TY2hlbWEgZGVjaWRlIG9uIHdoaWNoIHBhcnNlciB0byB1c2UnKTtcbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICAkcmVmU3RyYXRlZ3k6ICdyb290JyxcbiAgICBlZmZlY3RTdHJhdGVneTogJ2lucHV0JyxcbiAgICBwaXBlU3RyYXRlZ3k6ICdhbGwnLFxuICAgIGRhdGVTdHJhdGVneTogJ2Zvcm1hdDpkYXRlLXRpbWUnLFxuICAgIG1hcFN0cmF0ZWd5OiAnZW50cmllcycsXG4gICAgbnVsbGFibGVTdHJhdGVneTogJ2Zyb20tdGFyZ2V0JyxcbiAgICByZW1vdmVBZGRpdGlvbmFsU3RyYXRlZ3k6ICdwYXNzdGhyb3VnaCcsXG4gICAgZGVmaW5pdGlvblBhdGg6ICdkZWZpbml0aW9ucycsXG4gICAgdGFyZ2V0OiAnanNvblNjaGVtYTcnLFxuICAgIHN0cmljdFVuaW9uczogZmFsc2UsXG4gICAgZXJyb3JNZXNzYWdlczogZmFsc2UsXG4gICAgbWFya2Rvd25EZXNjcmlwdGlvbjogZmFsc2UsXG4gICAgcGF0dGVyblN0cmF0ZWd5OiAnZXNjYXBlJyxcbiAgICBhcHBseVJlZ2V4RmxhZ3M6IGZhbHNlLFxuICAgIGVtYWlsU3RyYXRlZ3k6ICdmb3JtYXQ6ZW1haWwnLFxuICAgIGJhc2U2NFN0cmF0ZWd5OiAnY29udGVudEVuY29kaW5nOmJhc2U2NCcsXG4gICAgbmFtZVN0cmF0ZWd5OiAncmVmJyxcbn07XG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdE9wdGlvbnMgPSAob3B0aW9ucykgPT4ge1xuICAgIC8vIFdlIG5lZWQgdG8gYWRkIGBkZWZpbml0aW9uc2AgaGVyZSBhcyB3ZSBtYXkgbXV0YXRlIGl0XG4gICAgcmV0dXJuICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgP1xuICAgICAgICB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgICAgIGJhc2VQYXRoOiBbJyMnXSxcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7fSxcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMsXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgICAgIGJhc2VQYXRoOiBbJyMnXSxcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7fSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wdGlvbnMubWpzLm1hcCIsImV4cG9ydCBjb25zdCB6b2REZWYgPSAoem9kU2NoZW1hKSA9PiB7XG4gICAgcmV0dXJuICdfZGVmJyBpbiB6b2RTY2hlbWEgPyB6b2RTY2hlbWEuX2RlZiA6IHpvZFNjaGVtYTtcbn07XG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eU9iaihvYmopIHtcbiAgICBpZiAoIW9iailcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgZm9yIChjb25zdCBfayBpbiBvYmopXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwubWpzLm1hcCIsImltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vT3B0aW9ucy5tanNcIjtcbmltcG9ydCB7IHpvZERlZiB9IGZyb20gXCIuL3V0aWwubWpzXCI7XG5leHBvcnQgY29uc3QgZ2V0UmVmcyA9IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgX29wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCBjdXJyZW50UGF0aCA9IF9vcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIFsuLi5fb3B0aW9ucy5iYXNlUGF0aCwgX29wdGlvbnMuZGVmaW5pdGlvblBhdGgsIF9vcHRpb25zLm5hbWVdXG4gICAgICAgIDogX29wdGlvbnMuYmFzZVBhdGg7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uX29wdGlvbnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBjdXJyZW50UGF0aCxcbiAgICAgICAgcHJvcGVydHlQYXRoOiB1bmRlZmluZWQsXG4gICAgICAgIHNlZW5SZWZzOiBuZXcgU2V0KCksXG4gICAgICAgIHNlZW46IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoX29wdGlvbnMuZGVmaW5pdGlvbnMpLm1hcCgoW25hbWUsIGRlZl0pID0+IFtcbiAgICAgICAgICAgIHpvZERlZihkZWYpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlZjogem9kRGVmKGRlZiksXG4gICAgICAgICAgICAgICAgcGF0aDogWy4uLl9vcHRpb25zLmJhc2VQYXRoLCBfb3B0aW9ucy5kZWZpbml0aW9uUGF0aCwgbmFtZV0sXG4gICAgICAgICAgICAgICAgLy8gUmVzb2x1dGlvbiBvZiByZWZlcmVuY2VzIHdpbGwgYmUgZm9yY2VkIGV2ZW4gdGhvdWdoIHNlZW4sIHNvIGl0J3Mgb2sgdGhhdCB0aGUgc2NoZW1hIGlzIHVuZGVmaW5lZCBoZXJlIGZvciBub3cuXG4gICAgICAgICAgICAgICAganNvblNjaGVtYTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSkpLFxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVmcy5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGFkZEVycm9yTWVzc2FnZShyZXMsIGtleSwgZXJyb3JNZXNzYWdlLCByZWZzKSB7XG4gICAgaWYgKCFyZWZzPy5lcnJvck1lc3NhZ2VzKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICByZXMuZXJyb3JNZXNzYWdlID0ge1xuICAgICAgICAgICAgLi4ucmVzLmVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgIFtrZXldOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBrZXksIHZhbHVlLCBlcnJvck1lc3NhZ2UsIHJlZnMpIHtcbiAgICByZXNba2V5XSA9IHZhbHVlO1xuICAgIGFkZEVycm9yTWVzc2FnZShyZXMsIGtleSwgZXJyb3JNZXNzYWdlLCByZWZzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yTWVzc2FnZXMubWpzLm1hcCIsImV4cG9ydCB2YXIgdXRpbDtcbihmdW5jdGlvbiAodXRpbCkge1xuICAgIHV0aWwuYXNzZXJ0RXF1YWwgPSAoXykgPT4geyB9O1xuICAgIGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHsgfVxuICAgIHV0aWwuYXNzZXJ0SXMgPSBhc3NlcnRJcztcbiAgICBmdW5jdGlvbiBhc3NlcnROZXZlcihfeCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgdXRpbC5hc3NlcnROZXZlciA9IGFzc2VydE5ldmVyO1xuICAgIHV0aWwuYXJyYXlUb0VudW0gPSAoaXRlbXMpID0+IHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgb2JqW2l0ZW1dID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhvYmopLmZpbHRlcigoaykgPT4gdHlwZW9mIG9ialtvYmpba11dICE9PSBcIm51bWJlclwiKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIHZhbGlkS2V5cykge1xuICAgICAgICAgICAgZmlsdGVyZWRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKGZpbHRlcmVkKTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0VmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RLZXlzKG9iaikubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW2VdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0S2V5cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gXCJmdW5jdGlvblwiIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA/IChvYmopID0+IE9iamVjdC5rZXlzKG9iaikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKG9iamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH07XG4gICAgdXRpbC5maW5kID0gKGFyciwgY2hlY2tlcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tlcihpdGVtKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgdXRpbC5pc0ludGVnZXIgPSB0eXBlb2YgTnVtYmVyLmlzSW50ZWdlciA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gKHZhbCkgPT4gTnVtYmVyLmlzSW50ZWdlcih2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbCkgJiYgTWF0aC5mbG9vcih2YWwpID09PSB2YWw7XG4gICAgZnVuY3Rpb24gam9pblZhbHVlcyhhcnJheSwgc2VwYXJhdG9yID0gXCIgfCBcIikge1xuICAgICAgICByZXR1cm4gYXJyYXkubWFwKCh2YWwpID0+ICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiID8gYCcke3ZhbH0nYCA6IHZhbCkpLmpvaW4oc2VwYXJhdG9yKTtcbiAgICB9XG4gICAgdXRpbC5qb2luVmFsdWVzID0gam9pblZhbHVlcztcbiAgICB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciA9IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKHV0aWwgfHwgKHV0aWwgPSB7fSkpO1xuZXhwb3J0IHZhciBvYmplY3RVdGlsO1xuKGZ1bmN0aW9uIChvYmplY3RVdGlsKSB7XG4gICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyA9IChmaXJzdCwgc2Vjb25kKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5maXJzdCxcbiAgICAgICAgICAgIC4uLnNlY29uZCwgLy8gc2Vjb25kIG92ZXJ3cml0ZXMgZmlyc3RcbiAgICAgICAgfTtcbiAgICB9O1xufSkob2JqZWN0VXRpbCB8fCAob2JqZWN0VXRpbCA9IHt9KSk7XG5leHBvcnQgY29uc3QgWm9kUGFyc2VkVHlwZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwic3RyaW5nXCIsXG4gICAgXCJuYW5cIixcbiAgICBcIm51bWJlclwiLFxuICAgIFwiaW50ZWdlclwiLFxuICAgIFwiZmxvYXRcIixcbiAgICBcImJvb2xlYW5cIixcbiAgICBcImRhdGVcIixcbiAgICBcImJpZ2ludFwiLFxuICAgIFwic3ltYm9sXCIsXG4gICAgXCJmdW5jdGlvblwiLFxuICAgIFwidW5kZWZpbmVkXCIsXG4gICAgXCJudWxsXCIsXG4gICAgXCJhcnJheVwiLFxuICAgIFwib2JqZWN0XCIsXG4gICAgXCJ1bmtub3duXCIsXG4gICAgXCJwcm9taXNlXCIsXG4gICAgXCJ2b2lkXCIsXG4gICAgXCJuZXZlclwiLFxuICAgIFwibWFwXCIsXG4gICAgXCJzZXRcIixcbl0pO1xuZXhwb3J0IGNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zdHJpbmc7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oZGF0YSkgPyBab2RQYXJzZWRUeXBlLm5hbiA6IFpvZFBhcnNlZFR5cGUubnVtYmVyO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYm9vbGVhbjtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5mdW5jdGlvbjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYmlnaW50O1xuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zeW1ib2w7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuYXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50aGVuICYmIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJiBkYXRhLmNhdGNoICYmIHR5cGVvZiBkYXRhLmNhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5wcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm1hcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgU2V0ICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIERhdGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5kYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUub2JqZWN0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUudW5rbm93bjtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgdXRpbCB9IGZyb20gXCIuL2hlbHBlcnMvdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0IFpvZElzc3VlQ29kZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwiaW52YWxpZF90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2xpdGVyYWxcIixcbiAgICBcImN1c3RvbVwiLFxuICAgIFwiaW52YWxpZF91bmlvblwiLFxuICAgIFwiaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yXCIsXG4gICAgXCJpbnZhbGlkX2VudW1fdmFsdWVcIixcbiAgICBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgXCJpbnZhbGlkX2FyZ3VtZW50c1wiLFxuICAgIFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiLFxuICAgIFwiaW52YWxpZF9kYXRlXCIsXG4gICAgXCJpbnZhbGlkX3N0cmluZ1wiLFxuICAgIFwidG9vX3NtYWxsXCIsXG4gICAgXCJ0b29fYmlnXCIsXG4gICAgXCJpbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlc1wiLFxuICAgIFwibm90X211bHRpcGxlX29mXCIsXG4gICAgXCJub3RfZmluaXRlXCIsXG5dKTtcbmV4cG9ydCBjb25zdCBxdW90ZWxlc3NKc29uID0gKG9iaikgPT4ge1xuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xuICAgIHJldHVybiBqc29uLnJlcGxhY2UoL1wiKFteXCJdKylcIjovZywgXCIkMTpcIik7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3VlcztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaXNzdWVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gW107XG4gICAgICAgIHRoaXMuYWRkSXNzdWUgPSAoc3ViKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3Vlcywgc3ViXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZXMgPSAoc3VicyA9IFtdKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3VlcywgLi4uc3Vic107XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFjdHVhbFByb3RvID0gbmV3LnRhcmdldC5wcm90b3R5cGU7XG4gICAgICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgYWN0dWFsUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fX3Byb3RvX18gPSBhY3R1YWxQcm90bztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgICAgIHRoaXMuaXNzdWVzID0gaXNzdWVzO1xuICAgIH1cbiAgICBmb3JtYXQoX21hcHBlcikge1xuICAgICAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoaXNzdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNzdWUubWVzc2FnZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXNzdWUgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlLnVuaW9uRXJyb3JzLm1hcChwcm9jZXNzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfcmV0dXJuX3R5cGVcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUucmV0dXJuVHlwZUVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2FyZ3VtZW50c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBpc3N1ZS5wYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSBpID09PSBpc3N1ZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGVvZiBlbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIGlmICh0eXBlb2YgZWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGNvbnN0IGVycm9yQXJyYXk6IGFueSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZXJyb3JBcnJheS5fZXJyb3JzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IGVycm9yQXJyYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0uX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnJbZWxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwcm9jZXNzRXJyb3IodGhpcyk7XG4gICAgICAgIHJldHVybiBmaWVsZEVycm9ycztcbiAgICB9XG4gICAgc3RhdGljIGFzc2VydCh2YWx1ZSkge1xuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFpvZEVycm9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgYSBab2RFcnJvcjogJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICB9XG4gICAgZ2V0IG1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgZmxhdHRlbihtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICAgICAgY29uc3QgZm9ybUVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiB0aGlzLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gPSBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gfHwgW107XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG4iLCJpbXBvcnQgeyBab2RJc3N1ZUNvZGUgfSBmcm9tIFwiLi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUgfSBmcm9tIFwiLi4vaGVscGVycy91dGlsLmpzXCI7XG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICAgIGxldCBtZXNzYWdlO1xuICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGU6XG4gICAgICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7aXNzdWUucmVjZWl2ZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgbGl0ZXJhbCB2YWx1ZSwgZXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShpc3N1ZS5leHBlY3RlZCwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIHJldHVybiB0eXBlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlLnZhbGlkYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2AgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZXJyb3JNYXA7XG4iLCJpbXBvcnQgZGVmYXVsdEVycm9yTWFwIGZyb20gXCIuL2xvY2FsZXMvZW4uanNcIjtcbmxldCBvdmVycmlkZUVycm9yTWFwID0gZGVmYXVsdEVycm9yTWFwO1xuZXhwb3J0IHsgZGVmYXVsdEVycm9yTWFwIH07XG5leHBvcnQgZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVFcnJvck1hcDtcbn1cbiIsImltcG9ydCB7IGdldEVycm9yTWFwIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IGRlZmF1bHRFcnJvck1hcCBmcm9tIFwiLi4vbG9jYWxlcy9lbi5qc1wiO1xuZXhwb3J0IGNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgZnVsbFBhdGggPSBbLi4ucGF0aCwgLi4uKGlzc3VlRGF0YS5wYXRoIHx8IFtdKV07XG4gICAgY29uc3QgZnVsbElzc3VlID0ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgIH07XG4gICAgaWYgKGlzc3VlRGF0YS5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogaXNzdWVEYXRhLm1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIGNvbnN0IG1hcHMgPSBlcnJvck1hcHNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gISFtKVxuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAucmV2ZXJzZSgpO1xuICAgIGZvciAoY29uc3QgbWFwIG9mIG1hcHMpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gbWFwKGZ1bGxJc3N1ZSwgeyBkYXRhLCBkZWZhdWx0RXJyb3I6IGVycm9yTWVzc2FnZSB9KS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVNYXAgPSBnZXRFcnJvck1hcCgpO1xuICAgIGNvbnN0IGlzc3VlID0gbWFrZUlzc3VlKHtcbiAgICAgICAgaXNzdWVEYXRhOiBpc3N1ZURhdGEsXG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgLy8gY29udGV4dHVhbCBlcnJvciBtYXAgaXMgZmlyc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCwgLy8gdGhlbiBzY2hlbWEtYm91bmQgbWFwIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAsIC8vIHRoZW4gZ2xvYmFsIG92ZXJyaWRlIG1hcFxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAgPT09IGRlZmF1bHRFcnJvck1hcCA/IHVuZGVmaW5lZCA6IGRlZmF1bHRFcnJvck1hcCwgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5leHBvcnQgY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBhcnJheVZhbHVlLnB1c2gocy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBtZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiYgKHR5cGVvZiB2YWx1ZS52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCBwYWlyLmFsd2F5c1NldCkpIHtcbiAgICAgICAgICAgICAgICBmaW5hbE9iamVjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE9iamVjdCB9O1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuZXhwb3J0IGNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5leHBvcnQgY29uc3QgT0sgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZSB9KTtcbmV4cG9ydCBjb25zdCBpc0Fib3J0ZWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuZXhwb3J0IGNvbnN0IGlzRGlydHkgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiZGlydHlcIjtcbmV4cG9ydCBjb25zdCBpc1ZhbGlkID0gKHgpID0+IHguc3RhdHVzID09PSBcInZhbGlkXCI7XG5leHBvcnQgY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcbiIsImV4cG9ydCB2YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uIChlcnJvclV0aWwpIHtcbiAgICBlcnJvclV0aWwuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59KShlcnJvclV0aWwgfHwgKGVycm9yVXRpbCA9IHt9KSk7XG4iLCJpbXBvcnQgeyBab2RFcnJvciwgWm9kSXNzdWVDb2RlLCB9IGZyb20gXCIuL1pvZEVycm9yLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0RXJyb3JNYXAsIGdldEVycm9yTWFwIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBlcnJvclV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL2Vycm9yVXRpbC5qc1wiO1xuaW1wb3J0IHsgRElSVFksIElOVkFMSUQsIE9LLCBQYXJzZVN0YXR1cywgYWRkSXNzdWVUb0NvbnRleHQsIGlzQWJvcnRlZCwgaXNBc3luYywgaXNEaXJ0eSwgaXNWYWxpZCwgbWFrZUlzc3VlLCB9IGZyb20gXCIuL2hlbHBlcnMvcGFyc2VVdGlsLmpzXCI7XG5pbXBvcnQgeyB1dGlsLCBab2RQYXJzZWRUeXBlLCBnZXRQYXJzZWRUeXBlIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX2tleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbn1cbmNvbnN0IGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHBhcmFtcztcbiAgICAgICAgaWYgKGlzcy5jb2RlID09PSBcImludmFsaWRfZW51bV92YWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IHJlcXVpcmVkX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gaW52YWxpZF90eXBlX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG59XG5leHBvcnQgY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogcGFyYW1zPy5hc3luYyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyPy5tZXNzYWdlPy50b0xvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImVuY291bnRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZUFzeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pLnRoZW4oKHJlc3VsdCkgPT4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpID8gbWF5YmVBc3luY1Jlc3VsdCA6IFByb21pc2UucmVzb2x2ZShtYXliZUFzeW5jUmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIiA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KSA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInJlZmluZW1lbnRcIiwgcmVmaW5lbWVudCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3VwZXJSZWZpbmUocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIC8qKiBBbGlhcyBvZiBzYWZlUGFyc2VBc3luYyAqL1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMucGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2VBc3luYyA9IHRoaXMuc2FmZVBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lbWVudCA9IHRoaXMucmVmaW5lbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxhYmxlID0gdGhpcy5udWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYXRjaCA9IHRoaXMuY2F0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgICAgICB2YWxpZGF0ZTogKGRhdGEpID0+IHRoaXNbXCJ+dmFsaWRhdGVcIl0oZGF0YSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICB9XG4gICAgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IFRoaXMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XycrXFwtXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUm4oCZKisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG4vLyBmYXN0ZXIsIHNpbXBsZXIsIHNhZmVyXG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuLy8gY29uc3QgaXB2NlJlZ2V4ID1cbi8vIC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBodHRwczovL2Jhc2U2NC5ndXJ1L3N0YW5kYXJkcy9iYXNlNjR1cmxcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuLy8gc2ltcGxlXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1gO1xuLy8gbm8gbGVhcCB5ZWFyIHZhbGlkYXRpb25cbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS0oKDBbMTM1NzhdfDEwfDEyKS0zMXwoMFsxMy05XXwxWzAtMl0pLTMwfCgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFcXFxcZHwyXFxcXGQpKWA7XG4vLyB3aXRoIGxlYXAgeWVhciB2YWxpZGF0aW9uXG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICAgIGxldCBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgWzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09IG51bGwpIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfShcXFxcLlxcXFxkKyk/YDtcbiAgICB9XG4gICAgY29uc3Qgc2Vjb25kc1F1YW50aWZpZXIgPSBhcmdzLnByZWNpc2lvbiA/IFwiK1wiIDogXCI/XCI7IC8vIHJlcXVpcmUgc2Vjb25kcyBpZiBwcmVjaXNpb24gaXMgbm9uemVyb1xuICAgIHJldHVybiBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQoOiR7c2Vjb25kc1JlZ2V4U291cmNlfSkke3NlY29uZHNRdWFudGlmaWVyfWA7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWVSZWdleChhcmdzKSB7XG4gICAgbGV0IHJlZ2V4ID0gYCR7ZGF0ZVJlZ2V4U291cmNlfVQke3RpbWVSZWdleFNvdXJjZShhcmdzKX1gO1xuICAgIGNvbnN0IG9wdHMgPSBbXTtcbiAgICBvcHRzLnB1c2goYXJncy5sb2NhbCA/IGBaP2AgOiBgWmApO1xuICAgIGlmIChhcmdzLm9mZnNldClcbiAgICAgICAgb3B0cy5wdXNoKGAoWystXVxcXFxkezJ9Oj9cXFxcZHsyfSlgKTtcbiAgICByZWdleCA9IGAke3JlZ2V4fSgke29wdHMuam9pbihcInxcIil9KWA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3JlZ2V4fSRgKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRJUChpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRKV1Qoand0LCBhbGcpIHtcbiAgICBpZiAoIWp3dFJlZ2V4LnRlc3Qoand0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFtoZWFkZXJdID0gand0LnNwbGl0KFwiLlwiKTtcbiAgICAgICAgLy8gQ29udmVydCBiYXNlNjR1cmwgdG8gYmFzZTY0XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGhlYWRlclxuICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgXCIrXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXy9nLCBcIi9cIilcbiAgICAgICAgICAgIC5wYWRFbmQoaGVhZGVyLmxlbmd0aCArICgoNCAtIChoZWFkZXIubGVuZ3RoICUgNCkpICUgNCksIFwiPVwiKTtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IEpTT04ucGFyc2UoYXRvYihiYXNlNjQpKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkZWNvZGVkICE9PSBcIm9iamVjdFwiIHx8IGRlY29kZWQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChcInR5cFwiIGluIGRlY29kZWQgJiYgZGVjb2RlZD8udHlwICE9PSBcIkpXVFwiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWRlY29kZWQuYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYWxnICYmIGRlY29kZWQuYWxnICE9PSBhbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkQ2lkcihpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NkNpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtb2ppXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInV1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm5hbm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwibmFub2lkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBjaGVjay5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RSZXN1bHQgPSBjaGVjay5yZWdleC50ZXN0KGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmICghdGVzdFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0cmltXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuaW5jbHVkZXMoY2hlY2sudmFsdWUsIGNoZWNrLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGluY2x1ZGVzOiBjaGVjay52YWx1ZSwgcG9zaXRpb246IGNoZWNrLnBvc2l0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b0xvd2VyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9VcHBlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5zdGFydHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IHN0YXJ0c1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbmRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmVuZHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGVuZHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZXRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZXRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZVJlZ2V4O1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gdGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkdXJhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkdXJhdGlvblJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkdXJhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaXBcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZElQKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiaXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImp3dFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSldUKGlucHV0LmRhdGEsIGNoZWNrLmFsZykpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJqd3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImNpZHJcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZENpZHIoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjaWRyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0UmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NHVybFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX3JlZ2V4KHJlZ2V4LCB2YWxpZGF0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmluZW1lbnQoKGRhdGEpID0+IHJlZ2V4LnRlc3QoZGF0YSksIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW1haWwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtYWlsXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1cmxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBlbW9qaShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1vamlcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1dWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1dWlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgbmFub2lkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJuYW5vaWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZDIobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWQyXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdWxpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidWxpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGJhc2U2NChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiYmFzZTY0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0dXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBqd3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImp3dFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGlwKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJpcFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGNpZHIob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImNpZHJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBkYXRldGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucz8ub2Zmc2V0ID8/IGZhbHNlLFxuICAgICAgICAgICAgbG9jYWw6IG9wdGlvbnM/LmxvY2FsID8/IGZhbHNlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGF0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZGF0ZVwiLCBtZXNzYWdlIH0pO1xuICAgIH1cbiAgICB0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGR1cmF0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkdXJhdGlvblwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHJlZ2V4KHJlZ2V4LCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICByZWdleDogcmVnZXgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbmNsdWRlcyh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcG9zaXRpb246IG9wdGlvbnM/LnBvc2l0aW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJzdGFydHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibGVuZ3RoXCIsXG4gICAgICAgICAgICB2YWx1ZTogbGVuLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICAgKi9cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICAgIH1cbiAgICB0cmltKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidHJpbVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b0xvd2VyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9VcHBlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXRpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZXRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0RhdGUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkdXJhdGlvblwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1haWwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1cmxcIik7XG4gICAgfVxuICAgIGdldCBpc0Vtb2ppKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtb2ppXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc05BTk9JRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJuYW5vaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidWxpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzSVAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaXBcIik7XG4gICAgfVxuICAgIGdldCBpc0NJRFIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0dXJsKCkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NHVybFwiKTtcbiAgICB9XG4gICAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlID8/IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzk2NjQ4NC93aHktZG9lcy1tb2R1bHVzLW9wZXJhdG9yLXJldHVybi1mcmFjdGlvbmFsLW51bWJlci1pbi1qYXZhc2NyaXB0LzMxNzExMDM0IzMxNzExMDM0XG5mdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwRGVjQ291bnQgPSAoc3RlcC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgIGNvbnN0IHZhbEludCA9IE51bWJlci5wYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBOdW1iZXIucGFyc2VJbnQoc3RlcC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgcmV0dXJuICh2YWxJbnQgJSBzdGVwSW50KSAvIDEwICoqIGRlY0NvdW50O1xufVxuZXhwb3J0IGNsYXNzIFpvZE51bWJlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJpbnRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXRpbC5pc0ludGVnZXIoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChmbG9hdFNhZmVSZW1haW5kZXIoaW5wdXQuZGF0YSwgY2hlY2sudmFsdWUpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImZpbml0ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9maW5pdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGludChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImludFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbml0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2FmZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KS5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgZ2V0IGlzSW50KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImludFwiIHx8IChjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIiAmJiB1dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpKTtcbiAgICB9XG4gICAgZ2V0IGlzRmluaXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHwgY2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWluKSAmJiBOdW1iZXIuaXNGaW5pdGUobWF4KTtcbiAgICB9XG59XG5ab2ROdW1iZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXIsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQmlnSW50IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gQmlnSW50KGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYmlnaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5iaWdpbnQsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50LFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlID8/IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYm9vbGVhbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmRhdGUsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGlucHV0LmRhdGEuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluRGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhEYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5EYXRlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW4gIT0gbnVsbCA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbWF4RGF0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgICB9XG59XG5ab2REYXRlLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kU3ltYm9sIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3ltYm9sKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN5bWJvbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RTeW1ib2wuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3ltYm9sKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2wsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5kZWZpbmVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RVbmRlZmluZWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5kZWZpbmVkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVsbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2ROdWxsLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQW55IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHRvIHByZXZlbnQgaW5zdGFuY2VzIG9mIG90aGVyIGNsYXNzZXMgZnJvbSBleHRlbmRpbmcgWm9kQW55LiB0aGlzIGNhdXNlcyBpc3N1ZXMgd2l0aCBjYXRjaGFsbCBpbiBab2RPYmplY3QuXG4gICAgICAgIHRoaXMuX2FueSA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kQW55LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFueSh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVua25vd24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gcmVxdWlyZWRcbiAgICAgICAgdGhpcy5fdW5rbm93biA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5rbm93bi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmtub3duKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE5ldmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmV2ZXIsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG59XG5ab2ROZXZlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVm9pZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS52b2lkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFZvaWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVm9pZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RBcnJheSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCwgc3RhdHVzIH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYuZXhhY3RMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY3R4LmRhdGEubGVuZ3RoIDwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RJc3N1ZUNvZGUudG9vX2JpZyA6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06ICh0b29TbWFsbCA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06ICh0b29CaWcgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWluTGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgZGVmLm1pbkxlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluTGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPiBkZWYubWF4TGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4TGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VBc3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgICAgIH0pKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZVN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IHsgdmFsdWU6IG1pbkxlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiB7IHZhbHVlOiBtYXhMZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGV4YWN0TGVuZ3RoOiB7IHZhbHVlOiBsZW4sIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuWm9kQXJyYXkuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgbWluTGVuZ3RoOiBudWxsLFxuICAgICAgICBtYXhMZW5ndGg6IG51bGwsXG4gICAgICAgIGV4YWN0TGVuZ3RoOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gZGVlcFBhcnRpYWxpZnkoc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9iamVjdCkge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuc2hhcGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gc2NoZW1hLnNoYXBlW2tleV07XG4gICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KGZpZWxkU2NoZW1hKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RBcnJheSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgdHlwZTogZGVlcFBhcnRpYWxpZnkoc2NoZW1hLmVsZW1lbnQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kVHVwbGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZFR1cGxlLmNyZWF0ZShzY2hlbWEuaXRlbXMubWFwKChpdGVtKSA9PiBkZWVwUGFydGlhbGlmeShpdGVtKSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBJbiBtb3N0IGNhc2VzLCB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgLSB1bmtub3duIHByb3BlcnRpZXMgYXJlIG5vdyBzaWxlbnRseSBzdHJpcHBlZC5cbiAgICAgICAgICogSWYgeW91IHdhbnQgdG8gcGFzcyB0aHJvdWdoIHVua25vd24gcHJvcGVydGllcywgdXNlIGAucGFzc3Rocm91Z2goKWAgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9uc3RyaWN0ID0gdGhpcy5wYXNzdGhyb3VnaDtcbiAgICAgICAgLy8gZXh0ZW5kPFxuICAgICAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlLFxuICAgICAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAgICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PixcbiAgICAgICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAgICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+XG4gICAgICAgIC8vID4oXG4gICAgICAgIC8vICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gKTogWm9kT2JqZWN0PFxuICAgICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIEF1Z21lbnRhdGlvbj4sXG4gICAgICAgIC8vICAgVW5rbm93bktleXMsXG4gICAgICAgIC8vICAgQ2F0Y2hhbGwsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0LFxuICAgICAgICAvLyAgIE5ld0lucHV0XG4gICAgICAgIC8vID4ge1xuICAgICAgICAvLyAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgLy8gICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgLy8gICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAvLyAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgLy8gICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAvLyAgICAgfSksXG4gICAgICAgIC8vICAgfSkgYXMgYW55O1xuICAgICAgICAvLyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYC5leHRlbmRgIGluc3RlYWRcbiAgICAgICAgICogICovXG4gICAgICAgIHRoaXMuYXVnbWVudCA9IHRoaXMuZXh0ZW5kO1xuICAgIH1cbiAgICBfZ2V0Q2FjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHV0aWwub2JqZWN0S2V5cyhzaGFwZSk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IHsgc2hhcGUsIGtleXMgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJiB0aGlzLl9kZWYudW5rbm93bktleXMgPT09IFwic3RyaXBcIikpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaGFwZUtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFwZUtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleVZhbGlkYXRvciA9IHNoYXBlW2tleV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICB2YWx1ZToga2V5VmFsaWRhdG9yLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlcikge1xuICAgICAgICAgICAgY29uc3QgdW5rbm93bktleXMgPSB0aGlzLl9kZWYudW5rbm93bktleXM7XG4gICAgICAgICAgICBpZiAodW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBjdHguZGF0YVtrZXldIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmljdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5czogZXh0cmFLZXlzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaXBcIikge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm5hbCBab2RPYmplY3QgZXJyb3I6IGludmFsaWQgdW5rbm93bktleXMgdmFsdWUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBydW4gY2F0Y2hhbGwgdmFsaWRhdGlvblxuICAgICAgICAgICAgY29uc3QgY2F0Y2hhbGwgPSB0aGlzLl9kZWYuY2F0Y2hhbGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2F0Y2hhbGwuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkgLy8sIGN0eC5jaGlsZChrZXkpLCB2YWx1ZSwgZ2V0UGFyc2VkVHlwZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IHBhaXIuYWx3YXlzU2V0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5bmNQYWlycztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHN5bmNQYWlycykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgIH1cbiAgICBzdHJpY3QobWVzc2FnZSkge1xuICAgICAgICBlcnJvclV0aWwuZXJyVG9PYmo7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICAgICAgLi4uKG1lc3NhZ2UgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1hcDogKGlzc3VlLCBjdHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRFcnJvciA9IHRoaXMuX2RlZi5lcnJvck1hcD8uKGlzc3VlLCBjdHgpLm1lc3NhZ2UgPz8gY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UgPz8gZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RyaXAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwYXNzdGhyb3VnaCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwicGFzc3Rocm91Z2hcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGNvbnN0IEF1Z21lbnRGYWN0b3J5ID1cbiAgICAvLyAgIDxEZWYgZXh0ZW5kcyBab2RPYmplY3REZWY+KGRlZjogRGVmKSA9PlxuICAgIC8vICAgPEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlPihcbiAgICAvLyAgICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAvLyAgICk6IFpvZE9iamVjdDxcbiAgICAvLyAgICAgZXh0ZW5kU2hhcGU8UmV0dXJuVHlwZTxEZWZbXCJzaGFwZVwiXT4sIEF1Z21lbnRhdGlvbj4sXG4gICAgLy8gICAgIERlZltcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgICBEZWZbXCJjYXRjaGFsbFwiXVxuICAgIC8vICAgPiA9PiB7XG4gICAgLy8gICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgICAuLi5kZWYsXG4gICAgLy8gICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgLy8gICAgICAgICAuLi5kZWYuc2hhcGUoKSxcbiAgICAvLyAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAvLyAgICAgICB9KSxcbiAgICAvLyAgICAgfSkgYXMgYW55O1xuICAgIC8vICAgfTtcbiAgICBleHRlbmQoYXVnbWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJpb3IgdG8gem9kQDEuMC4xMiB0aGVyZSB3YXMgYSBidWcgaW4gdGhlXG4gICAgICogaW5mZXJyZWQgdHlwZSBvZiBtZXJnZWQgb2JqZWN0cy4gUGxlYXNlXG4gICAgICogdXBncmFkZSBpZiB5b3UgYXJlIGV4cGVyaWVuY2luZyBpc3N1ZXMuXG4gICAgICovXG4gICAgbWVyZ2UobWVyZ2luZykge1xuICAgICAgICBjb25zdCBtZXJnZWQgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgICAgICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4ubWVyZ2luZy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG4gICAgLy8gbWVyZ2U8XG4gICAgLy8gICBJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdCxcbiAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIEluY29taW5nW1wic2hhcGVcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9LFxuICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH1cbiAgICAvLyA+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0LFxuICAgIC8vICAgTmV3SW5wdXRcbiAgICAvLyA+IHtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBzZXRLZXkoa2V5LCBzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVnbWVudCh7IFtrZXldOiBzY2hlbWEgfSk7XG4gICAgfVxuICAgIC8vIG1lcmdlPEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0PihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogLy9ab2RPYmplY3Q8VCAmIEluY29taW5nW1wiX3NoYXBlXCJdLCBVbmtub3duS2V5cywgQ2F0Y2hhbGw+ID0gKG1lcmdpbmcpID0+IHtcbiAgICAvLyBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdXG4gICAgLy8gPiB7XG4gICAgLy8gICAvLyBjb25zdCBtZXJnZWRTaGFwZSA9IG9iamVjdFV0aWwubWVyZ2VTaGFwZXMoXG4gICAgLy8gICAvLyAgIHRoaXMuX2RlZi5zaGFwZSgpLFxuICAgIC8vICAgLy8gICBtZXJnaW5nLl9kZWYuc2hhcGUoKVxuICAgIC8vICAgLy8gKTtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBjYXRjaGFsbChpbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjYXRjaGFsbDogaW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaWNrKG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKG1hc2spKSB7XG4gICAgICAgICAgICBpZiAobWFza1trZXldICYmIHRoaXMuc2hhcGVba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb21pdChtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgZGVlcFBhcnRpYWwoKSB7XG4gICAgICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgICB9XG4gICAgcGFydGlhbChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hLm9wdGlvbmFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVxdWlyZWQobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgbGV0IG5ld0ZpZWxkID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IG5ld0ZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGtleW9mKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlWm9kRW51bSh1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICAgIH1cbn1cblpvZE9iamVjdC5jcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kT2JqZWN0LnN0cmljdENyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kT2JqZWN0LmxhenljcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9kZWYub3B0aW9ucztcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0cyhyZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gZmlyc3QgaXNzdWUtZnJlZSB2YWxpZGF0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXNzdWVzIGZyb20gZGlydHkgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4ucmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIGludmFsaWRcbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gbmV3IFpvZEVycm9yKHJlc3VsdC5jdHguY29tbW9uLmlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzLnB1c2goY2hpbGRDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5kaXJ0eS5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcnR5LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzKSA9PiBuZXcgWm9kRXJyb3IoaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG59XG5ab2RVbmlvbi5jcmVhdGUgPSAodHlwZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICBvcHRpb25zOiB0eXBlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICBab2REaXNjcmltaW5hdGVkVW5pb24gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5jb25zdCBnZXREaXNjcmltaW5hdG9yID0gKHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5zY2hlbWEpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRWZmZWN0cykge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLmlubmVyVHlwZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExpdGVyYWwpIHtcbiAgICAgICAgcmV0dXJuIFt0eXBlLnZhbHVlXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHR5cGUub3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE5hdGl2ZUVudW0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKHR5cGUuZW51bSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2REZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RCcmFuZGVkKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kUmVhZG9ubHkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RDYXRjaCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59O1xuZXhwb3J0IGNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gdGhpcy5kaXNjcmltaW5hdG9yO1xuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWUgPSBjdHguZGF0YVtkaXNjcmltaW5hdG9yXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zTWFwLmdldChkaXNjcmltaW5hdG9yVmFsdWUpO1xuICAgICAgICBpZiAoIW9wdGlvbikge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBcnJheS5mcm9tKHRoaXMub3B0aW9uc01hcC5rZXlzKCkpLFxuICAgICAgICAgICAgICAgIHBhdGg6IFtkaXNjcmltaW5hdG9yXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGlzY3JpbWluYXRvcjtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnNNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9uc01hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIHNjaGVtYS4gSXRzIGJlaGF2aW91ciBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgbm9ybWFsIHoudW5pb24oKSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBIb3dldmVyLCBpdCBvbmx5IGFsbG93cyBhIHVuaW9uIG9mIG9iamVjdHMsIGFsbCBvZiB3aGljaCBuZWVkIHRvIHNoYXJlIGEgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS4gVGhpcyBwcm9wZXJ0eSBtdXN0XG4gICAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgICAqIEBwYXJhbSBkaXNjcmltaW5hdG9yIHRoZSBuYW1lIG9mIHRoZSBkaXNjcmltaW5hdG9yIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHR5cGVzIGFuIGFycmF5IG9mIG9iamVjdCBzY2hlbWFzXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICAgIC8vIEdldCBhbGwgdGhlIHZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWVzXG4gICAgICAgIGNvbnN0IG9wdGlvbnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIHRyeSB7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgICAgIGlmICghZGlzY3JpbWluYXRvclZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgZGlzY3JpbWluYXRvciB2YWx1ZSBmb3Iga2V5IFxcYCR7ZGlzY3JpbWluYXRvcn1cXGAgY291bGQgbm90IGJlIGV4dHJhY3RlZCBmcm9tIGFsbCBzY2hlbWEgb3B0aW9uc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBkaXNjcmltaW5hdG9yVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpc2NyaW1pbmF0b3IgcHJvcGVydHkgJHtTdHJpbmcoZGlzY3JpbWluYXRvcil9IGhhcyBkdXBsaWNhdGUgdmFsdWUgJHtTdHJpbmcodmFsdWUpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2REaXNjcmltaW5hdGVkVW5pb24oe1xuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb24sXG4gICAgICAgICAgICBkaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnNNYXAsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEsIGIpIHtcbiAgICBjb25zdCBhVHlwZSA9IGdldFBhcnNlZFR5cGUoYSk7XG4gICAgY29uc3QgYlR5cGUgPSBnZXRQYXJzZWRUeXBlKGIpO1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSB1dGlsLm9iamVjdEtleXMoYik7XG4gICAgICAgIGNvbnN0IHNoYXJlZEtleXMgPSB1dGlsLm9iamVjdEtleXMoYSkuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZEludGVyc2VjdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQocGFyc2VkTGVmdCkgfHwgaXNBYm9ydGVkKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMocGFyc2VkTGVmdC52YWx1ZSwgcGFyc2VkUmlnaHQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGlydHkocGFyc2VkTGVmdCkgfHwgaXNEaXJ0eShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogbWVyZ2VkLmRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLmxlZnQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKS50aGVuKChbbGVmdCwgcmlnaHRdKSA9PiBoYW5kbGVQYXJzZWQobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQYXJzZWQodGhpcy5fZGVmLmxlZnQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSwgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSA9IChsZWZ0LCByaWdodCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RJbnRlcnNlY3Rpb24oe1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8gdHlwZSBab2RUdXBsZUl0ZW1zID0gW1pvZFR5cGVBbnksIC4uLlpvZFR5cGVBbnlbXV07XG5leHBvcnQgY2xhc3MgWm9kVHVwbGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgbWluaW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICBpZiAoIXJlc3QgJiYgY3R4LmRhdGEubGVuZ3RoID4gdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgbWF4aW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSBbLi4uY3R4LmRhdGFdXG4gICAgICAgICAgICAubWFwKChpdGVtLCBpdGVtSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuX2RlZi5pdGVtc1tpdGVtSW5kZXhdIHx8IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGl0ZW1JbmRleCkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4gISF4KTsgLy8gZmlsdGVyIG51bGxzXG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIGl0ZW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaXRlbXM7XG4gICAgfVxuICAgIHJlc3QocmVzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblpvZFR1cGxlLmNyZWF0ZSA9IChzY2hlbWFzLCBwYXJhbXMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhbiBhcnJheSBvZiBzY2hlbWFzIHRvIHoudHVwbGUoWyAuLi4gXSlcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICBpdGVtczogc2NoZW1hcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZSxcbiAgICAgICAgcmVzdDogbnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RSZWNvcmQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBjdHguZGF0YVtrZXldLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShmaXJzdCwgc2Vjb25kLCB0aGlyZCkge1xuICAgICAgICBpZiAoc2Vjb25kIGluc3RhbmNlb2YgWm9kVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICAgICAgICAgIGtleVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogc2Vjb25kLFxuICAgICAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcmQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICAgICAga2V5VHlwZTogWm9kU3RyaW5nLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhzZWNvbmQpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5tYXAsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGNvbnN0IHBhaXJzID0gWy4uLmN0eC5kYXRhLmVudHJpZXMoKV0ubWFwKChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIFtpbmRleCwgXCJrZXlcIl0pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBbaW5kZXgsIFwidmFsdWVcIl0pKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZE1hcC5jcmVhdGUgPSAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXAsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kU2V0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zZXQpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc2V0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoZGVmLm1pblNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplIDwgZGVmLm1pblNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pblNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluU2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4U2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPiBkZWYubWF4U2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heFNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4U2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsaXplU2V0KGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcGFyc2VkU2V0LmFkZChlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcGFyc2VkU2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbLi4uY3R4LmRhdGEudmFsdWVzKCldLm1hcCgoaXRlbSwgaSkgPT4gdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZWxlbWVudHMpLnRoZW4oKGVsZW1lbnRzKSA9PiBmaW5hbGl6ZVNldChlbGVtZW50cykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmFsaXplU2V0KGVsZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtaW4obWluU2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5TaXplOiB7IHZhbHVlOiBtaW5TaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhTaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heFNpemU6IHsgdmFsdWU6IG1heFNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2l6ZShzaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbihzaXplLCBtZXNzYWdlKS5tYXgoc2l6ZSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZFNldC5jcmVhdGUgPSAodmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgbWluU2l6ZTogbnVsbCxcbiAgICAgICAgbWF4U2l6ZTogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRnVuY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMuaW1wbGVtZW50O1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5mdW5jdGlvbikge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5mdW5jdGlvbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VBcmdzSXNzdWUoYXJncywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIGN0eC5zY2hlbWFFcnJvck1hcCwgZ2V0RXJyb3JNYXAoKSwgZGVmYXVsdEVycm9yTWFwXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlUmV0dXJuc0lzc3VlKHJldHVybnMsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXR1cm5zLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW2N0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCBjdHguc2NoZW1hRXJyb3JNYXAsIGdldEVycm9yTWFwKCksIGRlZmF1bHRFcnJvck1hcF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgICAgY29uc3QgZm4gPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBhd2FpdCBtZS5fZGVmLmFyZ3MucGFyc2VBc3luYyhhcmdzLCBwYXJhbXMpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VBcmdzSXNzdWUoYXJncywgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gYXdhaXQgbWUuX2RlZi5yZXR1cm5zLl9kZWYudHlwZVxuICAgICAgICAgICAgICAgICAgICAucGFyc2VBc3luYyhyZXN1bHQsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gT0soZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZUFyZ3NJc3N1ZShhcmdzLCBwYXJzZWRBcmdzLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBtZS5fZGVmLnJldHVybnMuc2FmZVBhcnNlKHJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFJldHVybnMuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBwYXJzZWRSZXR1cm5zLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucy5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5hcmdzO1xuICAgIH1cbiAgICByZXR1cm5UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnJldHVybnM7XG4gICAgfVxuICAgIGFyZ3MoLi4uaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBhcmdzOiBab2RUdXBsZS5jcmVhdGUoaXRlbXMpLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm5zKHJldHVyblR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5UeXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdHJpY3RJbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYXJncywgcmV0dXJucywgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgYXJnczogKGFyZ3MgPyBhcmdzIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpKSxcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVybnMgfHwgWm9kVW5rbm93bi5jcmVhdGUoKSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RMYXp5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBsYXp5U2NoZW1hID0gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgICAgICByZXR1cm4gbGF6eVNjaGVtYS5fcGFyc2UoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgIH1cbn1cblpvZExhenkuY3JlYXRlID0gKGdldHRlciwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RMaXRlcmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhICE9PSB0aGlzLl9kZWYudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB0aGlzLl9kZWYudmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWU7XG4gICAgfVxufVxuWm9kTGl0ZXJhbC5jcmVhdGUgPSAodmFsdWUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gY3JlYXRlWm9kRW51bSh2YWx1ZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgIHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY2xhc3MgWm9kRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0LmRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBTZXQodGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgVmFsdWVzKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IEVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBleHRyYWN0KHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh2YWx1ZXMsIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4Y2x1ZGUodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHRoaXMub3B0aW9ucy5maWx0ZXIoKG9wdCkgPT4gIXZhbHVlcy5pbmNsdWRlcyhvcHQpKSwge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5ab2RFbnVtLmNyZWF0ZSA9IGNyZWF0ZVpvZEVudW07XG5leHBvcnQgY2xhc3MgWm9kTmF0aXZlRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbnVtVmFsdWVzID0gdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZyAmJiBjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG59XG5ab2ROYXRpdmVFbnVtLmNyZWF0ZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kUHJvbWlzZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlICYmIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnByb21pc2UsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9taXNpZmllZCA9IGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnByb21pc2UgPyBjdHguZGF0YSA6IFByb21pc2UucmVzb2x2ZShjdHguZGF0YSk7XG4gICAgICAgIHJldHVybiBPSyhwcm9taXNpZmllZC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUucGFyc2VBc3luYyhkYXRhLCB7XG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5ab2RQcm9taXNlLmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEVmZmVjdHMgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBpbm5lclR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBzb3VyY2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0c1xuICAgICAgICAgICAgPyB0aGlzLl9kZWYuc2NoZW1hLnNvdXJjZVR5cGUoKVxuICAgICAgICAgICAgOiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZWZmZWN0ID0gdGhpcy5fZGVmLmVmZmVjdCB8fCBudWxsO1xuICAgICAgICBjb25zdCBjaGVja0N0eCA9IHtcbiAgICAgICAgICAgIGFkZElzc3VlOiAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5wYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hlY2tDdHguYWRkSXNzdWUgPSBjaGVja0N0eC5hZGRJc3N1ZS5iaW5kKGNoZWNrQ3R4KTtcbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInByZXByb2Nlc3NcIikge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb2Nlc3NlZCkudGhlbihhc3luYyAocHJvY2Vzc2VkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJyZWZpbmVtZW50XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGVSZWZpbmVtZW50ID0gKGFjYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC5yZWZpbmVtZW50KGFjYywgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICAgICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChpbm5lcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXN5bmNocm9ub3VzIHRyYW5zZm9ybSBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChiYXNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpKS50aGVuKChyZXN1bHQpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGVmZmVjdCk7XG4gICAgfVxufVxuWm9kRWZmZWN0cy5jcmVhdGUgPSAoc2NoZW1hLCBlZmZlY3QsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICBlZmZlY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzID0gKHByZXByb2Nlc3MsIHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJwcmVwcm9jZXNzXCIsIHRyYW5zZm9ybTogcHJlcHJvY2VzcyB9LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgeyBab2RFZmZlY3RzIGFzIFpvZFRyYW5zZm9ybWVyIH07XG5leHBvcnQgY2xhc3MgWm9kT3B0aW9uYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kT3B0aW9uYWwuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTnVsbGFibGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2ROdWxsYWJsZS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2REZWZhdWx0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBsZXQgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fZGVmLmRlZmF1bHRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZURlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZERlZmF1bHQuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHR5cGVvZiBwYXJhbXMuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmRlZmF1bHQgOiAoKSA9PiBwYXJhbXMuZGVmYXVsdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RDYXRjaCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgLy8gbmV3Q3R4IGlzIHVzZWQgdG8gbm90IGNvbGxlY3QgaXNzdWVzIGZyb20gaW5uZXIgdHlwZXMgaW4gY3R4XG4gICAgICAgIGNvbnN0IG5ld0N0eCA9IHtcbiAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGE6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogbmV3Q3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgICAgICAuLi5uZXdDdHgsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzQXN5bmMocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlQ2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgcGFyYW1zLmNhdGNoID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuY2F0Y2ggOiAoKSA9PiBwYXJhbXMuY2F0Y2gsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTmFOIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubmFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5hbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbn1cblpvZE5hTi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYU4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBCUkFORCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmV4cG9ydCBjbGFzcyBab2RCcmFuZGVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kUGlwZWxpbmUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFzeW5jID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLmluLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkoaW5SZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFzeW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiZGlydHlcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RQaXBlbGluZSh7XG4gICAgICAgICAgICBpbjogYSxcbiAgICAgICAgICAgIG91dDogYixcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RSZWFkb25seSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBPYmplY3QuZnJlZXplKGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpc0FzeW5jKHJlc3VsdCkgPyByZXN1bHQudGhlbigoZGF0YSkgPT4gZnJlZXplKGRhdGEpKSA6IGZyZWV6ZShyZXN1bHQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZFJlYWRvbmx5LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIHouY3VzdG9tICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gY2xlYW5QYXJhbXMocGFyYW1zLCBkYXRhKSB7XG4gICAgY29uc3QgcCA9IHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcyhkYXRhKSA6IHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9IDogcGFyYW1zO1xuICAgIGNvbnN0IHAyID0gdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHAgfSA6IHA7XG4gICAgcmV0dXJuIHAyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbShjaGVjaywgX3BhcmFtcyA9IHt9LCBcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBQYXNzIGBmYXRhbGAgaW50byB0aGUgcGFyYW1zIG9iamVjdCBpbnN0ZWFkOlxuICpcbiAqIGBgYHRzXG4gKiB6LnN0cmluZygpLmN1c3RvbSgodmFsKSA9PiB2YWwubGVuZ3RoID4gNSwgeyBmYXRhbDogZmFsc2UgfSlcbiAqIGBgYFxuICpcbiAqL1xuZmF0YWwpIHtcbiAgICBpZiAoY2hlY2spXG4gICAgICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCkuc3VwZXJSZWZpbmUoKGRhdGEsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IGNoZWNrKGRhdGEpO1xuICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIudGhlbigocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGNsZWFuUGFyYW1zKF9wYXJhbXMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gcGFyYW1zLmZhdGFsID8/IGZhdGFsID8/IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGNsZWFuUGFyYW1zKF9wYXJhbXMsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKTtcbn1cbmV4cG9ydCB7IFpvZFR5cGUgYXMgU2NoZW1hLCBab2RUeXBlIGFzIFpvZFNjaGVtYSB9O1xuZXhwb3J0IGNvbnN0IGxhdGUgPSB7XG4gICAgb2JqZWN0OiBab2RPYmplY3QubGF6eWNyZWF0ZSxcbn07XG5leHBvcnQgdmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbiAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3RyaW5nXCJdID0gXCJab2RTdHJpbmdcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdW1iZXJcIl0gPSBcIlpvZE51bWJlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hTlwiXSA9IFwiWm9kTmFOXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQmlnSW50XCJdID0gXCJab2RCaWdJbnRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCb29sZWFuXCJdID0gXCJab2RCb29sZWFuXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGF0ZVwiXSA9IFwiWm9kRGF0ZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN5bWJvbFwiXSA9IFwiWm9kU3ltYm9sXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5kZWZpbmVkXCJdID0gXCJab2RVbmRlZmluZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsXCJdID0gXCJab2ROdWxsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQW55XCJdID0gXCJab2RBbnlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmtub3duXCJdID0gXCJab2RVbmtub3duXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmV2ZXJcIl0gPSBcIlpvZE5ldmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVm9pZFwiXSA9IFwiWm9kVm9pZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFycmF5XCJdID0gXCJab2RBcnJheVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9iamVjdFwiXSA9IFwiWm9kT2JqZWN0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5pb25cIl0gPSBcIlpvZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCJdID0gXCJab2REaXNjcmltaW5hdGVkVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RJbnRlcnNlY3Rpb25cIl0gPSBcIlpvZEludGVyc2VjdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFR1cGxlXCJdID0gXCJab2RUdXBsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlY29yZFwiXSA9IFwiWm9kUmVjb3JkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTWFwXCJdID0gXCJab2RNYXBcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTZXRcIl0gPSBcIlpvZFNldFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEZ1bmN0aW9uXCJdID0gXCJab2RGdW5jdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExhenlcIl0gPSBcIlpvZExhenlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMaXRlcmFsXCJdID0gXCJab2RMaXRlcmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRW51bVwiXSA9IFwiWm9kRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVmZmVjdHNcIl0gPSBcIlpvZEVmZmVjdHNcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYXRpdmVFbnVtXCJdID0gXCJab2ROYXRpdmVFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT3B0aW9uYWxcIl0gPSBcIlpvZE9wdGlvbmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbGFibGVcIl0gPSBcIlpvZE51bGxhYmxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGVmYXVsdFwiXSA9IFwiWm9kRGVmYXVsdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZENhdGNoXCJdID0gXCJab2RDYXRjaFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFByb21pc2VcIl0gPSBcIlpvZFByb21pc2VcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCcmFuZGVkXCJdID0gXCJab2RCcmFuZGVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUGlwZWxpbmVcIl0gPSBcIlpvZFBpcGVsaW5lXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVhZG9ubHlcIl0gPSBcIlpvZFJlYWRvbmx5XCI7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgfHwgKFpvZEZpcnN0UGFydHlUeXBlS2luZCA9IHt9KSk7XG4vLyByZXF1aXJlcyBUUyA0LjQrXG5jbGFzcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoLi4uXykgeyB9XG59XG5jb25zdCBpbnN0YW5jZU9mVHlwZSA9IChcbi8vIGNvbnN0IGluc3RhbmNlT2ZUeXBlID0gPFQgZXh0ZW5kcyBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuY2xzLCBwYXJhbXMgPSB7XG4gICAgbWVzc2FnZTogYElucHV0IG5vdCBpbnN0YW5jZSBvZiAke2Nscy5uYW1lfWAsXG59KSA9PiBjdXN0b20oKGRhdGEpID0+IGRhdGEgaW5zdGFuY2VvZiBjbHMsIHBhcmFtcyk7XG5jb25zdCBzdHJpbmdUeXBlID0gWm9kU3RyaW5nLmNyZWF0ZTtcbmNvbnN0IG51bWJlclR5cGUgPSBab2ROdW1iZXIuY3JlYXRlO1xuY29uc3QgbmFuVHlwZSA9IFpvZE5hTi5jcmVhdGU7XG5jb25zdCBiaWdJbnRUeXBlID0gWm9kQmlnSW50LmNyZWF0ZTtcbmNvbnN0IGJvb2xlYW5UeXBlID0gWm9kQm9vbGVhbi5jcmVhdGU7XG5jb25zdCBkYXRlVHlwZSA9IFpvZERhdGUuY3JlYXRlO1xuY29uc3Qgc3ltYm9sVHlwZSA9IFpvZFN5bWJvbC5jcmVhdGU7XG5jb25zdCB1bmRlZmluZWRUeXBlID0gWm9kVW5kZWZpbmVkLmNyZWF0ZTtcbmNvbnN0IG51bGxUeXBlID0gWm9kTnVsbC5jcmVhdGU7XG5jb25zdCBhbnlUeXBlID0gWm9kQW55LmNyZWF0ZTtcbmNvbnN0IHVua25vd25UeXBlID0gWm9kVW5rbm93bi5jcmVhdGU7XG5jb25zdCBuZXZlclR5cGUgPSBab2ROZXZlci5jcmVhdGU7XG5jb25zdCB2b2lkVHlwZSA9IFpvZFZvaWQuY3JlYXRlO1xuY29uc3QgYXJyYXlUeXBlID0gWm9kQXJyYXkuY3JlYXRlO1xuY29uc3Qgb2JqZWN0VHlwZSA9IFpvZE9iamVjdC5jcmVhdGU7XG5jb25zdCBzdHJpY3RPYmplY3RUeXBlID0gWm9kT2JqZWN0LnN0cmljdENyZWF0ZTtcbmNvbnN0IHVuaW9uVHlwZSA9IFpvZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgPSBab2REaXNjcmltaW5hdGVkVW5pb24uY3JlYXRlO1xuY29uc3QgaW50ZXJzZWN0aW9uVHlwZSA9IFpvZEludGVyc2VjdGlvbi5jcmVhdGU7XG5jb25zdCB0dXBsZVR5cGUgPSBab2RUdXBsZS5jcmVhdGU7XG5jb25zdCByZWNvcmRUeXBlID0gWm9kUmVjb3JkLmNyZWF0ZTtcbmNvbnN0IG1hcFR5cGUgPSBab2RNYXAuY3JlYXRlO1xuY29uc3Qgc2V0VHlwZSA9IFpvZFNldC5jcmVhdGU7XG5jb25zdCBmdW5jdGlvblR5cGUgPSBab2RGdW5jdGlvbi5jcmVhdGU7XG5jb25zdCBsYXp5VHlwZSA9IFpvZExhenkuY3JlYXRlO1xuY29uc3QgbGl0ZXJhbFR5cGUgPSBab2RMaXRlcmFsLmNyZWF0ZTtcbmNvbnN0IGVudW1UeXBlID0gWm9kRW51bS5jcmVhdGU7XG5jb25zdCBuYXRpdmVFbnVtVHlwZSA9IFpvZE5hdGl2ZUVudW0uY3JlYXRlO1xuY29uc3QgcHJvbWlzZVR5cGUgPSBab2RQcm9taXNlLmNyZWF0ZTtcbmNvbnN0IGVmZmVjdHNUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGU7XG5jb25zdCBvcHRpb25hbFR5cGUgPSBab2RPcHRpb25hbC5jcmVhdGU7XG5jb25zdCBudWxsYWJsZVR5cGUgPSBab2ROdWxsYWJsZS5jcmVhdGU7XG5jb25zdCBwcmVwcm9jZXNzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3M7XG5jb25zdCBwaXBlbGluZVR5cGUgPSBab2RQaXBlbGluZS5jcmVhdGU7XG5jb25zdCBvc3RyaW5nID0gKCkgPT4gc3RyaW5nVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvbnVtYmVyID0gKCkgPT4gbnVtYmVyVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvYm9vbGVhbiA9ICgpID0+IGJvb2xlYW5UeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydCBjb25zdCBjb2VyY2UgPSB7XG4gICAgc3RyaW5nOiAoKGFyZykgPT4gWm9kU3RyaW5nLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBudW1iZXI6ICgoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGJvb2xlYW46ICgoYXJnKSA9PiBab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgICAgIC4uLmFyZyxcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgIH0pKSxcbiAgICBiaWdpbnQ6ICgoYXJnKSA9PiBab2RCaWdJbnQuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGRhdGU6ICgoYXJnKSA9PiBab2REYXRlLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbn07XG5leHBvcnQgeyBhbnlUeXBlIGFzIGFueSwgYXJyYXlUeXBlIGFzIGFycmF5LCBiaWdJbnRUeXBlIGFzIGJpZ2ludCwgYm9vbGVhblR5cGUgYXMgYm9vbGVhbiwgZGF0ZVR5cGUgYXMgZGF0ZSwgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSBhcyBkaXNjcmltaW5hdGVkVW5pb24sIGVmZmVjdHNUeXBlIGFzIGVmZmVjdCwgZW51bVR5cGUgYXMgZW51bSwgZnVuY3Rpb25UeXBlIGFzIGZ1bmN0aW9uLCBpbnN0YW5jZU9mVHlwZSBhcyBpbnN0YW5jZW9mLCBpbnRlcnNlY3Rpb25UeXBlIGFzIGludGVyc2VjdGlvbiwgbGF6eVR5cGUgYXMgbGF6eSwgbGl0ZXJhbFR5cGUgYXMgbGl0ZXJhbCwgbWFwVHlwZSBhcyBtYXAsIG5hblR5cGUgYXMgbmFuLCBuYXRpdmVFbnVtVHlwZSBhcyBuYXRpdmVFbnVtLCBuZXZlclR5cGUgYXMgbmV2ZXIsIG51bGxUeXBlIGFzIG51bGwsIG51bGxhYmxlVHlwZSBhcyBudWxsYWJsZSwgbnVtYmVyVHlwZSBhcyBudW1iZXIsIG9iamVjdFR5cGUgYXMgb2JqZWN0LCBvYm9vbGVhbiwgb251bWJlciwgb3B0aW9uYWxUeXBlIGFzIG9wdGlvbmFsLCBvc3RyaW5nLCBwaXBlbGluZVR5cGUgYXMgcGlwZWxpbmUsIHByZXByb2Nlc3NUeXBlIGFzIHByZXByb2Nlc3MsIHByb21pc2VUeXBlIGFzIHByb21pc2UsIHJlY29yZFR5cGUgYXMgcmVjb3JkLCBzZXRUeXBlIGFzIHNldCwgc3RyaWN0T2JqZWN0VHlwZSBhcyBzdHJpY3RPYmplY3QsIHN0cmluZ1R5cGUgYXMgc3RyaW5nLCBzeW1ib2xUeXBlIGFzIHN5bWJvbCwgZWZmZWN0c1R5cGUgYXMgdHJhbnNmb3JtZXIsIHR1cGxlVHlwZSBhcyB0dXBsZSwgdW5kZWZpbmVkVHlwZSBhcyB1bmRlZmluZWQsIHVuaW9uVHlwZSBhcyB1bmlvbiwgdW5rbm93blR5cGUgYXMgdW5rbm93biwgdm9pZFR5cGUgYXMgdm9pZCwgfTtcbmV4cG9ydCBjb25zdCBORVZFUiA9IElOVkFMSUQ7XG4iLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VBbnlEZWYoKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW55Lm1qcy5tYXAiLCJpbXBvcnQgeyBab2RGaXJzdFBhcnR5VHlwZUtpbmQgfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBcnJheURlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgfTtcbiAgICBpZiAoZGVmLnR5cGU/Ll9kZWY/LnR5cGVOYW1lICE9PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55KSB7XG4gICAgICAgIHJlcy5pdGVtcyA9IHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcyddLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRlZi5taW5MZW5ndGgpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5JdGVtcycsIGRlZi5taW5MZW5ndGgudmFsdWUsIGRlZi5taW5MZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIGlmIChkZWYubWF4TGVuZ3RoKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4SXRlbXMnLCBkZWYubWF4TGVuZ3RoLnZhbHVlLCBkZWYubWF4TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluSXRlbXMnLCBkZWYuZXhhY3RMZW5ndGgudmFsdWUsIGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhJdGVtcycsIGRlZi5leGFjdExlbmd0aC52YWx1ZSwgZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyYXkubWpzLm1hcCIsImltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJpZ2ludERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgZm9ybWF0OiAnaW50NjQnLFxuICAgIH07XG4gICAgaWYgKCFkZWYuY2hlY2tzKVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluaW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnZXhjbHVzaXZlTWluaW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hNycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhpbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdleGNsdXNpdmVNYXhpbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtdWx0aXBsZU9mJzpcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ211bHRpcGxlT2YnLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpZ2ludC5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9vbGVhbkRlZigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvb2xlYW4ubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQnJhbmRlZERlZihfZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKF9kZWYudHlwZS5fZGVmLCByZWZzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyYW5kZWQubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlQ2F0Y2hEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2F0Y2gubWpzLm1hcCIsImltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURhdGVEZWYoZGVmLCByZWZzLCBvdmVycmlkZURhdGVTdHJhdGVneSkge1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gb3ZlcnJpZGVEYXRlU3RyYXRlZ3kgPz8gcmVmcy5kYXRlU3RyYXRlZ3k7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3RyYXRlZ3kpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbnlPZjogc3RyYXRlZ3kubWFwKChpdGVtLCBpKSA9PiBwYXJzZURhdGVEZWYoZGVmLCByZWZzLCBpdGVtKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgY2FzZSAnZm9ybWF0OmRhdGUtdGltZSc6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogJ2RhdGUtdGltZScsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdmb3JtYXQ6ZGF0ZSc6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogJ2RhdGUnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnaW50ZWdlcic6XG4gICAgICAgICAgICByZXR1cm4gaW50ZWdlckRhdGVQYXJzZXIoZGVmLCByZWZzKTtcbiAgICB9XG59XG5jb25zdCBpbnRlZ2VyRGF0ZVBhcnNlciA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgZm9ybWF0OiAndW5peC10aW1lJyxcbiAgICB9O1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJykge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdtaW4nOlxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluaW11bScsIGNoZWNrLnZhbHVlLCAvLyBUaGlzIGlzIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heGltdW0nLCBjaGVjay52YWx1ZSwgLy8gVGhpcyBpcyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgICAgICBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGUubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRGVmYXVsdERlZihfZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucGFyc2VEZWYoX2RlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyksXG4gICAgICAgIGRlZmF1bHQ6IF9kZWYuZGVmYXVsdFZhbHVlKCksXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRWZmZWN0c0RlZihfZGVmLCByZWZzLCBmb3JjZVJlc29sdXRpb24pIHtcbiAgICByZXR1cm4gcmVmcy5lZmZlY3RTdHJhdGVneSA9PT0gJ2lucHV0JyA/IHBhcnNlRGVmKF9kZWYuc2NoZW1hLl9kZWYsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbikgOiB7fTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVmZmVjdHMubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUVudW1EZWYoZGVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIGVudW06IFsuLi5kZWYudmFsdWVzXSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW51bS5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5jb25zdCBpc0pzb25TY2hlbWE3QWxsT2ZUeXBlID0gKHR5cGUpID0+IHtcbiAgICBpZiAoJ3R5cGUnIGluIHR5cGUgJiYgdHlwZS50eXBlID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiAnYWxsT2YnIGluIHR5cGU7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSW50ZXJzZWN0aW9uRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IGFsbE9mID0gW1xuICAgICAgICBwYXJzZURlZihkZWYubGVmdC5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWxsT2YnLCAnMCddLFxuICAgICAgICB9KSxcbiAgICAgICAgcGFyc2VEZWYoZGVmLnJpZ2h0Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbGxPZicsICcxJ10sXG4gICAgICAgIH0pLFxuICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpO1xuICAgIGxldCB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSByZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWEyMDE5LTA5JyA/IHsgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzOiBmYWxzZSB9IDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1lcmdlZEFsbE9mID0gW107XG4gICAgLy8gSWYgZWl0aGVyIG9mIHRoZSBzY2hlbWFzIGlzIGFuIGFsbE9mLCBtZXJnZSB0aGVtIGludG8gYSBzaW5nbGUgYWxsT2ZcbiAgICBhbGxPZi5mb3JFYWNoKChzY2hlbWEpID0+IHtcbiAgICAgICAgaWYgKGlzSnNvblNjaGVtYTdBbGxPZlR5cGUoc2NoZW1hKSkge1xuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaCguLi5zY2hlbWEuYWxsT2YpO1xuICAgICAgICAgICAgaWYgKHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIElmIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgbm8gdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzIHNldCxcbiAgICAgICAgICAgICAgICAvLyB0aGUgbWVyZ2VkIHNjaGVtYSBzaG91bGQgYWxzbyBoYXZlIG5vIHVuZXZhbHVhdGVkUHJvcGVydGllcyBzZXRcbiAgICAgICAgICAgICAgICB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmVzdGVkU2NoZW1hID0gc2NoZW1hO1xuICAgICAgICAgICAgaWYgKCdhZGRpdGlvbmFsUHJvcGVydGllcycgaW4gc2NoZW1hICYmIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCAuLi5yZXN0IH0gPSBzY2hlbWE7XG4gICAgICAgICAgICAgICAgbmVzdGVkU2NoZW1hID0gcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFzIHNvb24gYXMgb25lIG9mIHRoZSBzY2hlbWFzIGhhcyBhZGRpdGlvbmFsUHJvcGVydGllcyBzZXQgbm90IHRvIGZhbHNlLCB3ZSBhbGxvdyB1bmV2YWx1YXRlZFByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXJnZWRBbGxPZi5wdXNoKG5lc3RlZFNjaGVtYSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbWVyZ2VkQWxsT2YubGVuZ3RoID9cbiAgICAgICAge1xuICAgICAgICAgICAgYWxsT2Y6IG1lcmdlZEFsbE9mLFxuICAgICAgICAgICAgLi4udW5ldmFsdWF0ZWRQcm9wZXJ0aWVzLFxuICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJzZWN0aW9uLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VMaXRlcmFsRGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0eXBlb2YgZGVmLnZhbHVlO1xuICAgIGlmIChwYXJzZWRUeXBlICE9PSAnYmlnaW50JyAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSAnbnVtYmVyJyAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSAnYm9vbGVhbicgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IEFycmF5LmlzQXJyYXkoZGVmLnZhbHVlKSA/ICdhcnJheScgOiAnb2JqZWN0JyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBwYXJzZWRUeXBlID09PSAnYmlnaW50JyA/ICdpbnRlZ2VyJyA6IHBhcnNlZFR5cGUsXG4gICAgICAgICAgICBlbnVtOiBbZGVmLnZhbHVlXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogcGFyc2VkVHlwZSA9PT0gJ2JpZ2ludCcgPyAnaW50ZWdlcicgOiBwYXJzZWRUeXBlLFxuICAgICAgICBjb25zdDogZGVmLnZhbHVlLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXRlcmFsLm1qcy5tYXAiLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5sZXQgZW1vamlSZWdleDtcbi8qKlxuICogR2VuZXJhdGVkIGZyb20gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgZm91bmQgaGVyZSBhcyBvZiAyMDI0LTA1LTIyOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2Jsb2IvbWFzdGVyL3NyYy90eXBlcy50cy5cbiAqXG4gKiBFeHByZXNzaW9ucyB3aXRoIC9pIGZsYWcgaGF2ZSBiZWVuIGNoYW5nZWQgYWNjb3JkaW5nbHkuXG4gKi9cbmV4cG9ydCBjb25zdCB6b2RQYXR0ZXJucyA9IHtcbiAgICAvKipcbiAgICAgKiBgY2Agd2FzIGNoYW5nZWQgdG8gYFtjQ11gIHRvIHJlcGxpY2F0ZSAvaSBmbGFnXG4gICAgICovXG4gICAgY3VpZDogL15bY0NdW15cXHMtXXs4LH0kLyxcbiAgICBjdWlkMjogL15bMC05YS16XSskLyxcbiAgICB1bGlkOiAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kLyxcbiAgICAvKipcbiAgICAgKiBgYS16YCB3YXMgYWRkZWQgdG8gcmVwbGljYXRlIC9pIGZsYWdcbiAgICAgKi9cbiAgICBlbWFpbDogL14oPyFcXC4pKD8hLipcXC5cXC4pKFthLXpBLVowLTlfJytcXC1cXC5dKilbYS16QS1aMC05XystXUAoW2EtekEtWjAtOV1bYS16QS1aMC05XFwtXSpcXC4pK1thLXpBLVpdezIsfSQvLFxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdGVkIGEgdmFsaWQgVW5pY29kZSBSZWdFeHBcbiAgICAgKlxuICAgICAqIExhemlseSBpbnN0YW50aWF0ZSBzaW5jZSB0aGlzIHR5cGUgb2YgcmVnZXggaXNuJ3Qgc3VwcG9ydGVkXG4gICAgICogaW4gYWxsIGVudnMgKGUuZy4gUmVhY3QgTmF0aXZlKS5cbiAgICAgKlxuICAgICAqIFNlZTpcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvaXNzdWVzLzI0MzNcbiAgICAgKiBGaXggaW4gWm9kOlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9jb21taXQvOTM0MGZkNTFlNDg1NzZhNzVhZGM5MTliZmY2NWRiYzRhNWQ0Yzk5YlxuICAgICAqL1xuICAgIGVtb2ppOiAoKSA9PiB7XG4gICAgICAgIGlmIChlbW9qaVJlZ2V4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVtb2ppUmVnZXggPSBSZWdFeHAoJ14oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskJywgJ3UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1vamlSZWdleDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFVudXNlZFxuICAgICAqL1xuICAgIHV1aWQ6IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC8sXG4gICAgLyoqXG4gICAgICogVW51c2VkXG4gICAgICovXG4gICAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLyxcbiAgICAvKipcbiAgICAgKiBVbnVzZWRcbiAgICAgKi9cbiAgICBpcHY2OiAvXigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSkkLyxcbiAgICBiYXNlNjQ6IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLyxcbiAgICBuYW5vaWQ6IC9eW2EtekEtWjAtOV8tXXsyMX0kLyxcbn07XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTdHJpbmdEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHByb2Nlc3NQYXR0ZXJuKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZWZzLnBhdHRlcm5TdHJhdGVneSA9PT0gJ2VzY2FwZScgPyBlc2NhcGVOb25BbHBoYU51bWVyaWModmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIGlmIChkZWYuY2hlY2tzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWluJzpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtaW5MZW5ndGgnLCB0eXBlb2YgcmVzLm1pbkxlbmd0aCA9PT0gJ251bWJlcicgPyBNYXRoLm1heChyZXMubWluTGVuZ3RoLCBjaGVjay52YWx1ZSkgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21heCc6XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4TGVuZ3RoJywgdHlwZW9mIHJlcy5tYXhMZW5ndGggPT09ICdudW1iZXInID8gTWF0aC5taW4ocmVzLm1heExlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlbWFpbCc6XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVmcy5lbWFpbFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmb3JtYXQ6ZW1haWwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdlbWFpbCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZm9ybWF0Omlkbi1lbWFpbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2lkbi1lbWFpbCcsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncGF0dGVybjp6b2QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5lbWFpbCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ3VyaScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1dWlkJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ3V1aWQnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVnZXgnOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgY2hlY2sucmVnZXgsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjdWlkJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmN1aWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjdWlkMic6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5jdWlkMiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0c1dpdGgnOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGBeJHtwcm9jZXNzUGF0dGVybihjaGVjay52YWx1ZSl9YCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlbmRzV2l0aCc6XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBSZWdFeHAoYCR7cHJvY2Vzc1BhdHRlcm4oY2hlY2sudmFsdWUpfSRgKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGV0aW1lJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2RhdGUtdGltZScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2RhdGUnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICd0aW1lJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2R1cmF0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2R1cmF0aW9uJywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xlbmd0aCc6XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluTGVuZ3RoJywgdHlwZW9mIHJlcy5taW5MZW5ndGggPT09ICdudW1iZXInID8gTWF0aC5tYXgocmVzLm1pbkxlbmd0aCwgY2hlY2sudmFsdWUpIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21heExlbmd0aCcsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSAnbnVtYmVyJyA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKSA6IGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5jbHVkZXMnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCBSZWdFeHAocHJvY2Vzc1BhdHRlcm4oY2hlY2sudmFsdWUpKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdpcCc6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09ICd2NicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdpcHY0JywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09ICd2NCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsICdpcHY2JywgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2Vtb2ppJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmVtb2ppLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndWxpZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLnVsaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnYmFzZTY0Jzoge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlZnMuYmFzZTY0U3RyYXRlZ3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Zvcm1hdDpiaW5hcnknOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgJ2JpbmFyeScsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udGVudEVuY29kaW5nOmJhc2U2NCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ2NvbnRlbnRFbmNvZGluZycsICdiYXNlNjQnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhdHRlcm46em9kJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5iYXNlNjQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICduYW5vaWQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5uYW5vaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICd0b0xvd2VyQ2FzZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAndG9VcHBlckNhc2UnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyaW0nOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAoKF8pID0+IHsgfSkoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5jb25zdCBlc2NhcGVOb25BbHBoYU51bWVyaWMgPSAodmFsdWUpID0+IEFycmF5LmZyb20odmFsdWUpXG4gICAgLm1hcCgoYykgPT4gKC9bYS16QS1aMC05XS8udGVzdChjKSA/IGMgOiBgXFxcXCR7Y31gKSlcbiAgICAuam9pbignJyk7XG5jb25zdCBhZGRGb3JtYXQgPSAoc2NoZW1hLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcykgPT4ge1xuICAgIGlmIChzY2hlbWEuZm9ybWF0IHx8IHNjaGVtYS5hbnlPZj8uc29tZSgoeCkgPT4geC5mb3JtYXQpKSB7XG4gICAgICAgIGlmICghc2NoZW1hLmFueU9mKSB7XG4gICAgICAgICAgICBzY2hlbWEuYW55T2YgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLmZvcm1hdCkge1xuICAgICAgICAgICAgc2NoZW1hLmFueU9mLnB1c2goe1xuICAgICAgICAgICAgICAgIGZvcm1hdDogc2NoZW1hLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAuLi4oc2NoZW1hLmVycm9yTWVzc2FnZSAmJlxuICAgICAgICAgICAgICAgICAgICByZWZzLmVycm9yTWVzc2FnZXMgJiYge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHsgZm9ybWF0OiBzY2hlbWEuZXJyb3JNZXNzYWdlLmZvcm1hdCB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWxldGUgc2NoZW1hLmZvcm1hdDtcbiAgICAgICAgICAgIGlmIChzY2hlbWEuZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0O1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzY2hlbWEuZXJyb3JNZXNzYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hbnlPZi5wdXNoKHtcbiAgICAgICAgICAgIGZvcm1hdDogdmFsdWUsXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAmJiByZWZzLmVycm9yTWVzc2FnZXMgJiYgeyBlcnJvck1lc3NhZ2U6IHsgZm9ybWF0OiBtZXNzYWdlIH0gfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsICdmb3JtYXQnLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcyk7XG4gICAgfVxufTtcbmNvbnN0IGFkZFBhdHRlcm4gPSAoc2NoZW1hLCByZWdleCwgbWVzc2FnZSwgcmVmcykgPT4ge1xuICAgIGlmIChzY2hlbWEucGF0dGVybiB8fCBzY2hlbWEuYWxsT2Y/LnNvbWUoKHgpID0+IHgucGF0dGVybikpIHtcbiAgICAgICAgaWYgKCFzY2hlbWEuYWxsT2YpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbGxPZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEucGF0dGVybikge1xuICAgICAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2goe1xuICAgICAgICAgICAgICAgIHBhdHRlcm46IHNjaGVtYS5wYXR0ZXJuLFxuICAgICAgICAgICAgICAgIC4uLihzY2hlbWEuZXJyb3JNZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm4gfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5wYXR0ZXJuO1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZS5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzY2hlbWEuZXJyb3JNZXNzYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKHtcbiAgICAgICAgICAgIHBhdHRlcm46IHByb2Nlc3NSZWdFeHAocmVnZXgsIHJlZnMpLFxuICAgICAgICAgICAgLi4uKG1lc3NhZ2UgJiYgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IHBhdHRlcm46IG1lc3NhZ2UgfSB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgJ3BhdHRlcm4nLCBwcm9jZXNzUmVnRXhwKHJlZ2V4LCByZWZzKSwgbWVzc2FnZSwgcmVmcyk7XG4gICAgfVxufTtcbi8vIE11dGF0ZSB6LnN0cmluZy5yZWdleCgpIGluIGEgYmVzdCBhdHRlbXB0IHRvIGFjY29tbW9kYXRlIGZvciByZWdleCBmbGFncyB3aGVuIGFwcGx5UmVnZXhGbGFncyBpcyB0cnVlXG5jb25zdCBwcm9jZXNzUmVnRXhwID0gKHJlZ2V4T3JGdW5jdGlvbiwgcmVmcykgPT4ge1xuICAgIGNvbnN0IHJlZ2V4ID0gdHlwZW9mIHJlZ2V4T3JGdW5jdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IHJlZ2V4T3JGdW5jdGlvbigpIDogcmVnZXhPckZ1bmN0aW9uO1xuICAgIGlmICghcmVmcy5hcHBseVJlZ2V4RmxhZ3MgfHwgIXJlZ2V4LmZsYWdzKVxuICAgICAgICByZXR1cm4gcmVnZXguc291cmNlO1xuICAgIC8vIEN1cnJlbnRseSBoYW5kbGVkIGZsYWdzXG4gICAgY29uc3QgZmxhZ3MgPSB7XG4gICAgICAgIGk6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKCdpJyksIC8vIENhc2UtaW5zZW5zaXRpdmVcbiAgICAgICAgbTogcmVnZXguZmxhZ3MuaW5jbHVkZXMoJ20nKSwgLy8gYF5gIGFuZCBgJGAgbWF0Y2hlcyBhZGphY2VudCB0byBuZXdsaW5lIGNoYXJhY3RlcnNcbiAgICAgICAgczogcmVnZXguZmxhZ3MuaW5jbHVkZXMoJ3MnKSwgLy8gYC5gIG1hdGNoZXMgbmV3bGluZXNcbiAgICB9O1xuICAgIC8vIFRoZSBnZW5lcmFsIHByaW5jaXBsZSBoZXJlIGlzIHRvIHN0ZXAgdGhyb3VnaCBlYWNoIGNoYXJhY3Rlciwgb25lIGF0IGEgdGltZSwgYXBwbHlpbmcgbXV0YXRpb25zIGFzIGZsYWdzIHJlcXVpcmUuIFdlIGtlZXAgdHJhY2sgd2hlbiB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaXMgZXNjYXBlZCwgYW5kIHdoZW4gaXQncyBpbnNpZGUgYSBncm91cCAvbGlrZSBbdGhpc10vIG9yIChhbHNvKSBhIHJhbmdlIGxpa2UgL1thLXpdLy4gVGhlIGZvbGxvd2luZyBpcyBmYWlybHkgYnJpdHRsZSBpbXBlcmF0aXZlIGNvZGU7IGVkaXQgYXQgeW91ciBwZXJpbCFcbiAgICBjb25zdCBzb3VyY2UgPSBmbGFncy5pID8gcmVnZXguc291cmNlLnRvTG93ZXJDYXNlKCkgOiByZWdleC5zb3VyY2U7XG4gICAgbGV0IHBhdHRlcm4gPSAnJztcbiAgICBsZXQgaXNFc2NhcGVkID0gZmFsc2U7XG4gICAgbGV0IGluQ2hhckdyb3VwID0gZmFsc2U7XG4gICAgbGV0IGluQ2hhclJhbmdlID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzRXNjYXBlZCkge1xuICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFncy5pKSB7XG4gICAgICAgICAgICBpZiAoaW5DaGFyR3JvdXApIHtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbkNoYXJSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpIC0gMl19LSR7c291cmNlW2ldfWAudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluQ2hhclJhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2kgKyAxXSA9PT0gJy0nICYmIHNvdXJjZVtpICsgMl0/Lm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluQ2hhclJhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYCR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzb3VyY2VbaV0ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IGBbJHtzb3VyY2VbaV19JHtzb3VyY2VbaV0udG9VcHBlckNhc2UoKX1dYDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmxhZ3MubSkge1xuICAgICAgICAgICAgaWYgKHNvdXJjZVtpXSA9PT0gJ14nKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgKF58KD88PVtcXHJcXG5dKSlgO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2ldID09PSAnJCcpIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IGAoJHwoPz1bXFxyXFxuXSkpYDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmxhZ3MucyAmJiBzb3VyY2VbaV0gPT09ICcuJykge1xuICAgICAgICAgICAgcGF0dGVybiArPSBpbkNoYXJHcm91cCA/IGAke3NvdXJjZVtpXX1cXHJcXG5gIDogYFske3NvdXJjZVtpXX1cXHJcXG5dYDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHBhdHRlcm4gKz0gc291cmNlW2ldO1xuICAgICAgICBpZiAoc291cmNlW2ldID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIGlzRXNjYXBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSAnXScpIHtcbiAgICAgICAgICAgIGluQ2hhckdyb3VwID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluQ2hhckdyb3VwICYmIHNvdXJjZVtpXSA9PT0gJ1snKSB7XG4gICAgICAgICAgICBpbkNoYXJHcm91cCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVnZXhUZXN0ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCBjb252ZXJ0IHJlZ2V4IHBhdHRlcm4gYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oJy8nKX0gdG8gYSBmbGFnLWluZGVwZW5kZW50IGZvcm0hIEZhbGxpbmcgYmFjayB0byB0aGUgZmxhZy1pZ25vcmFudCBzb3VyY2VgKTtcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdHRlcm47XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5nLm1qcy5tYXAiLCJpbXBvcnQgeyBab2RGaXJzdFBhcnR5VHlwZUtpbmQgfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVN0cmluZ0RlZiB9IGZyb20gXCIuL3N0cmluZy5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycgJiYgZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLnJlZHVjZSgoYWNjLCBrZXkpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICAgIFtrZXldOiBwYXJzZURlZihkZWYudmFsdWVUeXBlLl9kZWYsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAncHJvcGVydGllcycsIGtleV0sXG4gICAgICAgICAgICAgICAgfSkgPz8ge30sXG4gICAgICAgICAgICB9KSwge30pLFxuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnYWRkaXRpb25hbFByb3BlcnRpZXMnXSxcbiAgICAgICAgfSkgPz8ge30sXG4gICAgfTtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG4gICAgaWYgKGRlZi5rZXlUeXBlPy5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nICYmIGRlZi5rZXlUeXBlLl9kZWYuY2hlY2tzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IE9iamVjdC5lbnRyaWVzKHBhcnNlU3RyaW5nRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiAoa2V5ID09PSAndHlwZScgPyBhY2MgOiB7IC4uLmFjYywgW2tleV06IHZhbHVlIH0pLCB7fSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWVzOiBrZXlUeXBlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnNjaGVtYSxcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZXM6IHtcbiAgICAgICAgICAgICAgICBlbnVtOiBkZWYua2V5VHlwZS5fZGVmLnZhbHVlcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNvcmQubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWNvcmREZWYgfSBmcm9tIFwiLi9yZWNvcmQubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNYXBEZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMubWFwU3RyYXRlZ3kgPT09ICdyZWNvcmQnKSB7XG4gICAgICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gcGFyc2VEZWYoZGVmLmtleVR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsICdpdGVtcycsICcwJ10sXG4gICAgfSkgfHwge307XG4gICAgY29uc3QgdmFsdWVzID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2l0ZW1zJywgJ2l0ZW1zJywgJzEnXSxcbiAgICB9KSB8fCB7fTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICBtYXhJdGVtczogMTI1LFxuICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICAgIGl0ZW1zOiBba2V5cywgdmFsdWVzXSxcbiAgICAgICAgICAgIG1pbkl0ZW1zOiAyLFxuICAgICAgICAgICAgbWF4SXRlbXM6IDIsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTmF0aXZlRW51bURlZihkZWYpIHtcbiAgICBjb25zdCBvYmplY3QgPSBkZWYudmFsdWVzO1xuICAgIGNvbnN0IGFjdHVhbEtleXMgPSBPYmplY3Qua2V5cyhkZWYudmFsdWVzKS5maWx0ZXIoKGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdFtvYmplY3Rba2V5XV0gIT09ICdudW1iZXInO1xuICAgIH0pO1xuICAgIGNvbnN0IGFjdHVhbFZhbHVlcyA9IGFjdHVhbEtleXMubWFwKChrZXkpID0+IG9iamVjdFtrZXldKTtcbiAgICBjb25zdCBwYXJzZWRUeXBlcyA9IEFycmF5LmZyb20obmV3IFNldChhY3R1YWxWYWx1ZXMubWFwKCh2YWx1ZXMpID0+IHR5cGVvZiB2YWx1ZXMpKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogcGFyc2VkVHlwZXMubGVuZ3RoID09PSAxID9cbiAgICAgICAgICAgIHBhcnNlZFR5cGVzWzBdID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAgJ3N0cmluZydcbiAgICAgICAgICAgICAgICA6ICdudW1iZXInXG4gICAgICAgICAgICA6IFsnc3RyaW5nJywgJ251bWJlciddLFxuICAgICAgICBlbnVtOiBhY3R1YWxWYWx1ZXMsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZUVudW0ubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZU5ldmVyRGVmKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdDoge30sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldmVyLm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VOdWxsRGVmKHJlZnMpIHtcbiAgICByZXR1cm4gcmVmcy50YXJnZXQgPT09ICdvcGVuQXBpMycgP1xuICAgICAgICB7XG4gICAgICAgICAgICBlbnVtOiBbJ251bGwnXSxcbiAgICAgICAgICAgIG51bGxhYmxlOiB0cnVlLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgdHlwZTogJ251bGwnLFxuICAgICAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVsbC5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5leHBvcnQgY29uc3QgcHJpbWl0aXZlTWFwcGluZ3MgPSB7XG4gICAgWm9kU3RyaW5nOiAnc3RyaW5nJyxcbiAgICBab2ROdW1iZXI6ICdudW1iZXInLFxuICAgIFpvZEJpZ0ludDogJ2ludGVnZXInLFxuICAgIFpvZEJvb2xlYW46ICdib29sZWFuJyxcbiAgICBab2ROdWxsOiAnbnVsbCcsXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVW5pb25EZWYoZGVmLCByZWZzKSB7XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnKVxuICAgICAgICByZXR1cm4gYXNBbnlPZihkZWYsIHJlZnMpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBkZWYub3B0aW9ucyBpbnN0YW5jZW9mIE1hcCA/IEFycmF5LmZyb20oZGVmLm9wdGlvbnMudmFsdWVzKCkpIDogZGVmLm9wdGlvbnM7XG4gICAgLy8gVGhpcyBibG9ja3MgdHJpZXMgdG8gbG9vayBhaGVhZCBhIGJpdCB0byBwcm9kdWNlIG5pY2VyIGxvb2tpbmcgc2NoZW1hcyB3aXRoIHR5cGUgYXJyYXkgaW5zdGVhZCBvZiBhbnlPZi5cbiAgICBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lIGluIHByaW1pdGl2ZU1hcHBpbmdzICYmICgheC5fZGVmLmNoZWNrcyB8fCAheC5fZGVmLmNoZWNrcy5sZW5ndGgpKSkge1xuICAgICAgICAvLyBhbGwgdHlwZXMgaW4gdW5pb24gYXJlIHByaW1pdGl2ZSBhbmQgbGFjayBjaGVja3MsIHNvIG1pZ2h0IGFzIHdlbGwgc3F1YXNoIGludG8ge3R5cGU6IFsuLi5dfVxuICAgICAgICBjb25zdCB0eXBlcyA9IG9wdGlvbnMucmVkdWNlKCh0eXBlcywgeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHByaW1pdGl2ZU1hcHBpbmdzW3guX2RlZi50eXBlTmFtZV07IC8vQ2FuIGJlIHNhZmVseSBjYXN0ZWQgZHVlIHRvIHJvdyA0M1xuICAgICAgICAgICAgcmV0dXJuIHR5cGUgJiYgIXR5cGVzLmluY2x1ZGVzKHR5cGUpID8gWy4uLnR5cGVzLCB0eXBlXSA6IHR5cGVzO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlcy5sZW5ndGggPiAxID8gdHlwZXMgOiB0eXBlc1swXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lID09PSAnWm9kTGl0ZXJhbCcgJiYgIXguZGVzY3JpcHRpb24pKSB7XG4gICAgICAgIC8vIGFsbCBvcHRpb25zIGxpdGVyYWxzXG4gICAgICAgIGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiB4Ll9kZWYudmFsdWU7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCB0eXBlXTtcbiAgICAgICAgICAgICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLmFjYywgJ2ludGVnZXInXTtcbiAgICAgICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoeC5fZGVmLnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsICdudWxsJ107XG4gICAgICAgICAgICAgICAgY2FzZSAnc3ltYm9sJzpcbiAgICAgICAgICAgICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBbXSk7XG4gICAgICAgIGlmICh0eXBlcy5sZW5ndGggPT09IG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBhbGwgdGhlIGxpdGVyYWxzIGFyZSBwcmltaXRpdmUsIGFzIGZhciBhcyBudWxsIGNhbiBiZSBjb25zaWRlcmVkIHByaW1pdGl2ZVxuICAgICAgICAgICAgY29uc3QgdW5pcXVlVHlwZXMgPSB0eXBlcy5maWx0ZXIoKHgsIGksIGEpID0+IGEuaW5kZXhPZih4KSA9PT0gaSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHVuaXF1ZVR5cGVzLmxlbmd0aCA+IDEgPyB1bmlxdWVUeXBlcyA6IHVuaXF1ZVR5cGVzWzBdLFxuICAgICAgICAgICAgICAgIGVudW06IG9wdGlvbnMucmVkdWNlKChhY2MsIHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYy5pbmNsdWRlcyh4Ll9kZWYudmFsdWUpID8gYWNjIDogWy4uLmFjYywgeC5fZGVmLnZhbHVlXTtcbiAgICAgICAgICAgICAgICB9LCBbXSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gJ1pvZEVudW0nKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiBbLi4uYWNjLCAuLi54Ll9kZWYudmFsdWVzLmZpbHRlcigoeCkgPT4gIWFjYy5pbmNsdWRlcyh4KSldLCBbXSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBhc0FueU9mKGRlZiwgcmVmcyk7XG59XG5jb25zdCBhc0FueU9mID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGNvbnN0IGFueU9mID0gKGRlZi5vcHRpb25zIGluc3RhbmNlb2YgTWFwID8gQXJyYXkuZnJvbShkZWYub3B0aW9ucy52YWx1ZXMoKSkgOiBkZWYub3B0aW9ucylcbiAgICAgICAgLm1hcCgoeCwgaSkgPT4gcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FueU9mJywgYCR7aX1gXSxcbiAgICB9KSlcbiAgICAgICAgLmZpbHRlcigoeCkgPT4gISF4ICYmICghcmVmcy5zdHJpY3RVbmlvbnMgfHwgKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh4KS5sZW5ndGggPiAwKSkpO1xuICAgIHJldHVybiBhbnlPZi5sZW5ndGggPyB7IGFueU9mIH0gOiB1bmRlZmluZWQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5pb24ubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuaW1wb3J0IHsgcHJpbWl0aXZlTWFwcGluZ3MgfSBmcm9tIFwiLi91bmlvbi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChbJ1pvZFN0cmluZycsICdab2ROdW1iZXInLCAnWm9kQmlnSW50JywgJ1pvZEJvb2xlYW4nLCAnWm9kTnVsbCddLmluY2x1ZGVzKGRlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZSkgJiZcbiAgICAgICAgKCFkZWYuaW5uZXJUeXBlLl9kZWYuY2hlY2tzIHx8ICFkZWYuaW5uZXJUeXBlLl9kZWYuY2hlY2tzLmxlbmd0aCkpIHtcbiAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnb3BlbkFwaTMnIHx8IHJlZnMubnVsbGFibGVTdHJhdGVneSA9PT0gJ3Byb3BlcnR5Jykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBwcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLFxuICAgICAgICAgICAgICAgIG51bGxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogW3ByaW1pdGl2ZU1hcHBpbmdzW2RlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZV0sICdudWxsJ10sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gJ29wZW5BcGkzJykge1xuICAgICAgICBjb25zdCBiYXNlID0gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChiYXNlICYmICckcmVmJyBpbiBiYXNlKVxuICAgICAgICAgICAgcmV0dXJuIHsgYWxsT2Y6IFtiYXNlXSwgbnVsbGFibGU6IHRydWUgfTtcbiAgICAgICAgcmV0dXJuIGJhc2UgJiYgeyAuLi5iYXNlLCBudWxsYWJsZTogdHJ1ZSB9O1xuICAgIH1cbiAgICBjb25zdCBiYXNlID0gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FueU9mJywgJzAnXSxcbiAgICB9KTtcbiAgICByZXR1cm4gYmFzZSAmJiB7IGFueU9mOiBbYmFzZSwgeyB0eXBlOiAnbnVsbCcgfV0gfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bGxhYmxlLm1qcy5tYXAiLCJpbXBvcnQgeyBhZGRFcnJvck1lc3NhZ2UsIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgIH07XG4gICAgaWYgKCFkZWYuY2hlY2tzKVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgICAgICAgICAgcmVzLnR5cGUgPSAnaW50ZWdlcic7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JNZXNzYWdlKHJlcywgJ3R5cGUnLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21pbic6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSAnanNvblNjaGVtYTcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWluaW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnZXhjbHVzaXZlTWluaW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ21pbmltdW0nLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWF4JzpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hNycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdtYXhpbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsICdleGNsdXNpdmVNYXhpbXVtJywgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCAnbWF4aW11bScsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtdWx0aXBsZU9mJzpcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgJ211bHRpcGxlT2YnLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bWJlci5tanMubWFwIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYubWpzXCI7XG5mdW5jdGlvbiBkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyhkZWYsIHJlZnMpIHtcbiAgICBpZiAocmVmcy5yZW1vdmVBZGRpdGlvbmFsU3RyYXRlZ3kgPT09ICdzdHJpY3QnKSB7XG4gICAgICAgIHJldHVybiBkZWYuY2F0Y2hhbGwuX2RlZi50eXBlTmFtZSA9PT0gJ1pvZE5ldmVyJyA/XG4gICAgICAgICAgICBkZWYudW5rbm93bktleXMgIT09ICdzdHJpY3QnXG4gICAgICAgICAgICA6IHBhcnNlRGVmKGRlZi5jYXRjaGFsbC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhZGRpdGlvbmFsUHJvcGVydGllcyddLFxuICAgICAgICAgICAgfSkgPz8gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWYuY2F0Y2hhbGwuX2RlZi50eXBlTmFtZSA9PT0gJ1pvZE5ldmVyJyA/XG4gICAgICAgICAgICBkZWYudW5rbm93bktleXMgPT09ICdwYXNzdGhyb3VnaCdcbiAgICAgICAgICAgIDogcGFyc2VEZWYoZGVmLmNhdGNoYWxsLl9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJ10sXG4gICAgICAgICAgICB9KSA/PyB0cnVlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU9iamVjdERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAuLi5PYmplY3QuZW50cmllcyhkZWYuc2hhcGUoKSkucmVkdWNlKChhY2MsIFtwcm9wTmFtZSwgcHJvcERlZl0pID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9wRGVmID09PSB1bmRlZmluZWQgfHwgcHJvcERlZi5fZGVmID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5UGF0aCA9IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAncHJvcGVydGllcycsIHByb3BOYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZERlZiA9IHBhcnNlRGVmKHByb3BEZWYuX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IHByb3BlcnR5UGF0aCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eVBhdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwYXJzZWREZWYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgaWYgKHJlZnMub3BlbmFpU3RyaWN0TW9kZSAmJlxuICAgICAgICAgICAgICAgIHByb3BEZWYuaXNPcHRpb25hbCgpICYmXG4gICAgICAgICAgICAgICAgIXByb3BEZWYuaXNOdWxsYWJsZSgpICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHByb3BEZWYuX2RlZj8uZGVmYXVsdFZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgWm9kIGZpZWxkIGF0IFxcYCR7cHJvcGVydHlQYXRoLmpvaW4oJy8nKX1cXGAgdXNlcyBcXGAub3B0aW9uYWwoKVxcYCB3aXRob3V0IFxcYC5udWxsYWJsZSgpXFxgIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIEFQSS4gU2VlOiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvc3RydWN0dXJlZC1vdXRwdXRzP2FwaS1tb2RlPXJlc3BvbnNlcyNhbGwtZmllbGRzLW11c3QtYmUtcmVxdWlyZWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5hY2MucHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgW3Byb3BOYW1lXTogcGFyc2VkRGVmLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHByb3BEZWYuaXNPcHRpb25hbCgpICYmICFyZWZzLm9wZW5haVN0cmljdE1vZGUgPyBhY2MucmVxdWlyZWQgOiBbLi4uYWNjLnJlcXVpcmVkLCBwcm9wTmFtZV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LCB7IHByb3BlcnRpZXM6IHt9LCByZXF1aXJlZDogW10gfSksXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyhkZWYsIHJlZnMpLFxuICAgIH07XG4gICAgaWYgKCFyZXN1bHQucmVxdWlyZWQubGVuZ3RoKVxuICAgICAgICBkZWxldGUgcmVzdWx0LnJlcXVpcmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYmplY3QubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlT3B0aW9uYWxEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgaWYgKHJlZnMucHJvcGVydHlQYXRoICYmXG4gICAgICAgIHJlZnMuY3VycmVudFBhdGguc2xpY2UoMCwgcmVmcy5wcm9wZXJ0eVBhdGgubGVuZ3RoKS50b1N0cmluZygpID09PSByZWZzLnByb3BlcnR5UGF0aC50b1N0cmluZygpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHsgLi4ucmVmcywgY3VycmVudFBhdGg6IHJlZnMuY3VycmVudFBhdGggfSk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hID0gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FueU9mJywgJzEnXSxcbiAgICB9KTtcbiAgICByZXR1cm4gaW5uZXJTY2hlbWEgP1xuICAgICAgICB7XG4gICAgICAgICAgICBhbnlPZjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbm90OiB7fSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlubmVyU2NoZW1hLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgICA6IHt9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wdGlvbmFsLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZVBpcGVsaW5lRGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gJ2lucHV0Jykge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHJlZnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gJ291dHB1dCcpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5vdXQuX2RlZiwgcmVmcyk7XG4gICAgfVxuICAgIGNvbnN0IGEgPSBwYXJzZURlZihkZWYuaW4uX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbGxPZicsICcwJ10sXG4gICAgfSk7XG4gICAgY29uc3QgYiA9IHBhcnNlRGVmKGRlZi5vdXQuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdhbGxPZicsIGEgPyAnMScgOiAnMCddLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFsbE9mOiBbYSwgYl0uZmlsdGVyKCh4KSA9PiB4ICE9PSB1bmRlZmluZWQpLFxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZWxpbmUubWpzLm1hcCIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpIHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLnR5cGUuX2RlZiwgcmVmcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlLm1qcy5tYXAiLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVNldERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCBpdGVtcyA9IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcyddLFxuICAgIH0pO1xuICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgdW5pcXVlSXRlbXM6IHRydWUsXG4gICAgICAgIGl0ZW1zLFxuICAgIH07XG4gICAgaWYgKGRlZi5taW5TaXplKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCAnbWluSXRlbXMnLCBkZWYubWluU2l6ZS52YWx1ZSwgZGVmLm1pblNpemUubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIGlmIChkZWYubWF4U2l6ZSkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHNjaGVtYSwgJ21heEl0ZW1zJywgZGVmLm1heFNpemUudmFsdWUsIGRlZi5tYXhTaXplLm1lc3NhZ2UsIHJlZnMpO1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V0Lm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVR1cGxlRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChkZWYucmVzdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAgICAgICAgIC5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCAnaXRlbXMnLCBgJHtpfWBdLFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB4KSA9PiAoeCA9PT0gdW5kZWZpbmVkID8gYWNjIDogWy4uLmFjYywgeF0pLCBbXSksXG4gICAgICAgICAgICBhZGRpdGlvbmFsSXRlbXM6IHBhcnNlRGVmKGRlZi5yZXN0Ll9kZWYsIHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgJ2FkZGl0aW9uYWxJdGVtcyddLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgbWF4SXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBpdGVtczogZGVmLml0ZW1zXG4gICAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsICdpdGVtcycsIGAke2l9YF0sXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksIFtdKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10dXBsZS5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVW5kZWZpbmVkRGVmKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdDoge30sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuZGVmaW5lZC5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVW5rbm93bkRlZigpIHtcbiAgICByZXR1cm4ge307XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmtub3duLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5tanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZVJlYWRvbmx5RGVmID0gKGRlZiwgcmVmcykgPT4ge1xuICAgIHJldHVybiBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHJlZnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWRvbmx5Lm1qcy5tYXAiLCJpbXBvcnQgeyBab2RGaXJzdFBhcnR5VHlwZUtpbmQgfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2FueS5tanNcIjtcbmltcG9ydCB7IHBhcnNlQXJyYXlEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2FycmF5Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VCaWdpbnREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2JpZ2ludC5tanNcIjtcbmltcG9ydCB7IHBhcnNlQm9vbGVhbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvYm9vbGVhbi5tanNcIjtcbmltcG9ydCB7IHBhcnNlQnJhbmRlZERlZiB9IGZyb20gXCIuL3BhcnNlcnMvYnJhbmRlZC5tanNcIjtcbmltcG9ydCB7IHBhcnNlQ2F0Y2hEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2NhdGNoLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VEYXRlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9kYXRlLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWZhdWx0RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9kZWZhdWx0Lm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VFZmZlY3RzRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9lZmZlY3RzLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VFbnVtRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9lbnVtLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VJbnRlcnNlY3Rpb25EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2ludGVyc2VjdGlvbi5tanNcIjtcbmltcG9ydCB7IHBhcnNlTGl0ZXJhbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbGl0ZXJhbC5tanNcIjtcbmltcG9ydCB7IHBhcnNlTWFwRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9tYXAubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU5hdGl2ZUVudW1EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL25hdGl2ZUVudW0ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU5ldmVyRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9uZXZlci5tanNcIjtcbmltcG9ydCB7IHBhcnNlTnVsbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVsbC5tanNcIjtcbmltcG9ydCB7IHBhcnNlTnVsbGFibGVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bGxhYmxlLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdW1iZXJEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL251bWJlci5tanNcIjtcbmltcG9ydCB7IHBhcnNlT2JqZWN0RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9vYmplY3QubWpzXCI7XG5pbXBvcnQgeyBwYXJzZU9wdGlvbmFsRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9vcHRpb25hbC5tanNcIjtcbmltcG9ydCB7IHBhcnNlUGlwZWxpbmVEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3BpcGVsaW5lLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VQcm9taXNlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9wcm9taXNlLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWNvcmREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3JlY29yZC5tanNcIjtcbmltcG9ydCB7IHBhcnNlU2V0RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9zZXQubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVN0cmluZ0RlZiB9IGZyb20gXCIuL3BhcnNlcnMvc3RyaW5nLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VUdXBsZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvdHVwbGUubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVVuZGVmaW5lZERlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5kZWZpbmVkLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmlvbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5pb24ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVVua25vd25EZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3Vua25vd24ubWpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlYWRvbmx5RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9yZWFkb25seS5tanNcIjtcbmltcG9ydCB7IGlnbm9yZU92ZXJyaWRlIH0gZnJvbSBcIi4vT3B0aW9ucy5tanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURlZihkZWYsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc2Vlbkl0ZW0gPSByZWZzLnNlZW4uZ2V0KGRlZik7XG4gICAgaWYgKHJlZnMub3ZlcnJpZGUpIHtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVSZXN1bHQgPSByZWZzLm92ZXJyaWRlPy4oZGVmLCByZWZzLCBzZWVuSXRlbSwgZm9yY2VSZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlUmVzdWx0ICE9PSBpZ25vcmVPdmVycmlkZSkge1xuICAgICAgICAgICAgcmV0dXJuIG92ZXJyaWRlUmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzZWVuSXRlbSAmJiAhZm9yY2VSZXNvbHV0aW9uKSB7XG4gICAgICAgIGNvbnN0IHNlZW5TY2hlbWEgPSBnZXQkcmVmKHNlZW5JdGVtLCByZWZzKTtcbiAgICAgICAgaWYgKHNlZW5TY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCckcmVmJyBpbiBzZWVuU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgcmVmcy5zZWVuUmVmcy5hZGQoc2VlblNjaGVtYS4kcmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWVuU2NoZW1hO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5ld0l0ZW0gPSB7IGRlZiwgcGF0aDogcmVmcy5jdXJyZW50UGF0aCwganNvblNjaGVtYTogdW5kZWZpbmVkIH07XG4gICAgcmVmcy5zZWVuLnNldChkZWYsIG5ld0l0ZW0pO1xuICAgIGNvbnN0IGpzb25TY2hlbWEgPSBzZWxlY3RQYXJzZXIoZGVmLCBkZWYudHlwZU5hbWUsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbik7XG4gICAgaWYgKGpzb25TY2hlbWEpIHtcbiAgICAgICAgYWRkTWV0YShkZWYsIHJlZnMsIGpzb25TY2hlbWEpO1xuICAgIH1cbiAgICBuZXdJdGVtLmpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgIHJldHVybiBqc29uU2NoZW1hO1xufVxuY29uc3QgZ2V0JHJlZiA9IChpdGVtLCByZWZzKSA9PiB7XG4gICAgc3dpdGNoIChyZWZzLiRyZWZTdHJhdGVneSkge1xuICAgICAgICBjYXNlICdyb290JzpcbiAgICAgICAgICAgIHJldHVybiB7ICRyZWY6IGl0ZW0ucGF0aC5qb2luKCcvJykgfTtcbiAgICAgICAgLy8gdGhpcyBjYXNlIGlzIG5lZWRlZCBhcyBPcGVuQUkgc3RyaWN0IG1vZGUgZG9lc24ndCBzdXBwb3J0IHRvcC1sZXZlbCBgJHJlZmBzLCBpLmUuXG4gICAgICAgIC8vIHRoZSB0b3AtbGV2ZWwgc2NoZW1hICptdXN0KiBiZSBge1widHlwZVwiOiBcIm9iamVjdFwiLCBcInByb3BlcnRpZXNcIjogey4uLn19YCBidXQgaWYgd2UgZXZlclxuICAgICAgICAvLyBuZWVkIHRvIGRlZmluZSBhIGAkcmVmYCwgcmVsYXRpdmUgYCRyZWZgcyBhcmVuJ3Qgc3VwcG9ydGVkLCBzbyB3ZSBuZWVkIHRvIGV4dHJhY3RcbiAgICAgICAgLy8gdGhlIHNjaGVtYSB0byBgIy9kZWZpbml0aW9ucy9gIGFuZCByZWZlcmVuY2UgdGhhdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gZS5nLiBpZiB3ZSBuZWVkIHRvIHJlZmVyZW5jZSBhIHNjaGVtYSBhdFxuICAgICAgICAvLyBgW1wiI1wiLFwiZGVmaW5pdGlvbnNcIixcImNvbnRhY3RQZXJzb25cIixcInByb3BlcnRpZXNcIixcInBlcnNvbjFcIixcInByb3BlcnRpZXNcIixcIm5hbWVcIl1gXG4gICAgICAgIC8vIHRoZW4gd2UnbGwgZXh0cmFjdCBpdCBvdXQgdG8gYGNvbnRhY3RQZXJzb25fcHJvcGVydGllc19wZXJzb24xX3Byb3BlcnRpZXNfbmFtZWBcbiAgICAgICAgY2FzZSAnZXh0cmFjdC10by1yb290JzpcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBpdGVtLnBhdGguc2xpY2UocmVmcy5iYXNlUGF0aC5sZW5ndGggKyAxKS5qb2luKCdfJyk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGV4dHJhY3QgdGhlIHJvb3Qgc2NoZW1hIGluIHRoaXMgY2FzZSwgYXMgaXQncyBhbHJlYWR5XG4gICAgICAgICAgICAvLyBiZWVuIGFkZGVkIHRvIHRoZSBkZWZpbml0aW9uc1xuICAgICAgICAgICAgaWYgKG5hbWUgIT09IHJlZnMubmFtZSAmJiByZWZzLm5hbWVTdHJhdGVneSA9PT0gJ2R1cGxpY2F0ZS1yZWYnKSB7XG4gICAgICAgICAgICAgICAgcmVmcy5kZWZpbml0aW9uc1tuYW1lXSA9IGl0ZW0uZGVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgJHJlZjogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLmpvaW4oJy8nKSB9O1xuICAgICAgICBjYXNlICdyZWxhdGl2ZSc6XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBnZXRSZWxhdGl2ZVBhdGgocmVmcy5jdXJyZW50UGF0aCwgaXRlbS5wYXRoKSB9O1xuICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgY2FzZSAnc2Vlbic6IHtcbiAgICAgICAgICAgIGlmIChpdGVtLnBhdGgubGVuZ3RoIDwgcmVmcy5jdXJyZW50UGF0aC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBpdGVtLnBhdGguZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gcmVmcy5jdXJyZW50UGF0aFtpbmRleF0gPT09IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUmVjdXJzaXZlIHJlZmVyZW5jZSBkZXRlY3RlZCBhdCAke3JlZnMuY3VycmVudFBhdGguam9pbignLycpfSEgRGVmYXVsdGluZyB0byBhbnlgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVmcy4kcmVmU3RyYXRlZ3kgPT09ICdzZWVuJyA/IHt9IDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGdldFJlbGF0aXZlUGF0aCA9IChwYXRoQSwgcGF0aEIpID0+IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBwYXRoQS5sZW5ndGggJiYgaSA8IHBhdGhCLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwYXRoQVtpXSAhPT0gcGF0aEJbaV0pXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIFsocGF0aEEubGVuZ3RoIC0gaSkudG9TdHJpbmcoKSwgLi4ucGF0aEIuc2xpY2UoaSldLmpvaW4oJy8nKTtcbn07XG5jb25zdCBzZWxlY3RQYXJzZXIgPSAoZGVmLCB0eXBlTmFtZSwgcmVmcywgZm9yY2VSZXNvbHV0aW9uKSA9PiB7XG4gICAgc3dpdGNoICh0eXBlTmFtZSkge1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmc6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VTdHJpbmdEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTnVtYmVyRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU9iamVjdERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VCaWdpbnREZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUJvb2xlYW5EZWYoKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZURhdGVEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVW5kZWZpbmVkRGVmKCk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGw6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VOdWxsRGVmKHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUFycmF5RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uOlxuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb246XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVbmlvbkRlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb246XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnRlcnNlY3Rpb25EZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGU6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VSZWNvcmREZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUxpdGVyYWxEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUVudW1EZWYoZGVmKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU5hdGl2ZUVudW1EZWYoZGVmKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGU6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VOdWxsYWJsZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU9wdGlvbmFsRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU1hcERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VTZXREZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZURlZihkZWYuZ2V0dGVyKCkuX2RlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2U6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VQcm9taXNlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTjpcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXI6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VOZXZlckRlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRWZmZWN0c0RlZihkZWYsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbik7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUFueURlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVW5rbm93bkRlZigpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRGVmYXVsdERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQnJhbmRlZERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVJlYWRvbmx5RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQ2F0Y2hEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmU6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VQaXBlbGluZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbjpcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZDpcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sOlxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAoKF8pID0+IHVuZGVmaW5lZCkodHlwZU5hbWUpO1xuICAgIH1cbn07XG5jb25zdCBhZGRNZXRhID0gKGRlZiwgcmVmcywganNvblNjaGVtYSkgPT4ge1xuICAgIGlmIChkZWYuZGVzY3JpcHRpb24pIHtcbiAgICAgICAganNvblNjaGVtYS5kZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgICAgICAgaWYgKHJlZnMubWFya2Rvd25EZXNjcmlwdGlvbikge1xuICAgICAgICAgICAganNvblNjaGVtYS5tYXJrZG93bkRlc2NyaXB0aW9uID0gZGVmLmRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBqc29uU2NoZW1hO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlRGVmLm1qcy5tYXAiLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuL3BhcnNlRGVmLm1qc1wiO1xuaW1wb3J0IHsgZ2V0UmVmcyB9IGZyb20gXCIuL1JlZnMubWpzXCI7XG5pbXBvcnQgeyB6b2REZWYsIGlzRW1wdHlPYmogfSBmcm9tIFwiLi91dGlsLm1qc1wiO1xuY29uc3Qgem9kVG9Kc29uU2NoZW1hID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHJlZnMgPSBnZXRSZWZzKG9wdGlvbnMpO1xuICAgIGNvbnN0IG5hbWUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgPyBvcHRpb25zXG4gICAgICAgIDogb3B0aW9ucz8ubmFtZVN0cmF0ZWd5ID09PSAndGl0bGUnID8gdW5kZWZpbmVkXG4gICAgICAgICAgICA6IG9wdGlvbnM/Lm5hbWU7XG4gICAgY29uc3QgbWFpbiA9IHBhcnNlRGVmKHNjaGVtYS5fZGVmLCBuYW1lID09PSB1bmRlZmluZWQgPyByZWZzIDogKHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmJhc2VQYXRoLCByZWZzLmRlZmluaXRpb25QYXRoLCBuYW1lXSxcbiAgICB9KSwgZmFsc2UpID8/IHt9O1xuICAgIGNvbnN0IHRpdGxlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMubmFtZVN0cmF0ZWd5ID09PSAndGl0bGUnID9cbiAgICAgICAgb3B0aW9ucy5uYW1lXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmICh0aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1haW4udGl0bGUgPSB0aXRsZTtcbiAgICB9XG4gICAgY29uc3QgZGVmaW5pdGlvbnMgPSAoKCkgPT4ge1xuICAgICAgICBpZiAoaXNFbXB0eU9iaihyZWZzLmRlZmluaXRpb25zKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IHt9O1xuICAgICAgICBjb25zdCBwcm9jZXNzZWREZWZpbml0aW9ucyA9IG5ldyBTZXQoKTtcbiAgICAgICAgLy8gdGhlIGNhbGwgdG8gYHBhcnNlRGVmKClgIGhlcmUgbWlnaHQgaXRzZWxmIGFkZCBtb3JlIGVudHJpZXMgdG8gYC5kZWZpbml0aW9uc2BcbiAgICAgICAgLy8gc28gd2UgbmVlZCB0byBjb250aW51YWxseSBldmFsdWF0ZSBkZWZpbml0aW9ucyB1bnRpbCB3ZSd2ZSByZXNvbHZlZCBhbGwgb2YgdGhlbVxuICAgICAgICAvL1xuICAgICAgICAvLyB3ZSBoYXZlIGEgZ2VuZXJvdXMgaXRlcmF0aW9uIGxpbWl0IGhlcmUgdG8gYXZvaWQgYmxvd2luZyB1cCB0aGUgc3RhY2sgaWYgdGhlcmVcbiAgICAgICAgLy8gYXJlIGFueSBidWdzIHRoYXQgd291bGQgb3RoZXJ3aXNlIHJlc3VsdCBpbiB1cyBpdGVyYXRpbmcgaW5kZWZpbml0ZWx5XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTAwOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0RlZmluaXRpb25zID0gT2JqZWN0LmVudHJpZXMocmVmcy5kZWZpbml0aW9ucykuZmlsdGVyKChba2V5XSkgPT4gIXByb2Nlc3NlZERlZmluaXRpb25zLmhhcyhrZXkpKTtcbiAgICAgICAgICAgIGlmIChuZXdEZWZpbml0aW9ucy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHNjaGVtYV0gb2YgbmV3RGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uc1trZXldID1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VEZWYoem9kRGVmKHNjaGVtYSksIHsgLi4ucmVmcywgY3VycmVudFBhdGg6IFsuLi5yZWZzLmJhc2VQYXRoLCByZWZzLmRlZmluaXRpb25QYXRoLCBrZXldIH0sIHRydWUpID8/IHt9O1xuICAgICAgICAgICAgICAgIHByb2Nlc3NlZERlZmluaXRpb25zLmFkZChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9ucztcbiAgICB9KSgpO1xuICAgIGNvbnN0IGNvbWJpbmVkID0gbmFtZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgZGVmaW5pdGlvbnMgP1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC4uLm1haW4sXG4gICAgICAgICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiBkZWZpbml0aW9ucyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogbWFpblxuICAgICAgICA6IHJlZnMubmFtZVN0cmF0ZWd5ID09PSAnZHVwbGljYXRlLXJlZicgP1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC4uLm1haW4sXG4gICAgICAgICAgICAgICAgLi4uKGRlZmluaXRpb25zIHx8IHJlZnMuc2VlblJlZnMuc2l6ZSA/XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlZmluaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgYWN0dWFsbHkgZHVwbGljYXRlIHRoZSBzY2hlbWEgZGVmaW5pdGlvbiBpZiBpdCB3YXMgZXZlciByZWZlcmVuY2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSBkdXBsaWNhdGlvbiBpcyBjb21wbGV0ZWx5IHBvaW50bGVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihyZWZzLnNlZW5SZWZzLnNpemUgPyB7IFtuYW1lXTogbWFpbiB9IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgJHJlZjogWy4uLihyZWZzLiRyZWZTdHJhdGVneSA9PT0gJ3JlbGF0aXZlJyA/IFtdIDogcmVmcy5iYXNlUGF0aCksIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLmpvaW4oJy8nKSxcbiAgICAgICAgICAgICAgICBbcmVmcy5kZWZpbml0aW9uUGF0aF06IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZGVmaW5pdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIFtuYW1lXTogbWFpbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09ICdqc29uU2NoZW1hNycpIHtcbiAgICAgICAgY29tYmluZWQuJHNjaGVtYSA9ICdodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYSMnO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWZzLnRhcmdldCA9PT0gJ2pzb25TY2hlbWEyMDE5LTA5Jykge1xuICAgICAgICBjb21iaW5lZC4kc2NoZW1hID0gJ2h0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMTktMDkvc2NoZW1hIyc7XG4gICAgfVxuICAgIHJldHVybiBjb21iaW5lZDtcbn07XG5leHBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZFRvSnNvblNjaGVtYS5tanMubWFwIiwiaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0IH0gZnJvbSBcIi4uL2xpYi9wYXJzZXIubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZVJlc3BvbnNlKHJlc3BvbnNlLCBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcyB8fCAhaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgb3V0cHV0X3BhcnNlZDogbnVsbCxcbiAgICAgICAgICAgIG91dHB1dDogcmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudC5tYXAoKGNvbnRlbnQpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZXNwb25zZShyZXNwb25zZSwgcGFyYW1zKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gcmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgaXRlbSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGl0ZW0uY29udGVudC5tYXAoKGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkOiBwYXJzZVRleHRGb3JtYXQocGFyYW1zLCBjb250ZW50LnRleHQpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xuICAgIGNvbnN0IHBhcnNlZCA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLCB7IG91dHB1dCB9KTtcbiAgICBpZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVzcG9uc2UsICdvdXRwdXRfdGV4dCcpKSB7XG4gICAgICAgIGFkZE91dHB1dFRleHQocGFyc2VkKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnNlZCwgJ291dHB1dF9wYXJzZWQnLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIHBhcnNlZC5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0LnR5cGUgIT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb250ZW50IG9mIG91dHB1dC5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcgJiYgY29udGVudC5wYXJzZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50LnBhcnNlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZWQ7XG59XG5mdW5jdGlvbiBwYXJzZVRleHRGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy50ZXh0Py5mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMudGV4dD8uZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHRleHRfZm9ybWF0ID0gcGFyYW1zLnRleHQ/LmZvcm1hdDtcbiAgICAgICAgcmV0dXJuIHRleHRfZm9ybWF0LiRwYXJzZVJhdyhjb250ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykge1xuICAgIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHBhcmFtcy50ZXh0Py5mb3JtYXQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVJlc3BvbnNlVG9vbCh0b29sLCB7IHBhcnNlciwgY2FsbGJhY2ssIH0pIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnRvb2wgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXRvb2wnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkY2FsbGJhY2s6IHtcbiAgICAgICAgICAgIHZhbHVlOiBjYWxsYmFjayxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVUb29sKHRvb2wpIHtcbiAgICByZXR1cm4gdG9vbD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXRvb2wnO1xufVxuZnVuY3Rpb24gZ2V0SW5wdXRUb29sQnlOYW1lKGlucHV0X3Rvb2xzLCBuYW1lKSB7XG4gICAgcmV0dXJuIGlucHV0X3Rvb2xzLmZpbmQoKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b29sLm5hbWUgPT09IG5hbWUpO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gZ2V0SW5wdXRUb29sQnlOYW1lKHBhcmFtcy50b29scyA/PyBbXSwgdG9vbENhbGwubmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuYXJndW1lbnRzKVxuICAgICAgICAgICAgOiBpbnB1dFRvb2w/LnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGwuYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkge1xuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaW5wdXRUb29sID0gZ2V0SW5wdXRUb29sQnlOYW1lKHBhcmFtcy50b29scyA/PyBbXSwgdG9vbENhbGwubmFtZSk7XG4gICAgcmV0dXJuIGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpIHx8IGlucHV0VG9vbD8uc3RyaWN0IHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29scykge1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scyA/PyBbXSkge1xuICAgICAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgdHlwZXMgc3VwcG9ydCBhdXRvLXBhcnNpbmc7IFJlY2VpdmVkIFxcYCR7dG9vbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sLmZ1bmN0aW9uLnN0cmljdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkT3V0cHV0VGV4dChyc3ApIHtcbiAgICBjb25zdCB0ZXh0cyA9IFtdO1xuICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIHJzcC5vdXRwdXQpIHtcbiAgICAgICAgaWYgKG91dHB1dC50eXBlICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY29udGVudCBvZiBvdXRwdXQuY29udGVudCkge1xuICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICAgICAgICAgIHRleHRzLnB1c2goY29udGVudC50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByc3Aub3V0cHV0X3RleHQgPSB0ZXh0cy5qb2luKCcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc3BvbnNlc1BhcnNlci5tanMubWFwIiwiaW1wb3J0IHsgbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0LCBtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdCwgbWFrZVBhcnNlYWJsZVRvb2wsIH0gZnJvbSBcIi4uL2xpYi9wYXJzZXIubWpzXCI7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgYXMgX3pvZFRvSnNvblNjaGVtYSB9IGZyb20gXCIuLi9fdmVuZG9yL3pvZC10by1qc29uLXNjaGVtYS9pbmRleC5tanNcIjtcbmltcG9ydCB7IG1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wgfSBmcm9tIFwiLi4vbGliL1Jlc3BvbnNlc1BhcnNlci5tanNcIjtcbmZ1bmN0aW9uIHpvZFRvSnNvblNjaGVtYShzY2hlbWEsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX3pvZFRvSnNvblNjaGVtYShzY2hlbWEsIHtcbiAgICAgICAgb3BlbmFpU3RyaWN0TW9kZTogdHJ1ZSxcbiAgICAgICAgbmFtZTogb3B0aW9ucy5uYW1lLFxuICAgICAgICBuYW1lU3RyYXRlZ3k6ICdkdXBsaWNhdGUtcmVmJyxcbiAgICAgICAgJHJlZlN0cmF0ZWd5OiAnZXh0cmFjdC10by1yb290JyxcbiAgICAgICAgbnVsbGFibGVTdHJhdGVneTogJ3Byb3BlcnR5JyxcbiAgICB9KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNoYXQgY29tcGxldGlvbiBgSlNPTlNjaGVtYWAgcmVzcG9uc2UgZm9ybWF0IG9iamVjdCBmcm9tXG4gKiB0aGUgZ2l2ZW4gWm9kIHNjaGVtYS5cbiAqXG4gKiBJZiB0aGlzIGlzIHBhc3NlZCB0byB0aGUgYC5wYXJzZSgpYCwgYC5zdHJlYW0oKWAgb3IgYC5ydW5Ub29scygpYFxuICogY2hhdCBjb21wbGV0aW9uIG1ldGhvZHMgdGhlbiB0aGUgcmVzcG9uc2UgbWVzc2FnZSB3aWxsIGNvbnRhaW4gYVxuICogYC5wYXJzZWRgIHByb3BlcnR5IHRoYXQgaXMgdGhlIHJlc3VsdCBvZiBwYXJzaW5nIHRoZSBjb250ZW50IHdpdGhcbiAqIHRoZSBnaXZlbiBab2Qgb2JqZWN0LlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMucGFyc2Uoe1xuICogICAgbW9kZWw6ICdncHQtNG8tMjAyNC0wOC0wNicsXG4gKiAgICBtZXNzYWdlczogW1xuICogICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiAnWW91IGFyZSBhIGhlbHBmdWwgbWF0aCB0dXRvci4nIH0sXG4gKiAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiAnc29sdmUgOHggKyAzMSA9IDInIH0sXG4gKiAgICBdLFxuICogICAgcmVzcG9uc2VfZm9ybWF0OiB6b2RSZXNwb25zZUZvcm1hdChcbiAqICAgICAgei5vYmplY3Qoe1xuICogICAgICAgIHN0ZXBzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAqICAgICAgICAgIGV4cGxhbmF0aW9uOiB6LnN0cmluZygpLFxuICogICAgICAgICAgYW5zd2VyOiB6LnN0cmluZygpLFxuICogICAgICAgIH0pKSxcbiAqICAgICAgICBmaW5hbF9hbnN3ZXI6IHouc3RyaW5nKCksXG4gKiAgICAgIH0pLFxuICogICAgICAnbWF0aF9hbnN3ZXInLFxuICogICAgKSxcbiAqICB9KTtcbiAqICBjb25zdCBtZXNzYWdlID0gY29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlO1xuICogIGlmIChtZXNzYWdlPy5wYXJzZWQpIHtcbiAqICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UucGFyc2VkKTtcbiAqICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UucGFyc2VkLmZpbmFsX2Fuc3dlcik7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGNhbiBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gdGhlIGAuY3JlYXRlKClgIG1ldGhvZCBidXQgd2lsbCBub3RcbiAqIHJlc3VsdCBpbiBhbnkgYXV0b21hdGljIHBhcnNpbmcsIHlvdSdsbCBoYXZlIHRvIHBhcnNlIHRoZSByZXNwb25zZSB5b3Vyc2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpvZFJlc3BvbnNlRm9ybWF0KHpvZE9iamVjdCwgbmFtZSwgcHJvcHMpIHtcbiAgICByZXR1cm4gbWFrZVBhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KHtcbiAgICAgICAgdHlwZTogJ2pzb25fc2NoZW1hJyxcbiAgICAgICAganNvbl9zY2hlbWE6IHtcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgIHNjaGVtYTogem9kVG9Kc29uU2NoZW1hKHpvZE9iamVjdCwgeyBuYW1lIH0pLFxuICAgICAgICB9LFxuICAgIH0sIChjb250ZW50KSA9PiB6b2RPYmplY3QucGFyc2UoSlNPTi5wYXJzZShjb250ZW50KSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHpvZFRleHRGb3JtYXQoem9kT2JqZWN0LCBuYW1lLCBwcm9wcykge1xuICAgIHJldHVybiBtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdCh7XG4gICAgICAgIHR5cGU6ICdqc29uX3NjaGVtYScsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgIHNjaGVtYTogem9kVG9Kc29uU2NoZW1hKHpvZE9iamVjdCwgeyBuYW1lIH0pLFxuICAgIH0sIChjb250ZW50KSA9PiB6b2RPYmplY3QucGFyc2UoSlNPTi5wYXJzZShjb250ZW50KSkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgY2hhdCBjb21wbGV0aW9uIGBmdW5jdGlvbmAgdG9vbCB0aGF0IGNhbiBiZSBpbnZva2VkXG4gKiBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBjaGF0IGNvbXBsZXRpb24gYC5ydW5Ub29scygpYCBtZXRob2Qgb3IgYXV0b21hdGljYWxseVxuICogcGFyc2VkIGJ5IGAucGFyc2UoKWAgLyBgLnN0cmVhbSgpYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpvZEZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE9cbiAgICByZXR1cm4gbWFrZVBhcnNlYWJsZVRvb2woe1xuICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5uYW1lLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogem9kVG9Kc29uU2NoZW1hKG9wdGlvbnMucGFyYW1ldGVycywgeyBuYW1lOiBvcHRpb25zLm5hbWUgfSksXG4gICAgICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgICAgICAuLi4ob3B0aW9ucy5kZXNjcmlwdGlvbiA/IHsgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24gfSA6IHVuZGVmaW5lZCksXG4gICAgICAgIH0sXG4gICAgfSwge1xuICAgICAgICBjYWxsYmFjazogb3B0aW9ucy5mdW5jdGlvbixcbiAgICAgICAgcGFyc2VyOiAoYXJncykgPT4gb3B0aW9ucy5wYXJhbWV0ZXJzLnBhcnNlKEpTT04ucGFyc2UoYXJncykpLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHpvZFJlc3BvbnNlc0Z1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbWFrZVBhcnNlYWJsZVJlc3BvbnNlVG9vbCh7XG4gICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgIG5hbWU6IG9wdGlvbnMubmFtZSxcbiAgICAgICAgcGFyYW1ldGVyczogem9kVG9Kc29uU2NoZW1hKG9wdGlvbnMucGFyYW1ldGVycywgeyBuYW1lOiBvcHRpb25zLm5hbWUgfSksXG4gICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgLi4uKG9wdGlvbnMuZGVzY3JpcHRpb24gPyB7IGRlc2NyaXB0aW9uOiBvcHRpb25zLmRlc2NyaXB0aW9uIH0gOiB1bmRlZmluZWQpLFxuICAgIH0sIHtcbiAgICAgICAgY2FsbGJhY2s6IG9wdGlvbnMuZnVuY3Rpb24sXG4gICAgICAgIHBhcnNlcjogKGFyZ3MpID0+IG9wdGlvbnMucGFyYW1ldGVycy5wYXJzZShKU09OLnBhcnNlKGFyZ3MpKSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXpvZC5tanMubWFwIiwiLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgZXJyb3JzIHRocm93biBieSB0aGUgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50c0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHN0YXRlO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxufVxuLyoqXG4gKiBTeXN0ZW0gZXJyb3IgdGhyb3duIHdoZW4gdGhlIGxpYnJhcnkgZW5jb3VudGVycyBhbiBlcnJvciB0aGF0IGlzIG5vdCBjYXVzZWQgYnkgdGhlIHVzZXInc1xuICogbWlzY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFN5c3RlbUVycm9yIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiB0aGUgbWF4aW11bSBudW1iZXIgb2YgdHVybnMgaXMgZXhjZWVkZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG59XG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIGEgbW9kZWwgYmVoYXZpb3IgaXMgdW5leHBlY3RlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsQmVoYXZpb3JFcnJvciBleHRlbmRzIEFnZW50c0Vycm9yIHtcbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gdGhlIGVycm9yIGlzIGNhdXNlZCBieSB0aGUgbGlicmFyeSB1c2VyJ3MgbWlzY29uZmlndXJhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFVzZXJFcnJvciBleHRlbmRzIEFnZW50c0Vycm9yIHtcbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSBndWFyZHJhaWwgZXhlY3V0aW9uIGZhaWxzLlxuICovXG5leHBvcnQgY2xhc3MgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IgZXh0ZW5kcyBBZ2VudHNFcnJvciB7XG4gICAgZXJyb3I7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgZXJyb3IsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSB0b29sIGNhbGwgZmFpbHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb29sQ2FsbEVycm9yIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIGVycm9yO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGVycm9yLCBzdGF0ZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBzdGF0ZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICB9XG59XG4vKipcbiAqIEVycm9yIHRocm93biB3aGVuIGFuIGlucHV0IGd1YXJkcmFpbCB0cmlwd2lyZSBpcyB0cmlnZ2VyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIHJlc3VsdDtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXN1bHQsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhbiBvdXRwdXQgZ3VhcmRyYWlsIHRyaXB3aXJlIGlzIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkIGV4dGVuZHMgQWdlbnRzRXJyb3Ige1xuICAgIHJlc3VsdDtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXN1bHQsIHN0YXRlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXRlKTtcbiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLm1qcy5tYXAiLCIvKipcbiAqIFZlcmlmaWVzIHRoYXQgYW4gaW5wdXQgaXMgYSBab2RPYmplY3Qgd2l0aG91dCBuZWVkaW5nIHRvIGhhdmUgWm9kIGF0IHJ1bnRpbWUgc2luY2UgaXQncyBhblxuICogb3B0aW9uYWwgZGVwZW5kZW5jeS5cbiAqIEBwYXJhbSBpbnB1dFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzWm9kT2JqZWN0KGlucHV0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGlucHV0ICE9PSBudWxsICYmXG4gICAgICAgICdfZGVmJyBpbiBpbnB1dCAmJlxuICAgICAgICB0eXBlb2YgaW5wdXQuX2RlZiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgaW5wdXQuX2RlZiAhPT0gbnVsbCAmJlxuICAgICAgICAndHlwZU5hbWUnIGluIGlucHV0Ll9kZWYgJiZcbiAgICAgICAgaW5wdXQuX2RlZi50eXBlTmFtZSA9PT0gJ1pvZE9iamVjdCcpO1xufVxuLyoqXG4gKiBWZXJpZmllcyB0aGF0IGFuIGlucHV0IGlzIGFuIG9iamVjdCB3aXRoIGFuIGBpbnB1dGAgcHJvcGVydHkuXG4gKiBAcGFyYW0gaW5wdXRcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FnZW50VG9vbElucHV0KGlucHV0KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGlucHV0ICE9PSBudWxsICYmXG4gICAgICAgICdpbnB1dCcgaW4gaW5wdXQgJiZcbiAgICAgICAgdHlwZW9mIGlucHV0LmlucHV0ID09PSAnc3RyaW5nJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlR3VhcmRzLm1qcy5tYXAiLCJpbXBvcnQgeyB6b2RSZXNwb25zZXNGdW5jdGlvbiwgem9kVGV4dEZvcm1hdCB9IGZyb20gJ29wZW5haS9oZWxwZXJzL3pvZCc7XG5pbXBvcnQgeyBVc2VyRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi90eXBlR3VhcmRzLm1qc1wiO1xuLyoqXG4gKiBDb252ZXJ0IGEgc3RyaW5nIHRvIGEgZnVuY3Rpb24gdG9vbCBuYW1lIGJ5IHJlcGxhY2luZyBzcGFjZXMgd2l0aCB1bmRlcnNjb3JlcyBhbmRcbiAqIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVycyB3aXRoIHVuZGVyc2NvcmVzLlxuICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdG9vbC5cbiAqIEByZXR1cm5zIFRoZSBmdW5jdGlvbiB0b29sIG5hbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Z1bmN0aW9uVG9vbE5hbWUobmFtZSkge1xuICAgIC8vIFJlcGxhY2Ugc3BhY2VzIHdpdGggdW5kZXJzY29yZXNcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMvZywgJ18nKTtcbiAgICAvLyBSZXBsYWNlIG5vbi1hbHBoYW51bWVyaWMgY2hhcmFjdGVycyB3aXRoIHVuZGVyc2NvcmVzXG4gICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW15hLXpBLVowLTldL2csICdfJyk7XG4gICAgLy8gRW5zdXJlIHRoZSBuYW1lIGlzIG5vdCBlbXB0eVxuICAgIGlmIChuYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rvb2wgbmFtZSBjYW5ub3QgYmUgZW1wdHknKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWU7XG59XG4vKipcbiAqIEdldCB0aGUgc2NoZW1hIGFuZCBwYXJzZXIgZnJvbSBhbiBpbnB1dCB0eXBlLiBJZiB0aGUgaW5wdXQgdHlwZSBpcyBhIFpvZE9iamVjdCwgd2Ugd2lsbCBjb252ZXJ0XG4gKiBpdCBpbnRvIGEgSlNPTiBTY2hlbWEgYW5kIHVzZSBab2QgYXMgcGFyc2VyLiBJZiB0aGUgaW5wdXQgdHlwZSBpcyBhIEpTT04gc2NoZW1hLCB3ZSB1c2UgdGhlXG4gKiBKU09OLnBhcnNlIGZ1bmN0aW9uIHRvIGdldCB0aGUgcGFyc2VyLlxuICogQHBhcmFtIGlucHV0VHlwZSAtIFRoZSBpbnB1dCB0eXBlIHRvIGdldCB0aGUgc2NoZW1hIGFuZCBwYXJzZXIgZnJvbS5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHRvb2wuXG4gKiBAcmV0dXJucyBUaGUgc2NoZW1hIGFuZCBwYXJzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2hlbWFBbmRQYXJzZXJGcm9tSW5wdXRUeXBlKGlucHV0VHlwZSwgbmFtZSkge1xuICAgIGNvbnN0IHBhcnNlciA9IChpbnB1dCkgPT4gSlNPTi5wYXJzZShpbnB1dCk7XG4gICAgaWYgKGlzWm9kT2JqZWN0KGlucHV0VHlwZSkpIHtcbiAgICAgICAgY29uc3QgZm9ybWF0dGVkRnVuY3Rpb24gPSB6b2RSZXNwb25zZXNGdW5jdGlvbih7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogaW5wdXRUeXBlLFxuICAgICAgICAgICAgZnVuY3Rpb246ICgpID0+IHsgfSwgLy8gZW1wdHkgZnVuY3Rpb24gaGVyZSB0byBzYXRpc2Z5IHRoZSBPcGVuQUkgaGVscGVyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NoZW1hOiBmb3JtYXR0ZWRGdW5jdGlvbi5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcGFyc2VyOiBmb3JtYXR0ZWRGdW5jdGlvbi4kcGFyc2VSYXcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBpbnB1dFR5cGUgPT09ICdvYmplY3QnICYmIGlucHV0VHlwZSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NoZW1hOiBpbnB1dFR5cGUsXG4gICAgICAgICAgICBwYXJzZXIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ0lucHV0IHR5cGUgaXMgbm90IGEgWm9kT2JqZWN0IG9yIGEgdmFsaWQgSlNPTiBzY2hlbWEnKTtcbn1cbi8qKlxuICogQ29udmVydHMgdGhlIGFnZW50IG91dHB1dCB0eXBlIHByb3ZpZGVkIHRvIGEgc2VyaWFsaXphYmxlIHZlcnNpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZShvdXRwdXRUeXBlKSB7XG4gICAgaWYgKG91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICByZXR1cm4gJ3RleHQnO1xuICAgIH1cbiAgICBpZiAoaXNab2RPYmplY3Qob3V0cHV0VHlwZSkpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gem9kVGV4dEZvcm1hdChvdXRwdXRUeXBlLCAnb3V0cHV0Jyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBvdXRwdXQudHlwZSxcbiAgICAgICAgICAgIG5hbWU6IG91dHB1dC5uYW1lLFxuICAgICAgICAgICAgc3RyaWN0OiBvdXRwdXQuc3RyaWN0IHx8IGZhbHNlLFxuICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXQuc2NoZW1hLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0VHlwZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2xzLm1qcy5tYXAiLCIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHcgPSBkICogNztcbnZhciB5ID0gZCAqIDM2NS4yNTtcblxuLyoqXG4gKiBQYXJzZSBvciBmb3JtYXQgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogIC0gYGxvbmdgIHZlcmJvc2UgZm9ybWF0dGluZyBbZmFsc2VdXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEB0aHJvd3Mge0Vycm9yfSB0aHJvdyBhbiBlcnJvciBpZiB2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIG51bWJlclxuICogQHJldHVybiB7U3RyaW5nfE51bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcblx0Y3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG5cdGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cdGNyZWF0ZURlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuXG5cdE9iamVjdC5rZXlzKGVudikuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcblx0fSk7XG5cblx0LyoqXG5cdCogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG5cdCovXG5cblx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHQvKipcblx0KiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG5cdCpcblx0KiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG5cdCovXG5cdGNyZWF0ZURlYnVnLmZvcm1hdHRlcnMgPSB7fTtcblxuXHQvKipcblx0KiBTZWxlY3RzIGEgY29sb3IgZm9yIGEgZGVidWcgbmFtZXNwYWNlXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHN0cmluZyBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcblx0KiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG5cdFx0bGV0IGhhc2ggPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcblx0XHRcdGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0aGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG5cdH1cblx0Y3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcblxuXHQvKipcblx0KiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAcmV0dXJuIHtGdW5jdGlvbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblx0XHRsZXQgcHJldlRpbWU7XG5cdFx0bGV0IGVuYWJsZU92ZXJyaWRlID0gbnVsbDtcblx0XHRsZXQgbmFtZXNwYWNlc0NhY2hlO1xuXHRcdGxldCBlbmFibGVkQ2FjaGU7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuICclJztcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBjcmVhdGVEZWJ1Zy5kZXN0cm95OyAvLyBYWFggVGVtcG9yYXJ5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWJ1ZywgJ2VuYWJsZWQnLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldDogKCkgPT4ge1xuXHRcdFx0XHRpZiAoZW5hYmxlT3ZlcnJpZGUgIT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gZW5hYmxlT3ZlcnJpZGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5hbWVzcGFjZXNDYWNoZSAhPT0gY3JlYXRlRGVidWcubmFtZXNwYWNlcykge1xuXHRcdFx0XHRcdG5hbWVzcGFjZXNDYWNoZSA9IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXM7XG5cdFx0XHRcdFx0ZW5hYmxlZENhY2hlID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVuYWJsZWRDYWNoZTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IHYgPT4ge1xuXHRcdFx0XHRlbmFibGVPdmVycmlkZSA9IHY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBFbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXHRcdGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlYnVnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG5cdFx0Y29uc3QgbmV3RGVidWcgPSBjcmVhdGVEZWJ1Zyh0aGlzLm5hbWVzcGFjZSArICh0eXBlb2YgZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/ICc6JyA6IGRlbGltaXRlcikgKyBuYW1lc3BhY2UpO1xuXHRcdG5ld0RlYnVnLmxvZyA9IHRoaXMubG9nO1xuXHRcdHJldHVybiBuZXdEZWJ1Zztcblx0fVxuXG5cdC8qKlxuXHQqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcblx0KiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuXHRcdGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG5cdFx0Y3JlYXRlRGVidWcubmFtZXNwYWNlcyA9IG5hbWVzcGFjZXM7XG5cblx0XHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRcdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0XHRjb25zdCBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXFxzKy9nLCAnLCcpXG5cdFx0XHQuc3BsaXQoJywnKVxuXHRcdFx0LmZpbHRlcihCb29sZWFuKTtcblxuXHRcdGZvciAoY29uc3QgbnMgb2Ygc3BsaXQpIHtcblx0XHRcdGlmIChuc1swXSA9PT0gJy0nKSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobnMuc2xpY2UoMSkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcubmFtZXMucHVzaChucyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gc3RyaW5nIG1hdGNoZXMgYSBuYW1lc3BhY2UgdGVtcGxhdGUsIGhvbm9yaW5nXG5cdCAqIGFzdGVyaXNrcyBhcyB3aWxkY2FyZHMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hcblx0ICogQHBhcmFtIHtTdHJpbmd9IHRlbXBsYXRlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqL1xuXHRmdW5jdGlvbiBtYXRjaGVzVGVtcGxhdGUoc2VhcmNoLCB0ZW1wbGF0ZSkge1xuXHRcdGxldCBzZWFyY2hJbmRleCA9IDA7XG5cdFx0bGV0IHRlbXBsYXRlSW5kZXggPSAwO1xuXHRcdGxldCBzdGFySW5kZXggPSAtMTtcblx0XHRsZXQgbWF0Y2hJbmRleCA9IDA7XG5cblx0XHR3aGlsZSAoc2VhcmNoSW5kZXggPCBzZWFyY2gubGVuZ3RoKSB7XG5cdFx0XHRpZiAodGVtcGxhdGVJbmRleCA8IHRlbXBsYXRlLmxlbmd0aCAmJiAodGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09IHNlYXJjaFtzZWFyY2hJbmRleF0gfHwgdGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09ICcqJykpIHtcblx0XHRcdFx0Ly8gTWF0Y2ggY2hhcmFjdGVyIG9yIHByb2NlZWQgd2l0aCB3aWxkY2FyZFxuXHRcdFx0XHRpZiAodGVtcGxhdGVbdGVtcGxhdGVJbmRleF0gPT09ICcqJykge1xuXHRcdFx0XHRcdHN0YXJJbmRleCA9IHRlbXBsYXRlSW5kZXg7XG5cdFx0XHRcdFx0bWF0Y2hJbmRleCA9IHNlYXJjaEluZGV4O1xuXHRcdFx0XHRcdHRlbXBsYXRlSW5kZXgrKzsgLy8gU2tpcCB0aGUgJyonXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2VhcmNoSW5kZXgrKztcblx0XHRcdFx0XHR0ZW1wbGF0ZUluZGV4Kys7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoc3RhckluZGV4ICE9PSAtMSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5lZ2F0ZWQtY29uZGl0aW9uXG5cdFx0XHRcdC8vIEJhY2t0cmFjayB0byB0aGUgbGFzdCAnKicgYW5kIHRyeSB0byBtYXRjaCBtb3JlIGNoYXJhY3RlcnNcblx0XHRcdFx0dGVtcGxhdGVJbmRleCA9IHN0YXJJbmRleCArIDE7XG5cdFx0XHRcdG1hdGNoSW5kZXgrKztcblx0XHRcdFx0c2VhcmNoSW5kZXggPSBtYXRjaEluZGV4O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlOyAvLyBObyBtYXRjaFxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSB0cmFpbGluZyAnKicgaW4gdGVtcGxhdGVcblx0XHR3aGlsZSAodGVtcGxhdGVJbmRleCA8IHRlbXBsYXRlLmxlbmd0aCAmJiB0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSB7XG5cdFx0XHR0ZW1wbGF0ZUluZGV4Kys7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRlbXBsYXRlSW5kZXggPT09IHRlbXBsYXRlLmxlbmd0aDtcblx0fVxuXG5cdC8qKlxuXHQqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuXHQqXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZGlzYWJsZSgpIHtcblx0XHRjb25zdCBuYW1lc3BhY2VzID0gW1xuXHRcdFx0Li4uY3JlYXRlRGVidWcubmFtZXMsXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAobmFtZXNwYWNlID0+ICctJyArIG5hbWVzcGFjZSlcblx0XHRdLmpvaW4oJywnKTtcblx0XHRjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0KiBAcmV0dXJuIHtCb29sZWFufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuXHRcdGZvciAoY29uc3Qgc2tpcCBvZiBjcmVhdGVEZWJ1Zy5za2lwcykge1xuXHRcdFx0aWYgKG1hdGNoZXNUZW1wbGF0ZShuYW1lLCBza2lwKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBucyBvZiBjcmVhdGVEZWJ1Zy5uYW1lcykge1xuXHRcdFx0aWYgKG1hdGNoZXNUZW1wbGF0ZShuYW1lLCBucykpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29lcmNlIGB2YWxgLlxuXHQqXG5cdCogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCogQHJldHVybiB7TWl4ZWR9XG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcblx0XHRpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cblxuXHQvKipcblx0KiBYWFggRE8gTk9UIFVTRS4gVGhpcyBpcyBhIHRlbXBvcmFyeSBzdHViIGZ1bmN0aW9uLlxuXHQqIFhYWCBJdCBXSUxMIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblx0Ki9cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiIsIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9IGxvY2Fsc3RvcmFnZSgpO1xuZXhwb3J0cy5kZXN0cm95ID0gKCgpID0+IHtcblx0bGV0IHdhcm5lZCA9IGZhbHNlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKCF3YXJuZWQpIHtcblx0XHRcdHdhcm5lZCA9IHRydWU7XG5cdFx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0XHR9XG5cdH07XG59KSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcblx0JyMwMDAwQ0MnLFxuXHQnIzAwMDBGRicsXG5cdCcjMDAzM0NDJyxcblx0JyMwMDMzRkYnLFxuXHQnIzAwNjZDQycsXG5cdCcjMDA2NkZGJyxcblx0JyMwMDk5Q0MnLFxuXHQnIzAwOTlGRicsXG5cdCcjMDBDQzAwJyxcblx0JyMwMENDMzMnLFxuXHQnIzAwQ0M2NicsXG5cdCcjMDBDQzk5Jyxcblx0JyMwMENDQ0MnLFxuXHQnIzAwQ0NGRicsXG5cdCcjMzMwMENDJyxcblx0JyMzMzAwRkYnLFxuXHQnIzMzMzNDQycsXG5cdCcjMzMzM0ZGJyxcblx0JyMzMzY2Q0MnLFxuXHQnIzMzNjZGRicsXG5cdCcjMzM5OUNDJyxcblx0JyMzMzk5RkYnLFxuXHQnIzMzQ0MwMCcsXG5cdCcjMzNDQzMzJyxcblx0JyMzM0NDNjYnLFxuXHQnIzMzQ0M5OScsXG5cdCcjMzNDQ0NDJyxcblx0JyMzM0NDRkYnLFxuXHQnIzY2MDBDQycsXG5cdCcjNjYwMEZGJyxcblx0JyM2NjMzQ0MnLFxuXHQnIzY2MzNGRicsXG5cdCcjNjZDQzAwJyxcblx0JyM2NkNDMzMnLFxuXHQnIzk5MDBDQycsXG5cdCcjOTkwMEZGJyxcblx0JyM5OTMzQ0MnLFxuXHQnIzk5MzNGRicsXG5cdCcjOTlDQzAwJyxcblx0JyM5OUNDMzMnLFxuXHQnI0NDMDAwMCcsXG5cdCcjQ0MwMDMzJyxcblx0JyNDQzAwNjYnLFxuXHQnI0NDMDA5OScsXG5cdCcjQ0MwMENDJyxcblx0JyNDQzAwRkYnLFxuXHQnI0NDMzMwMCcsXG5cdCcjQ0MzMzMzJyxcblx0JyNDQzMzNjYnLFxuXHQnI0NDMzM5OScsXG5cdCcjQ0MzM0NDJyxcblx0JyNDQzMzRkYnLFxuXHQnI0NDNjYwMCcsXG5cdCcjQ0M2NjMzJyxcblx0JyNDQzk5MDAnLFxuXHQnI0NDOTkzMycsXG5cdCcjQ0NDQzAwJyxcblx0JyNDQ0NDMzMnLFxuXHQnI0ZGMDAwMCcsXG5cdCcjRkYwMDMzJyxcblx0JyNGRjAwNjYnLFxuXHQnI0ZGMDA5OScsXG5cdCcjRkYwMENDJyxcblx0JyNGRjAwRkYnLFxuXHQnI0ZGMzMwMCcsXG5cdCcjRkYzMzMzJyxcblx0JyNGRjMzNjYnLFxuXHQnI0ZGMzM5OScsXG5cdCcjRkYzM0NDJyxcblx0JyNGRjMzRkYnLFxuXHQnI0ZGNjYwMCcsXG5cdCcjRkY2NjMzJyxcblx0JyNGRjk5MDAnLFxuXHQnI0ZGOTkzMycsXG5cdCcjRkZDQzAwJyxcblx0JyNGRkNDMzMnXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG5cdC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcblx0Ly8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2Vcblx0Ly8gZXhwbGljaXRseVxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgKHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicgfHwgd2luZG93LnByb2Nlc3MuX19ud2pzKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRsZXQgbTtcblxuXHQvLyBJcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuXHQvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmV0dXJuLWFzc2lnblxuXHRyZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcblx0XHQvLyBJcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG5cdFx0KHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcblx0XHQvLyBJcyBmaXJlZm94ID49IHYzMT9cblx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAobSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pKSAmJiBwYXJzZUludChtWzFdLCAxMCkgPj0gMzEpIHx8XG5cdFx0Ly8gRG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG5cdGFyZ3NbMF0gPSAodGhpcy51c2VDb2xvcnMgPyAnJWMnIDogJycpICtcblx0XHR0aGlzLm5hbWVzcGFjZSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyAlYycgOiAnICcpICtcblx0XHRhcmdzWzBdICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgK1xuXHRcdCcrJyArIG1vZHVsZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cblx0aWYgKCF0aGlzLnVzZUNvbG9ycykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuXHRhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKTtcblxuXHQvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuXHQvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG5cdC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXHRsZXQgaW5kZXggPSAwO1xuXHRsZXQgbGFzdEMgPSAwO1xuXHRhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgbWF0Y2ggPT4ge1xuXHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpbmRleCsrO1xuXHRcdGlmIChtYXRjaCA9PT0gJyVjJykge1xuXHRcdFx0Ly8gV2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG5cdFx0XHQvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuXHRcdFx0bGFzdEMgPSBpbmRleDtcblx0XHR9XG5cdH0pO1xuXG5cdGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmRlYnVnKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICogSWYgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhdmFpbGFibGUsIGZhbGxzIGJhY2tcbiAqIHRvIGBjb25zb2xlLmxvZ2AuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0cy5sb2cgPSBjb25zb2xlLmRlYnVnIHx8IGNvbnNvbGUubG9nIHx8ICgoKSA9PiB7fSk7XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcblx0dHJ5IHtcblx0XHRpZiAobmFtZXNwYWNlcykge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnNldEl0ZW0oJ2RlYnVnJywgbmFtZXNwYWNlcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbG9hZCgpIHtcblx0bGV0IHI7XG5cdHRyeSB7XG5cdFx0ciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpIHx8IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdERUJVRycpIDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsImltcG9ydCB7IGxvYWRFbnYgYXMgX2xvYWRFbnYsIGlzQnJvd3NlckVudmlyb25tZW50LCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbi8qKlxuICogTG9hZHMgZW52aXJvbm1lbnQgdmFyaWFibGVzIGZyb20gdGhlIHByb2Nlc3MgZW52aXJvbm1lbnQuXG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGVudmlyb25tZW50IHZhcmlhYmxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRFbnYoKSB7XG4gICAgcmV0dXJuIF9sb2FkRW52KCk7XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIGZsYWcgaXMgZW5hYmxlZCBpbiB0aGUgZW52aXJvbm1lbnQuXG4gKlxuICogQHBhcmFtIGZsYWdOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGZsYWcgdG8gY2hlY2suXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGZsYWcgaXMgZW5hYmxlZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGlzRW5hYmxlZChmbGFnTmFtZSkge1xuICAgIGNvbnN0IGVudiA9IGxvYWRFbnYoKTtcbiAgICByZXR1cm4gKHR5cGVvZiBlbnYgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIChlbnZbZmxhZ05hbWVdID09PSAndHJ1ZScgfHwgZW52W2ZsYWdOYW1lXSA9PT0gJzEnKSk7XG59XG4vKipcbiAqIEdsb2JhbCBjb25maWd1cmF0aW9uIGZvciB0cmFjaW5nLlxuICovXG5leHBvcnQgY29uc3QgdHJhY2luZyA9IHtcbiAgICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgICAgIGlmIChpc0Jyb3dzZXJFbnZpcm9ubWVudCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsb2FkRW52KCkuTk9ERV9FTlYgPT09ICd0ZXN0Jykge1xuICAgICAgICAgICAgLy8gZGlzYWJsaW5nIGJ5IGRlZmF1bHQgaW4gdGVzdHNcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0VuYWJsZWQoJ09QRU5BSV9BR0VOVFNfRElTQUJMRV9UUkFDSU5HJyk7XG4gICAgfSxcbn07XG4vKipcbiAqIEdsb2JhbCBjb25maWd1cmF0aW9uIGZvciBsb2dnaW5nLlxuICovXG5leHBvcnQgY29uc3QgbG9nZ2luZyA9IHtcbiAgICBnZXQgZG9udExvZ01vZGVsRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIGlzRW5hYmxlZCgnT1BFTkFJX0FHRU5UU19ET05UX0xPR19NT0RFTF9EQVRBJyk7XG4gICAgfSxcbiAgICBnZXQgZG9udExvZ1Rvb2xEYXRhKCkge1xuICAgICAgICByZXR1cm4gaXNFbmFibGVkKCdPUEVOQUlfQUdFTlRTX0RPTlRfTE9HX1RPT0xfREFUQScpO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLm1qcy5tYXAiLCJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgbG9nZ2luZyB9IGZyb20gXCIuL2NvbmZpZy5tanNcIjtcbi8qKlxuICogQnkgZGVmYXVsdCB3ZSBkb24ndCBsb2cgTExNIGlucHV0cy9vdXRwdXRzLCB0byBwcmV2ZW50IGV4cG9zaW5nIHNlbnNpdGl2ZSBkYXRhLiBTZXQgdGhpcyBmbGFnXG4gKiB0byBlbmFibGUgbG9nZ2luZyB0aGVtLlxuICovXG5jb25zdCBkb250TG9nTW9kZWxEYXRhID0gbG9nZ2luZy5kb250TG9nTW9kZWxEYXRhO1xuLyoqXG4gKiBCeSBkZWZhdWx0IHdlIGRvbid0IGxvZyB0b29sIGlucHV0cy9vdXRwdXRzLCB0byBwcmV2ZW50IGV4cG9zaW5nIHNlbnNpdGl2ZSBkYXRhLiBTZXQgdGhpcyBmbGFnXG4gKiB0byBlbmFibGUgbG9nZ2luZyB0aGVtLlxuICovXG5jb25zdCBkb250TG9nVG9vbERhdGEgPSBsb2dnaW5nLmRvbnRMb2dUb29sRGF0YTtcbi8qKlxuICogR2V0IGEgbG9nZ2VyIGZvciBhIGdpdmVuIHBhY2thZ2UuXG4gKlxuICogQHBhcmFtIG5hbWVzcGFjZSAtIHRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbG9nZ2VyLlxuICogQHJldHVybnMgQSBsb2dnZXIgb2JqZWN0IHdpdGggYGRlYnVnYCBhbmQgYGVycm9yYCBtZXRob2RzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nZ2VyKG5hbWVzcGFjZSA9ICdvcGVuYWktYWdlbnRzJykge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgZGVidWc6IGRlYnVnKG5hbWVzcGFjZSksXG4gICAgICAgIGVycm9yOiBjb25zb2xlLmVycm9yLFxuICAgICAgICB3YXJuOiBjb25zb2xlLndhcm4sXG4gICAgICAgIGRvbnRMb2dNb2RlbERhdGEsXG4gICAgICAgIGRvbnRMb2dUb29sRGF0YSxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcignb3BlbmFpLWFnZW50czpjb3JlJyk7XG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnZXIubWpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiB0b1NtYXJ0U3RyaW5nKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfZSkge1xuICAgICAgICAgICAgcmV0dXJuICdbb2JqZWN0IHdpdGggY2lyY3VsYXIgcmVmZXJlbmNlc10nO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c21hcnRTdHJpbmcubWpzLm1hcCIsImltcG9ydCB7IHNhZmVFeGVjdXRlIH0gZnJvbSBcIi4vdXRpbHMvc2FmZUV4ZWN1dGUubWpzXCI7XG5pbXBvcnQgeyB0b0Z1bmN0aW9uVG9vbE5hbWUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGlzWm9kT2JqZWN0IH0gZnJvbSBcIi4vdXRpbHMvdHlwZUd1YXJkcy5tanNcIjtcbmltcG9ydCB7IE1vZGVsQmVoYXZpb3JFcnJvciwgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50U3BhbiB9IGZyb20gXCIuL3RyYWNpbmcvaW5kZXgubWpzXCI7XG5pbXBvcnQgeyB0b1NtYXJ0U3RyaW5nIH0gZnJvbSBcIi4vdXRpbHMvc21hcnRTdHJpbmcubWpzXCI7XG4vKipcbiAqIEV4cG9zZXMgYSBjb21wdXRlciB0byB0aGUgYWdlbnQgYXMgYSB0b29sIHRvIGJlIGNhbGxlZFxuICpcbiAqIEBwYXJhbSBvcHRpb25zIEFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGNvbXB1dGVyIHRvb2wgbGlrZSBzcGVjaWZ5aW5nIHRoZSBsb2NhdGlvbiBvZiB5b3VyIGFnZW50XG4gKiBAcmV0dXJucyBhIGNvbXB1dGVyIHRvb2wgZGVmaW5pdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZXJUb29sKG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnY29tcHV0ZXInLFxuICAgICAgICBuYW1lOiBvcHRpb25zLm5hbWUgPz8gJ2NvbXB1dGVyX3VzZV9wcmV2aWV3JyxcbiAgICAgICAgY29tcHV0ZXI6IG9wdGlvbnMuY29tcHV0ZXIsXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhvc3RlZCBNQ1AgdG9vbCBkZWZpbml0aW9uLlxuICpcbiAqIEBwYXJhbSBzZXJ2ZXJMYWJlbCAtIFRoZSBsYWJlbCBpZGVudGlmeWluZyB0aGUgTUNQIHNlcnZlci5cbiAqIEBwYXJhbSBzZXJ2ZXJVcmwgLSBUaGUgVVJMIG9mIHRoZSBNQ1Agc2VydmVyLlxuICogQHBhcmFtIHJlcXVpcmVBcHByb3ZhbCAtIFdoZXRoZXIgdG9vbCBjYWxscyByZXF1aXJlIGFwcHJvdmFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdGVkTWNwVG9vbChvcHRpb25zKSB7XG4gICAgaWYgKCdzZXJ2ZXJVcmwnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gdGhlIE1DUCBzZXJ2ZXJzIGNvbWFwdGlibGUgd2l0aCB0aGUgc3BlY2lmaWNhdGlvblxuICAgICAgICBjb25zdCBwcm92aWRlckRhdGEgPSB0eXBlb2Ygb3B0aW9ucy5yZXF1aXJlQXBwcm92YWwgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ25ldmVyJ1xuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICAgICAgc2VydmVyX2xhYmVsOiBvcHRpb25zLnNlcnZlckxhYmVsLFxuICAgICAgICAgICAgICAgIHNlcnZlcl91cmw6IG9wdGlvbnMuc2VydmVyVXJsLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVfYXBwcm92YWw6ICduZXZlcicsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF90b29sczogdG9NY3BBbGxvd2VkVG9vbHNGaWx0ZXIob3B0aW9ucy5hbGxvd2VkVG9vbHMpLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3AnLFxuICAgICAgICAgICAgICAgIHNlcnZlcl9sYWJlbDogb3B0aW9ucy5zZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfdXJsOiBvcHRpb25zLnNlcnZlclVybCxcbiAgICAgICAgICAgICAgICBhbGxvd2VkX3Rvb2xzOiB0b01jcEFsbG93ZWRUb29sc0ZpbHRlcihvcHRpb25zLmFsbG93ZWRUb29scyksXG4gICAgICAgICAgICAgICAgaGVhZGVyczogb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVfYXBwcm92YWw6IHR5cGVvZiBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyAnYWx3YXlzJ1xuICAgICAgICAgICAgICAgICAgICA6IGJ1aWxkUmVxdWlyZUFwcHJvdmFsKG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsKSxcbiAgICAgICAgICAgICAgICBvbl9hcHByb3ZhbDogb3B0aW9ucy5vbkFwcHJvdmFsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbCcsXG4gICAgICAgICAgICBuYW1lOiAnaG9zdGVkX21jcCcsXG4gICAgICAgICAgICBwcm92aWRlckRhdGEsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKCdjb25uZWN0b3JJZCcgaW4gb3B0aW9ucykge1xuICAgICAgICAvLyBPcGVuQUkncyBjb25uZWN0b3JzXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IHR5cGVvZiBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAnbmV2ZXInXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwJyxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IG9wdGlvbnMuc2VydmVyTGFiZWwsXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yX2lkOiBvcHRpb25zLmNvbm5lY3RvcklkLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgICAgICAgICByZXF1aXJlX2FwcHJvdmFsOiAnbmV2ZXInLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfdG9vbHM6IHRvTWNwQWxsb3dlZFRvb2xzRmlsdGVyKG9wdGlvbnMuYWxsb3dlZFRvb2xzKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwJyxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IG9wdGlvbnMuc2VydmVyTGFiZWwsXG4gICAgICAgICAgICAgICAgY29ubmVjdG9yX2lkOiBvcHRpb25zLmNvbm5lY3RvcklkLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IG9wdGlvbnMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgICAgICAgICBhbGxvd2VkX3Rvb2xzOiB0b01jcEFsbG93ZWRUb29sc0ZpbHRlcihvcHRpb25zLmFsbG93ZWRUb29scyksXG4gICAgICAgICAgICAgICAgaGVhZGVyczogb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVfYXBwcm92YWw6IHR5cGVvZiBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyAnYWx3YXlzJ1xuICAgICAgICAgICAgICAgICAgICA6IGJ1aWxkUmVxdWlyZUFwcHJvdmFsKG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsKSxcbiAgICAgICAgICAgICAgICBvbl9hcHByb3ZhbDogb3B0aW9ucy5vbkFwcHJvdmFsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbCcsXG4gICAgICAgICAgICBuYW1lOiAnaG9zdGVkX21jcCcsXG4gICAgICAgICAgICBwcm92aWRlckRhdGEsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyB0aGUgTUNQIHNlcnZlcnMgY29tYXB0aWJsZSB3aXRoIHRoZSBzcGVjaWZpY2F0aW9uXG4gICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IHR5cGVvZiBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgIG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsID09PSAnbmV2ZXInXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwJyxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IG9wdGlvbnMuc2VydmVyTGFiZWwsXG4gICAgICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogJ25ldmVyJyxcbiAgICAgICAgICAgICAgICBhbGxvd2VkX3Rvb2xzOiB0b01jcEFsbG93ZWRUb29sc0ZpbHRlcihvcHRpb25zLmFsbG93ZWRUb29scyksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwJyxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IG9wdGlvbnMuc2VydmVyTGFiZWwsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF90b29sczogdG9NY3BBbGxvd2VkVG9vbHNGaWx0ZXIob3B0aW9ucy5hbGxvd2VkVG9vbHMpLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVfYXBwcm92YWw6IHR5cGVvZiBvcHRpb25zLnJlcXVpcmVBcHByb3ZhbCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyAnYWx3YXlzJ1xuICAgICAgICAgICAgICAgICAgICA6IGJ1aWxkUmVxdWlyZUFwcHJvdmFsKG9wdGlvbnMucmVxdWlyZUFwcHJvdmFsKSxcbiAgICAgICAgICAgICAgICBvbl9hcHByb3ZhbDogb3B0aW9ucy5vbkFwcHJvdmFsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbCcsXG4gICAgICAgICAgICBuYW1lOiAnaG9zdGVkX21jcCcsXG4gICAgICAgICAgICBwcm92aWRlckRhdGEsXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgZGVmYXVsdCBmdW5jdGlvbiB0byBpbnZva2Ugd2hlbiBhbiBlcnJvciBvY2N1cnMgd2hpbGUgcnVubmluZyB0aGUgdG9vbC5cbiAqXG4gKiBBbHdheXMgcmV0dXJucyBgQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcnVubmluZyB0aGUgdG9vbC4gUGxlYXNlIHRyeSBhZ2Fpbi4gRXJyb3I6IDxlcnJvciBkZXRhaWxzPmBcbiAqXG4gKiBAcGFyYW0gY29udGV4dCBBbiBpbnN0YW5jZSBvZiB0aGUgY3VycmVudCBSdW5Db250ZXh0XG4gKiBAcGFyYW0gZXJyb3IgVGhlIGVycm9yIHRoYXQgb2NjdXJyZWRcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFRvb2xFcnJvckZ1bmN0aW9uKGNvbnRleHQsIGVycm9yKSB7XG4gICAgY29uc3QgZGV0YWlscyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci50b1N0cmluZygpIDogU3RyaW5nKGVycm9yKTtcbiAgICByZXR1cm4gYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJ1bm5pbmcgdGhlIHRvb2wuIFBsZWFzZSB0cnkgYWdhaW4uIEVycm9yOiAke2RldGFpbHN9YDtcbn1cbi8qKlxuICogRXhwb3NlcyBhIGZ1bmN0aW9uIHRvIHRoZSBhZ2VudCBhcyBhIHRvb2wgdG8gYmUgY2FsbGVkXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgVGhlIG9wdGlvbnMgZm9yIHRoZSB0b29sXG4gKiBAcmV0dXJucyBBIG5ldyB0b29sXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b29sKG9wdGlvbnMpIHtcbiAgICBjb25zdCBuYW1lID0gb3B0aW9ucy5uYW1lXG4gICAgICAgID8gdG9GdW5jdGlvblRvb2xOYW1lKG9wdGlvbnMubmFtZSlcbiAgICAgICAgOiB0b0Z1bmN0aW9uVG9vbE5hbWUob3B0aW9ucy5leGVjdXRlLm5hbWUpO1xuICAgIGNvbnN0IHRvb2xFcnJvckZ1bmN0aW9uID0gdHlwZW9mIG9wdGlvbnMuZXJyb3JGdW5jdGlvbiA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBkZWZhdWx0VG9vbEVycm9yRnVuY3Rpb25cbiAgICAgICAgOiBvcHRpb25zLmVycm9yRnVuY3Rpb247XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVG9vbCBuYW1lIGNhbm5vdCBiZSBlbXB0eS4gRWl0aGVyIG5hbWUgeW91ciBmdW5jdGlvbiBvciBwcm92aWRlIGEgbmFtZSBpbiB0aGUgb3B0aW9ucy4nKTtcbiAgICB9XG4gICAgY29uc3Qgc3RyaWN0TW9kZSA9IG9wdGlvbnMuc3RyaWN0ID8/IHRydWU7XG4gICAgaWYgKCFzdHJpY3RNb2RlICYmIGlzWm9kT2JqZWN0KG9wdGlvbnMucGFyYW1ldGVycykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignU3RyaWN0IG1vZGUgaXMgcmVxdWlyZWQgZm9yIFpvZCBwYXJhbWV0ZXJzJyk7XG4gICAgfVxuICAgIGNvbnN0IHsgcGFyc2VyLCBzY2hlbWE6IHBhcmFtZXRlcnMgfSA9IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUob3B0aW9ucy5wYXJhbWV0ZXJzLCBuYW1lKTtcbiAgICBhc3luYyBmdW5jdGlvbiBfaW52b2tlKHJ1bkNvbnRleHQsIGlucHV0LCBkZXRhaWxzKSB7XG4gICAgICAgIGNvbnN0IFtlcnJvciwgcGFyc2VkXSA9IGF3YWl0IHNhZmVFeGVjdXRlKCgpID0+IHBhcnNlcihpbnB1dCkpO1xuICAgICAgICBpZiAoZXJyb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2dnZXIuZG9udExvZ1Rvb2xEYXRhKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBJbnZhbGlkIEpTT04gaW5wdXQgZm9yIHRvb2wgJHtuYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBJbnZhbGlkIEpTT04gaW5wdXQgZm9yIHRvb2wgJHtuYW1lfTogJHtpbnB1dH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ0ludmFsaWQgSlNPTiBpbnB1dCBmb3IgdG9vbCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2dnZXIuZG9udExvZ1Rvb2xEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYEludm9raW5nIHRvb2wgJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBJbnZva2luZyB0b29sICR7bmFtZX0gd2l0aCBpbnB1dCAke2lucHV0fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wdGlvbnMuZXhlY3V0ZShwYXJzZWQsIHJ1bkNvbnRleHQsIGRldGFpbHMpO1xuICAgICAgICBjb25zdCBzdHJpbmdSZXN1bHQgPSB0b1NtYXJ0U3RyaW5nKHJlc3VsdCk7XG4gICAgICAgIGlmIChsb2dnZXIuZG9udExvZ1Rvb2xEYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoYFRvb2wgJHtuYW1lfSBjb21wbGV0ZWRgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgVG9vbCAke25hbWV9IHJldHVybmVkOiAke3N0cmluZ1Jlc3VsdH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBpbnZva2UocnVuQ29udGV4dCwgaW5wdXQsIGRldGFpbHMpIHtcbiAgICAgICAgcmV0dXJuIF9pbnZva2UocnVuQ29udGV4dCwgaW5wdXQsIGRldGFpbHMpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgaWYgKHRvb2xFcnJvckZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNwYW4gPSBnZXRDdXJyZW50U3BhbigpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTcGFuPy5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBydW5uaW5nIHRvb2wgKG5vbi1mYXRhbCknLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX25hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbEVycm9yRnVuY3Rpb24ocnVuQ29udGV4dCwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBuZWVkc0FwcHJvdmFsID0gdHlwZW9mIG9wdGlvbnMubmVlZHNBcHByb3ZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IG9wdGlvbnMubmVlZHNBcHByb3ZhbFxuICAgICAgICA6IGFzeW5jICgpID0+IHR5cGVvZiBvcHRpb25zLm5lZWRzQXBwcm92YWwgPT09ICdib29sZWFuJ1xuICAgICAgICAgICAgPyBvcHRpb25zLm5lZWRzQXBwcm92YWxcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IG9wdGlvbnMuZGVzY3JpcHRpb24sXG4gICAgICAgIHBhcmFtZXRlcnMsXG4gICAgICAgIHN0cmljdDogc3RyaWN0TW9kZSxcbiAgICAgICAgaW52b2tlLFxuICAgICAgICBuZWVkc0FwcHJvdmFsLFxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZFJlcXVpcmVBcHByb3ZhbChyZXF1aXJlQXBwcm92YWwpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBpZiAocmVxdWlyZUFwcHJvdmFsLmFsd2F5cykge1xuICAgICAgICByZXN1bHQuYWx3YXlzID0geyB0b29sX25hbWVzOiByZXF1aXJlQXBwcm92YWwuYWx3YXlzLnRvb2xOYW1lcyB9O1xuICAgIH1cbiAgICBpZiAocmVxdWlyZUFwcHJvdmFsLm5ldmVyKSB7XG4gICAgICAgIHJlc3VsdC5uZXZlciA9IHsgdG9vbF9uYW1lczogcmVxdWlyZUFwcHJvdmFsLm5ldmVyLnRvb2xOYW1lcyB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdG9NY3BBbGxvd2VkVG9vbHNGaWx0ZXIoYWxsb3dlZFRvb2xzKSB7XG4gICAgaWYgKHR5cGVvZiBhbGxvd2VkVG9vbHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGFsbG93ZWRUb29scykpIHtcbiAgICAgICAgcmV0dXJuIHsgdG9vbF9uYW1lczogYWxsb3dlZFRvb2xzIH07XG4gICAgfVxuICAgIHJldHVybiB7IHRvb2xfbmFtZXM6IGFsbG93ZWRUb29scz8udG9vbE5hbWVzID8/IFtdIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29sLm1qcy5tYXAiLCJpbXBvcnQgeyB0b29sIH0gZnJvbSBcIi4vdG9vbC5tanNcIjtcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5tanNcIjtcbmltcG9ydCB7IE1DUFNlcnZlclN0ZGlvIGFzIFVuZGVybHlpbmdNQ1BTZXJ2ZXJTdGRpbywgTUNQU2VydmVyU3RyZWFtYWJsZUh0dHAgYXMgVW5kZXJseWluZ01DUFNlcnZlclN0cmVhbWFibGVIdHRwLCBNQ1BTZXJ2ZXJTU0UgYXMgVW5kZXJseWluZ01DUFNlcnZlclNTRSwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50U3Bhbiwgd2l0aE1DUExpc3RUb29sc1NwYW4gfSBmcm9tIFwiLi90cmFjaW5nL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgbG9nZ2VyIGFzIGdsb2JhbExvZ2dlciwgZ2V0TG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU1RESU9fTUNQX0NMSUVOVF9MT0dHRVJfTkFNRSA9ICdvcGVuYWktYWdlbnRzOnN0ZGlvLW1jcC1jbGllbnQnO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU1RSRUFNQUJMRV9IVFRQX01DUF9DTElFTlRfTE9HR0VSX05BTUUgPSAnb3BlbmFpLWFnZW50czpzdHJlYW1hYmxlLWh0dHAtbWNwLWNsaWVudCc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9TU0VfTUNQX0NMSUVOVF9MT0dHRVJfTkFNRSA9ICdvcGVuYWktYWdlbnRzOnNzZS1tY3AtY2xpZW50JztcbmV4cG9ydCBjbGFzcyBCYXNlTUNQU2VydmVyU3RkaW8ge1xuICAgIGNhY2hlVG9vbHNMaXN0O1xuICAgIF9jYWNoZWRUb29scyA9IHVuZGVmaW5lZDtcbiAgICB0b29sRmlsdGVyO1xuICAgIGxvZ2dlcjtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyID1cbiAgICAgICAgICAgIG9wdGlvbnMubG9nZ2VyID8/IGdldExvZ2dlcihERUZBVUxUX1NURElPX01DUF9DTElFTlRfTE9HR0VSX05BTUUpO1xuICAgICAgICB0aGlzLmNhY2hlVG9vbHNMaXN0ID0gb3B0aW9ucy5jYWNoZVRvb2xzTGlzdCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy50b29sRmlsdGVyID0gb3B0aW9ucy50b29sRmlsdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2dzIGEgZGVidWcgbWVzc2FnZSB3aGVuIGRlYnVnIGxvZ2dpbmcgaXMgZW5hYmxlZC5cbiAgICAgKiBAcGFyYW0gYnVpbGRNZXNzYWdlIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBtZXNzYWdlIHRvIGxvZy5cbiAgICAgKi9cbiAgICBkZWJ1Z0xvZyhidWlsZE1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGRlYnVnLmVuYWJsZWQodGhpcy5sb2dnZXIubmFtZXNwYWNlKSkge1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoaXMgaXMgdHJ1ZSwgdGhlIGZ1bmN0aW9uIHRvIGJ1aWxkIHRoZSBzdHJpbmcgaXMgY2FsbGVkXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhidWlsZE1lc3NhZ2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFzZU1DUFNlcnZlclN0cmVhbWFibGVIdHRwIHtcbiAgICBjYWNoZVRvb2xzTGlzdDtcbiAgICBfY2FjaGVkVG9vbHMgPSB1bmRlZmluZWQ7XG4gICAgdG9vbEZpbHRlcjtcbiAgICBsb2dnZXI7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmxvZ2dlciA9XG4gICAgICAgICAgICBvcHRpb25zLmxvZ2dlciA/P1xuICAgICAgICAgICAgICAgIGdldExvZ2dlcihERUZBVUxUX1NUUkVBTUFCTEVfSFRUUF9NQ1BfQ0xJRU5UX0xPR0dFUl9OQU1FKTtcbiAgICAgICAgdGhpcy5jYWNoZVRvb2xzTGlzdCA9IG9wdGlvbnMuY2FjaGVUb29sc0xpc3QgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMudG9vbEZpbHRlciA9IG9wdGlvbnMudG9vbEZpbHRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ncyBhIGRlYnVnIG1lc3NhZ2Ugd2hlbiBkZWJ1ZyBsb2dnaW5nIGlzIGVuYWJsZWQuXG4gICAgICogQHBhcmFtIGJ1aWxkTWVzc2FnZSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbWVzc2FnZSB0byBsb2cuXG4gICAgICovXG4gICAgZGVidWdMb2coYnVpbGRNZXNzYWdlKSB7XG4gICAgICAgIGlmIChkZWJ1Zy5lbmFibGVkKHRoaXMubG9nZ2VyLm5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgd2hlbiB0aGlzIGlzIHRydWUsIHRoZSBmdW5jdGlvbiB0byBidWlsZCB0aGUgc3RyaW5nIGlzIGNhbGxlZFxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYnVpbGRNZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhc2VNQ1BTZXJ2ZXJTU0Uge1xuICAgIGNhY2hlVG9vbHNMaXN0O1xuICAgIF9jYWNoZWRUb29scyA9IHVuZGVmaW5lZDtcbiAgICB0b29sRmlsdGVyO1xuICAgIGxvZ2dlcjtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyID1cbiAgICAgICAgICAgIG9wdGlvbnMubG9nZ2VyID8/IGdldExvZ2dlcihERUZBVUxUX1NTRV9NQ1BfQ0xJRU5UX0xPR0dFUl9OQU1FKTtcbiAgICAgICAgdGhpcy5jYWNoZVRvb2xzTGlzdCA9IG9wdGlvbnMuY2FjaGVUb29sc0xpc3QgPz8gZmFsc2U7XG4gICAgICAgIHRoaXMudG9vbEZpbHRlciA9IG9wdGlvbnMudG9vbEZpbHRlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ncyBhIGRlYnVnIG1lc3NhZ2Ugd2hlbiBkZWJ1ZyBsb2dnaW5nIGlzIGVuYWJsZWQuXG4gICAgICogQHBhcmFtIGJ1aWxkTWVzc2FnZSBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbWVzc2FnZSB0byBsb2cuXG4gICAgICovXG4gICAgZGVidWdMb2coYnVpbGRNZXNzYWdlKSB7XG4gICAgICAgIGlmIChkZWJ1Zy5lbmFibGVkKHRoaXMubG9nZ2VyLm5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgd2hlbiB0aGlzIGlzIHRydWUsIHRoZSBmdW5jdGlvbiB0byBidWlsZCB0aGUgc3RyaW5nIGlzIGNhbGxlZFxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYnVpbGRNZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBNaW5pbXVtIE1DUCB0b29sIGRhdGEgZGVmaW5pdGlvbi5cbiAqIFRoaXMgdHlwZSBkZWZpbml0aW9uIGRvZXMgbm90IGludGVuZCB0byBjb3ZlciBhbGwgcG9zc2libGUgcHJvcGVydGllcy5cbiAqIEl0IHN1cHBvcnRzIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIHVzZWQgaW4gdGhpcyBTREsuXG4gKi9cbmV4cG9ydCBjb25zdCBNQ1BUb29sID0gei5vYmplY3Qoe1xuICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBpbnB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ29iamVjdCcpLFxuICAgICAgICBwcm9wZXJ0aWVzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKSxcbiAgICAgICAgcmVxdWlyZWQ6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB6LmJvb2xlYW4oKSxcbiAgICB9KSxcbn0pO1xuLyoqXG4gKiBQdWJsaWMgaW50ZXJmYWNlIG9mIGFuIE1DUCBzZXJ2ZXIgdGhhdCBwcm92aWRlcyB0b29scy5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgY2xhc3MgdG8gcGFzcyBNQ1Agc2VydmVyIHNldHRpbmdzIHRvIHlvdXIgYWdlbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBNQ1BTZXJ2ZXJTdGRpbyBleHRlbmRzIEJhc2VNQ1BTZXJ2ZXJTdGRpbyB7XG4gICAgdW5kZXJseWluZztcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnVuZGVybHlpbmcgPSBuZXcgVW5kZXJseWluZ01DUFNlcnZlclN0ZGlvKG9wdGlvbnMpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5uYW1lO1xuICAgIH1cbiAgICBjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNvbm5lY3QoKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY2xvc2UoKTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFRvb2xzKCkge1xuICAgICAgICBpZiAodGhpcy5jYWNoZVRvb2xzTGlzdCAmJiB0aGlzLl9jYWNoZWRUb29scykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xzID0gYXdhaXQgdGhpcy51bmRlcmx5aW5nLmxpc3RUb29scygpO1xuICAgICAgICBpZiAodGhpcy5jYWNoZVRvb2xzTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVG9vbHMgPSB0b29scztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9vbHM7XG4gICAgfVxuICAgIGNhbGxUb29sKHRvb2xOYW1lLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9vbHNDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5pbnZhbGlkYXRlVG9vbHNDYWNoZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cCBleHRlbmRzIEJhc2VNQ1BTZXJ2ZXJTdHJlYW1hYmxlSHR0cCB7XG4gICAgdW5kZXJseWluZztcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnVuZGVybHlpbmcgPSBuZXcgVW5kZXJseWluZ01DUFNlcnZlclN0cmVhbWFibGVIdHRwKG9wdGlvbnMpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5uYW1lO1xuICAgIH1cbiAgICBjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNvbm5lY3QoKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY2xvc2UoKTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFRvb2xzKCkge1xuICAgICAgICBpZiAodGhpcy5jYWNoZVRvb2xzTGlzdCAmJiB0aGlzLl9jYWNoZWRUb29scykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xzID0gYXdhaXQgdGhpcy51bmRlcmx5aW5nLmxpc3RUb29scygpO1xuICAgICAgICBpZiAodGhpcy5jYWNoZVRvb2xzTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVG9vbHMgPSB0b29scztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9vbHM7XG4gICAgfVxuICAgIGNhbGxUb29sKHRvb2xOYW1lLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9vbHNDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5pbnZhbGlkYXRlVG9vbHNDYWNoZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNQ1BTZXJ2ZXJTU0UgZXh0ZW5kcyBCYXNlTUNQU2VydmVyU1NFIHtcbiAgICB1bmRlcmx5aW5nO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMudW5kZXJseWluZyA9IG5ldyBVbmRlcmx5aW5nTUNQU2VydmVyU1NFKG9wdGlvbnMpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5uYW1lO1xuICAgIH1cbiAgICBjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nLmNvbm5lY3QoKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY2xvc2UoKTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFRvb2xzKCkge1xuICAgICAgICBpZiAodGhpcy5jYWNoZVRvb2xzTGlzdCAmJiB0aGlzLl9jYWNoZWRUb29scykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xzID0gYXdhaXQgdGhpcy51bmRlcmx5aW5nLmxpc3RUb29scygpO1xuICAgICAgICBpZiAodGhpcy5jYWNoZVRvb2xzTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVG9vbHMgPSB0b29scztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9vbHM7XG4gICAgfVxuICAgIGNhbGxUb29sKHRvb2xOYW1lLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuZGVybHlpbmcuY2FsbFRvb2wodG9vbE5hbWUsIGFyZ3MpO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9vbHNDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZy5pbnZhbGlkYXRlVG9vbHNDYWNoZSgpO1xuICAgIH1cbn1cbi8qKlxuICogRmV0Y2hlcyBhbmQgZmxhdHRlbnMgYWxsIHRvb2xzIGZyb20gbXVsdGlwbGUgTUNQIHNlcnZlcnMuXG4gKiBMb2dzIGFuZCBza2lwcyBhbnkgc2VydmVycyB0aGF0IGZhaWwgdG8gcmVzcG9uZC5cbiAqL1xuY29uc3QgX2NhY2hlZFRvb2xzID0ge307XG4vKipcbiAqIFJlbW92ZSBjYWNoZWQgdG9vbHMgZm9yIHRoZSBnaXZlbiBzZXJ2ZXIgc28gdGhlIG5leHQgbG9va3VwIGZldGNoZXMgZnJlc2ggZGF0YS5cbiAqXG4gKiBAcGFyYW0gc2VydmVyTmFtZSAtIE5hbWUgb2YgdGhlIE1DUCBzZXJ2ZXIgd2hvc2UgY2FjaGUgc2hvdWxkIGJlIGNsZWFyZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnZhbGlkYXRlU2VydmVyVG9vbHNDYWNoZShzZXJ2ZXJOYW1lKSB7XG4gICAgZGVsZXRlIF9jYWNoZWRUb29sc1tzZXJ2ZXJOYW1lXTtcbn1cbi8qKlxuICogRmV0Y2hlcyBhbGwgZnVuY3Rpb24gdG9vbHMgZnJvbSBhIHNpbmdsZSBNQ1Agc2VydmVyLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRGdW5jdGlvblRvb2xzRnJvbVNlcnZlcih7IHNlcnZlciwgY29udmVydFNjaGVtYXNUb1N0cmljdCwgcnVuQ29udGV4dCwgYWdlbnQsIH0pIHtcbiAgICBpZiAoc2VydmVyLmNhY2hlVG9vbHNMaXN0ICYmIF9jYWNoZWRUb29sc1tzZXJ2ZXIubmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIF9jYWNoZWRUb29sc1tzZXJ2ZXIubmFtZV0ubWFwKCh0KSA9PiBtY3BUb0Z1bmN0aW9uVG9vbCh0LCBzZXJ2ZXIsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QpKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhNQ1BMaXN0VG9vbHNTcGFuKGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgIGNvbnN0IGZldGNoZWRNY3BUb29scyA9IGF3YWl0IHNlcnZlci5saXN0VG9vbHMoKTtcbiAgICAgICAgbGV0IG1jcFRvb2xzID0gZmV0Y2hlZE1jcFRvb2xzO1xuICAgICAgICBpZiAocnVuQ29udGV4dCAmJiBhZ2VudCkge1xuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IHsgcnVuQ29udGV4dCwgYWdlbnQsIHNlcnZlck5hbWU6IHNlcnZlci5uYW1lIH07XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFRvb2xzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2YgZmV0Y2hlZE1jcFRvb2xzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gc2VydmVyLnRvb2xGaWx0ZXI7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBhd2FpdCBmaWx0ZXIoY29udGV4dCwgdG9vbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTG9nZ2VyLmRlYnVnKGBNQ1AgVG9vbCAoc2VydmVyOiAke3NlcnZlci5uYW1lfSwgdG9vbDogJHt0b29sLm5hbWV9KSBpcyBibG9ja2VkIGJ5IHRoZSBjYWxsYWJsZSBmaWx0ZXIuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxvd2VkVG9vbE5hbWVzID0gZmlsdGVyLmFsbG93ZWRUb29sTmFtZXMgPz8gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja2VkVG9vbE5hbWVzID0gZmlsdGVyLmJsb2NrZWRUb29sTmFtZXMgPz8gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZFRvb2xOYW1lcy5sZW5ndGggPiAwIHx8IGJsb2NrZWRUb29sTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbG93ZWQgPSBhbGxvd2VkVG9vbE5hbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhbGxvd2VkVG9vbE5hbWVzLmluY2x1ZGVzKHRvb2wubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrZWQgPSBibG9ja2VkVG9vbE5hbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBibG9ja2VkVG9vbE5hbWVzLmluY2x1ZGVzKHRvb2wubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbG93ZWQgfHwgYmxvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsTG9nZ2VyLmRlYnVnKGBNQ1AgVG9vbCAoc2VydmVyOiAke3NlcnZlci5uYW1lfSwgdG9vbDogJHt0b29sLm5hbWV9KSBpcyBibG9ja2VkIGJ5IHRoZSBzdGF0aWMgZmlsdGVyLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFhbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxMb2dnZXIuZGVidWcoYE1DUCBUb29sIChzZXJ2ZXI6ICR7c2VydmVyLm5hbWV9LCB0b29sOiAke3Rvb2wubmFtZX0pIGlzIG5vdCBhbGxvd2VkIGJ5IHRoZSBzdGF0aWMgZmlsdGVyLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFRvb2xzLnB1c2godG9vbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtY3BUb29scyA9IGZpbHRlcmVkVG9vbHM7XG4gICAgICAgIH1cbiAgICAgICAgc3Bhbi5zcGFuRGF0YS5yZXN1bHQgPSBtY3BUb29scy5tYXAoKHQpID0+IHQubmFtZSk7XG4gICAgICAgIGNvbnN0IHRvb2xzID0gbWNwVG9vbHMubWFwKCh0KSA9PiBtY3BUb0Z1bmN0aW9uVG9vbCh0LCBzZXJ2ZXIsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QpKTtcbiAgICAgICAgaWYgKHNlcnZlci5jYWNoZVRvb2xzTGlzdCkge1xuICAgICAgICAgICAgX2NhY2hlZFRvb2xzW3NlcnZlci5uYW1lXSA9IG1jcFRvb2xzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b29scztcbiAgICB9LCB7IGRhdGE6IHsgc2VydmVyOiBzZXJ2ZXIubmFtZSB9IH0pO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbE1jcFRvb2xzKG1jcFNlcnZlcnNPck9wdHMsIHJ1bkNvbnRleHQsIGFnZW50LCBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBvcHRzID0gQXJyYXkuaXNBcnJheShtY3BTZXJ2ZXJzT3JPcHRzKVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIG1jcFNlcnZlcnM6IG1jcFNlcnZlcnNPck9wdHMsXG4gICAgICAgICAgICBydW5Db250ZXh0LFxuICAgICAgICAgICAgYWdlbnQsXG4gICAgICAgICAgICBjb252ZXJ0U2NoZW1hc1RvU3RyaWN0LFxuICAgICAgICB9XG4gICAgICAgIDogbWNwU2VydmVyc09yT3B0cztcbiAgICBjb25zdCB7IG1jcFNlcnZlcnMsIGNvbnZlcnRTY2hlbWFzVG9TdHJpY3Q6IGNvbnZlcnRTY2hlbWFzVG9TdHJpY3RGcm9tT3B0cyA9IGZhbHNlLCBydW5Db250ZXh0OiBydW5Db250ZXh0RnJvbU9wdHMsIGFnZW50OiBhZ2VudEZyb21PcHRzLCB9ID0gb3B0cztcbiAgICBjb25zdCBhbGxUb29scyA9IFtdO1xuICAgIGNvbnN0IHRvb2xOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IHNlcnZlciBvZiBtY3BTZXJ2ZXJzKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlclRvb2xzID0gYXdhaXQgZ2V0RnVuY3Rpb25Ub29sc0Zyb21TZXJ2ZXIoe1xuICAgICAgICAgICAgc2VydmVyLFxuICAgICAgICAgICAgY29udmVydFNjaGVtYXNUb1N0cmljdDogY29udmVydFNjaGVtYXNUb1N0cmljdEZyb21PcHRzLFxuICAgICAgICAgICAgcnVuQ29udGV4dDogcnVuQ29udGV4dEZyb21PcHRzLFxuICAgICAgICAgICAgYWdlbnQ6IGFnZW50RnJvbU9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzZXJ2ZXJUb29sTmFtZXMgPSBuZXcgU2V0KHNlcnZlclRvb2xzLm1hcCgodCkgPT4gdC5uYW1lKSk7XG4gICAgICAgIGNvbnN0IGludGVyc2VjdGlvbiA9IFsuLi5zZXJ2ZXJUb29sTmFtZXNdLmZpbHRlcigobikgPT4gdG9vbE5hbWVzLmhhcyhuKSk7XG4gICAgICAgIGlmIChpbnRlcnNlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgRHVwbGljYXRlIHRvb2wgbmFtZXMgZm91bmQgYWNyb3NzIE1DUCBzZXJ2ZXJzOiAke2ludGVyc2VjdGlvbi5qb2luKCcsICcpfWApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiBzZXJ2ZXJUb29scykge1xuICAgICAgICAgICAgdG9vbE5hbWVzLmFkZCh0Lm5hbWUpO1xuICAgICAgICAgICAgYWxsVG9vbHMucHVzaCh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWxsVG9vbHM7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIE1DUCB0b29sIGRlZmluaXRpb24gdG8gYSBmdW5jdGlvbiB0b29sIGZvciB0aGUgQWdlbnRzIFNESy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1jcFRvRnVuY3Rpb25Ub29sKG1jcFRvb2wsIHNlcnZlciwgY29udmVydFNjaGVtYXNUb1N0cmljdCkge1xuICAgIGFzeW5jIGZ1bmN0aW9uIGludm9rZShpbnB1dCwgX2NvbnRleHQpIHtcbiAgICAgICAgbGV0IGFyZ3MgPSB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgJiYgaW5wdXQpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBKU09OLnBhcnNlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmIGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50U3BhbiA9IGdldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgIGlmIChjdXJyZW50U3Bhbikge1xuICAgICAgICAgICAgY3VycmVudFNwYW4uc3BhbkRhdGFbJ21jcF9kYXRhJ10gPSB7IHNlcnZlcjogc2VydmVyLm5hbWUgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgc2VydmVyLmNhbGxUb29sKG1jcFRvb2wubmFtZSwgYXJncyk7XG4gICAgICAgIHJldHVybiBjb250ZW50Lmxlbmd0aCA9PT0gMSA/IGNvbnRlbnRbMF0gOiBjb250ZW50O1xuICAgIH1cbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIC4uLm1jcFRvb2wuaW5wdXRTY2hlbWEsXG4gICAgICAgIHR5cGU6IG1jcFRvb2wuaW5wdXRTY2hlbWE/LnR5cGUgPz8gJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IG1jcFRvb2wuaW5wdXRTY2hlbWE/LnByb3BlcnRpZXMgPz8ge30sXG4gICAgICAgIHJlcXVpcmVkOiBtY3BUb29sLmlucHV0U2NoZW1hPy5yZXF1aXJlZCA/PyBbXSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IG1jcFRvb2wuaW5wdXRTY2hlbWE/LmFkZGl0aW9uYWxQcm9wZXJ0aWVzID8/IGZhbHNlLFxuICAgIH07XG4gICAgaWYgKGNvbnZlcnRTY2hlbWFzVG9TdHJpY3QgfHwgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSB0cnVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpY3RTY2hlbWEgPSBlbnN1cmVTdHJpY3RKc29uU2NoZW1hKHNjaGVtYSk7XG4gICAgICAgICAgICByZXR1cm4gdG9vbCh7XG4gICAgICAgICAgICAgICAgbmFtZTogbWNwVG9vbC5uYW1lLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBtY3BUb29sLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHN0cmljdFNjaGVtYSxcbiAgICAgICAgICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZTogaW52b2tlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdsb2JhbExvZ2dlci53YXJuKGBFcnJvciBjb252ZXJ0aW5nIE1DUCBzY2hlbWEgdG8gc3RyaWN0IG1vZGU6ICR7ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBub25TdHJpY3RTY2hlbWEgPSB7XG4gICAgICAgIC4uLnNjaGVtYSxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWUsXG4gICAgfTtcbiAgICByZXR1cm4gdG9vbCh7XG4gICAgICAgIG5hbWU6IG1jcFRvb2wubmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IG1jcFRvb2wuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgIHBhcmFtZXRlcnM6IG5vblN0cmljdFNjaGVtYSxcbiAgICAgICAgc3RyaWN0OiBmYWxzZSxcbiAgICAgICAgZXhlY3V0ZTogaW52b2tlLFxuICAgIH0pO1xufVxuLyoqXG4gKiBFbnN1cmVzIHRoZSBnaXZlbiBKU09OIHNjaGVtYSBpcyBzdHJpY3QgKG5vIGFkZGl0aW9uYWwgcHJvcGVydGllcywgcmVxdWlyZWQgZmllbGRzIHNldCkuXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZVN0cmljdEpzb25TY2hlbWEoc2NoZW1hKSB7XG4gICAgY29uc3Qgb3V0ID0ge1xuICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICB9O1xuICAgIGlmICghb3V0LnJlcXVpcmVkKVxuICAgICAgICBvdXQucmVxdWlyZWQgPSBbXTtcbiAgICByZXR1cm4gb3V0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWNwLm1qcy5tYXAiLCIvLy8gPHJlZmVyZW5jZSBsaWI9XCJkb21cIiAvPlxuLy8gVXNlIGZ1bmN0aW9uIGluc3RlYWQgb2YgZXhwb3J0aW5nIHRoZSB2YWx1ZSB0byBwcmV2ZW50XG4vLyBjaXJjdWxhciBkZXBlbmRlbmN5IHJlc29sdXRpb24gaXNzdWVzIGNhdXNlZCBieSBvdGhlciBleHBvcnRzIGluICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcydcbmV4cG9ydCBmdW5jdGlvbiBsb2FkRW52KCkge1xuICAgIHJldHVybiB7fTtcbn1cbmV4cG9ydCBjbGFzcyBCcm93c2VyRXZlbnRFbWl0dGVyIHtcbiAgICAjdGFyZ2V0ID0gbmV3IEV2ZW50VGFyZ2V0KCk7XG4gICAgI2xpc3RlbmVyV3JhcHBlcnMgPSBuZXcgTWFwKCk7XG4gICAgb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gdHlwZTtcbiAgICAgICAgbGV0IGxpc3RlbmVyc0ZvclR5cGUgPSB0aGlzLiNsaXN0ZW5lcldyYXBwZXJzLmdldChldmVudFR5cGUpO1xuICAgICAgICBpZiAoIWxpc3RlbmVyc0ZvclR5cGUpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyc0ZvclR5cGUgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLiNsaXN0ZW5lcldyYXBwZXJzLnNldChldmVudFR5cGUsIGxpc3RlbmVyc0ZvclR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3cmFwcGVycyA9IGxpc3RlbmVyc0ZvclR5cGUuZ2V0KGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKCF3cmFwcGVycykge1xuICAgICAgICAgICAgd3JhcHBlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBsaXN0ZW5lcnNGb3JUeXBlLnNldChsaXN0ZW5lciwgd3JhcHBlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSAoKGV2ZW50KSA9PiBsaXN0ZW5lciguLi4oZXZlbnQuZGV0YWlsID8/IFtdKSkpO1xuICAgICAgICB3cmFwcGVycy5hZGQod3JhcHBlcik7XG4gICAgICAgIHRoaXMuI3RhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgd3JhcHBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBvZmYodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gdHlwZTtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzRm9yVHlwZSA9IHRoaXMuI2xpc3RlbmVyV3JhcHBlcnMuZ2V0KGV2ZW50VHlwZSk7XG4gICAgICAgIGNvbnN0IHdyYXBwZXJzID0gbGlzdGVuZXJzRm9yVHlwZT8uZ2V0KGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKHdyYXBwZXJzPy5zaXplKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHdyYXBwZXIgb2Ygd3JhcHBlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiN0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIHdyYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdGVuZXJzRm9yVHlwZT8uZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNGb3JUeXBlPy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jbGlzdGVuZXJXcmFwcGVycy5kZWxldGUoZXZlbnRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZW1pdCh0eXBlLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsOiBhcmdzIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy4jdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgdGhpcy5vZmYodHlwZSwgaGFuZGxlcik7XG4gICAgICAgICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbih0eXBlLCBoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0IHsgQnJvd3NlckV2ZW50RW1pdHRlciBhcyBSdW50aW1lRXZlbnRFbWl0dGVyIH07XG5leHBvcnQgY29uc3QgcmFuZG9tVVVJRCA9IGNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKTtcbmV4cG9ydCBjb25zdCBSZWFkYWJsZSA9IGNsYXNzIFJlYWRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHBpcGVUbyhfZGVzdGluYXRpb24sIF9vcHRpb25zKSB7IH1cbiAgICBwaXBlVGhyb3VnaChfdHJhbnNmb3JtLCBfb3B0aW9ucykgeyB9XG59O1xuZXhwb3J0IGNvbnN0IFJlYWRhYmxlU3RyZWFtID0gZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbTtcbmV4cG9ydCBjb25zdCBSZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgPSBnbG9iYWxUaGlzLlJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI7XG5leHBvcnQgY29uc3QgVHJhbnNmb3JtU3RyZWFtID0gZ2xvYmFsVGhpcy5UcmFuc2Zvcm1TdHJlYW07XG5leHBvcnQgY2xhc3MgQXN5bmNMb2NhbFN0b3JhZ2Uge1xuICAgIGNvbnRleHQgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgcnVuKGNvbnRleHQsIGZuKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICBnZXRTdG9yZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcbiAgICB9XG4gICAgZW50ZXJXaXRoKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNUcmFjaW5nTG9vcFJ1bm5pbmdCeURlZmF1bHQoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IHsgTUNQU2VydmVyU3RkaW8sIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwLCBNQ1BTZXJ2ZXJTU0UsIH0gZnJvbSBcIi4vbWNwLXNlcnZlci9icm93c2VyLm1qc1wiO1xuY2xhc3MgQnJvd3NlclRpbWVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIG1zKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCBtcyk7XG4gICAgICAgIHRpbWVvdXQucmVmID1cbiAgICAgICAgICAgIHR5cGVvZiB0aW1lb3V0LnJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRpbWVvdXQucmVmIDogKCkgPT4gdGltZW91dDtcbiAgICAgICAgdGltZW91dC51bnJlZiA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC51bnJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRpbWVvdXQudW5yZWYgOiAoKSA9PiB0aW1lb3V0O1xuICAgICAgICB0aW1lb3V0Lmhhc1JlZiA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC5oYXNSZWYgPT09ICdmdW5jdGlvbicgPyB0aW1lb3V0Lmhhc1JlZiA6ICgpID0+IHRydWU7XG4gICAgICAgIHRpbWVvdXQucmVmcmVzaCA9XG4gICAgICAgICAgICB0eXBlb2YgdGltZW91dC5yZWZyZXNoID09PSAnZnVuY3Rpb24nID8gdGltZW91dC5yZWZyZXNoIDogKCkgPT4gdGltZW91dDtcbiAgICAgICAgcmV0dXJuIHRpbWVvdXQ7XG4gICAgfVxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbn1cbmNvbnN0IHRpbWVyID0gbmV3IEJyb3dzZXJUaW1lcigpO1xuZXhwb3J0IHsgdGltZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaW1zLWJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IEFzeW5jTG9jYWxTdG9yYWdlIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZS9fc2hpbXMnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsVHJhY2VQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVyLm1qc1wiO1xubGV0IF9jb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2U7XG5mdW5jdGlvbiBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKSB7XG4gICAgX2NvbnRleHRBc3luY0xvY2FsU3RvcmFnZSA/Pz0gbmV3IEFzeW5jTG9jYWxTdG9yYWdlKCk7XG4gICAgcmV0dXJuIF9jb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2U7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBnZXQgdGhlIGN1cnJlbnQgdHJhY2UgZnJvbSB0aGUgZXhlY3V0aW9uIGNvbnRleHQuXG4gKlxuICogQHJldHVybnMgVGhlIGN1cnJlbnQgdHJhY2Ugb3IgbnVsbCBpZiB0aGVyZSBpcyBubyB0cmFjZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRUcmFjZSgpIHtcbiAgICBjb25zdCBjdXJyZW50VHJhY2UgPSBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5nZXRTdG9yZSgpO1xuICAgIGlmIChjdXJyZW50VHJhY2U/LnRyYWNlKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50VHJhY2UudHJhY2U7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgZ2V0IHRoZSBjdXJyZW50IHNwYW4gZnJvbSB0aGUgZXhlY3V0aW9uIGNvbnRleHQuXG4gKlxuICogQHJldHVybnMgVGhlIGN1cnJlbnQgc3BhbiBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50U3BhbigpIHtcbiAgICBjb25zdCBjdXJyZW50U3BhbiA9IGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmdldFN0b3JlKCk7XG4gICAgaWYgKGN1cnJlbnRTcGFuPy5zcGFuKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50U3Bhbi5zcGFuO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogVGhpcyBpcyBhbiBBc3luY0xvY2FsU3RvcmFnZSBpbnN0YW5jZSB0aGF0IHN0b3JlcyB0aGUgY3VycmVudCB0cmFjZS5cbiAqIEl0IHdpbGwgYXV0b21hdGljYWxseSBoYW5kbGUgdGhlIGV4ZWN1dGlvbiBjb250ZXh0IG9mIGRpZmZlcmVudCBldmVudCBsb29wIGV4ZWN1dGlvbnMuXG4gKlxuICogVGhlIGZ1bmN0aW9ucyBiZWxvdyBzaG91bGQgYmUgdGhlIG9ubHkgd2F5IHRoYXQgdGhpcyBjb250ZXh0IGdldHMgaW50ZXJmYWNlZCB3aXRoLlxuICovXG5mdW5jdGlvbiBfd3JhcEZ1bmN0aW9uV2l0aFRyYWNlTGlmZWN5Y2xlKGZuKSB7XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdHJhY2UgPSBnZXRDdXJyZW50VHJhY2UoKTtcbiAgICAgICAgaWYgKCF0cmFjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0cmFjZSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRyYWNlLnN0YXJ0KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZuKHRyYWNlKTtcbiAgICAgICAgYXdhaXQgdHJhY2UuZW5kKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIG5ldyB0cmFjZSBhbmQgYXNzaWduIGl0IHRvIHRoZSBleGVjdXRpb24gY29udGV4dCBvZiB0aGUgZnVuY3Rpb25cbiAqIHBhc3NlZCB0byBpdC5cbiAqXG4gKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gcnVuIGFuZCBhc3NpZ24gdGhlIHRyYWNlIGNvbnRleHQgdG8uXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBjcmVhdGlvbiBvZiB0aGUgdHJhY2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdpdGhUcmFjZSh0cmFjZSwgZm4sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IG5ld1RyYWNlID0gdHlwZW9mIHRyYWNlID09PSAnc3RyaW5nJ1xuICAgICAgICA/IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVUcmFjZSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgbmFtZTogdHJhY2UsXG4gICAgICAgIH0pXG4gICAgICAgIDogdHJhY2U7XG4gICAgcmV0dXJuIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLnJ1bih7IHRyYWNlOiBuZXdUcmFjZSB9LCBfd3JhcEZ1bmN0aW9uV2l0aFRyYWNlTGlmZWN5Y2xlKGZuKSk7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBjaGVjayBpZiB0aGVyZSBpcyBhbiBleGlzdGluZyBhY3RpdmUgdHJhY2UgaW4gdGhlIGV4ZWN1dGlvbiBjb250ZXh0LiBJZiB0aGVyZVxuICogaXMsIGl0IHdpbGwgcnVuIHRoZSBnaXZlbiBmdW5jdGlvbiB3aXRoIHRoZSBleGlzdGluZyB0cmFjZS4gSWYgdGhlcmUgaXMgbm8gdHJhY2UsIGl0IHdpbGwgY3JlYXRlXG4gKiBhIG5ldyBvbmUgYW5kIGFzc2lnbiBpdCB0byB0aGUgZXhlY3V0aW9uIGNvbnRleHQgb2YgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBmenVuY3Rpb24gdG8gcnVuIGFuZCBhc3NpZ24gdGhlIHRyYWNlIGNvbnRleHQgdG8uXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBjcmVhdGlvbiBvZiB0aGUgdHJhY2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9yQ3JlYXRlVHJhY2UoZm4sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGN1cnJlbnRUcmFjZSA9IGdldEN1cnJlbnRUcmFjZSgpO1xuICAgIGlmIChjdXJyZW50VHJhY2UpIHtcbiAgICAgICAgLy8gaWYgdGhpcyBleGVjdXRpb24gY29udGV4dCBhbHJlYWR5IGhhcyBhIHRyYWNlIGluc3RhbmNlIGluIGl0IHdlIGp1c3QgY29udGludWVcbiAgICAgICAgcmV0dXJuIGF3YWl0IGZuKCk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1RyYWNlID0gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVRyYWNlKG9wdGlvbnMpO1xuICAgIHJldHVybiBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5ydW4oeyB0cmFjZTogbmV3VHJhY2UgfSwgX3dyYXBGdW5jdGlvbldpdGhUcmFjZUxpZmVjeWNsZShmbikpO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgc2V0IHRoZSBjdXJyZW50IHNwYW4gaW4gdGhlIGV4ZWN1dGlvbiBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSBzcGFuIC0gVGhlIHNwYW4gdG8gc2V0IGFzIHRoZSBjdXJyZW50IHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDdXJyZW50U3BhbihzcGFuKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmdldFN0b3JlKCk7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZXhpc3RpbmcgdHJhY2UgZm91bmQnKTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuc3Bhbikge1xuICAgICAgICBjb250ZXh0LnNwYW4ucHJldmlvdXNTcGFuID0gY29udGV4dC5wcmV2aW91c1NwYW47XG4gICAgICAgIGNvbnRleHQucHJldmlvdXNTcGFuID0gY29udGV4dC5zcGFuO1xuICAgIH1cbiAgICBjb250ZXh0LnNwYW4gPSBzcGFuO1xuICAgIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmVudGVyV2l0aChjb250ZXh0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldEN1cnJlbnRTcGFuKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5nZXRTdG9yZSgpO1xuICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuc3BhbiA9IGNvbnRleHQucHJldmlvdXNTcGFuO1xuICAgICAgICBjb250ZXh0LnByZXZpb3VzU3BhbiA9IGNvbnRleHQucHJldmlvdXNTcGFuPy5wcmV2aW91c1NwYW47XG4gICAgICAgIGdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSgpLmVudGVyV2l0aChjb250ZXh0KTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBhZGQgYW4gZXJyb3IgdG8gdGhlIGN1cnJlbnQgc3Bhbi5cbiAqXG4gKiBAcGFyYW0gc3BhbkVycm9yIC0gVGhlIGVycm9yIHRvIGFkZCB0byB0aGUgY3VycmVudCBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHNwYW5FcnJvcikge1xuICAgIGNvbnN0IGN1cnJlbnRTcGFuID0gZ2V0Q3VycmVudFNwYW4oKTtcbiAgICBpZiAoY3VycmVudFNwYW4pIHtcbiAgICAgICAgY3VycmVudFNwYW4uc2V0RXJyb3Ioc3BhbkVycm9yKTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBjbG9uZSB0aGUgY3VycmVudCBjb250ZXh0IGJ5IGNyZWF0aW5nIG5ldyBpbnN0YW5jZXMgb2YgdGhlIHRyYWNlLCBzcGFuLCBhbmRcbiAqIHByZXZpb3VzIHNwYW4uXG4gKlxuICogQHBhcmFtIGNvbnRleHQgLSBUaGUgY29udGV4dCB0byBjbG9uZS5cbiAqIEByZXR1cm5zIEEgY2xvbmUgb2YgdGhlIGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUN1cnJlbnRDb250ZXh0KGNvbnRleHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFjZTogY29udGV4dC50cmFjZT8uY2xvbmUoKSxcbiAgICAgICAgc3BhbjogY29udGV4dC5zcGFuPy5jbG9uZSgpLFxuICAgICAgICBwcmV2aW91c1NwYW46IGNvbnRleHQucHJldmlvdXNTcGFuPy5jbG9uZSgpLFxuICAgIH07XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBydW4gdGhlIGdpdmVuIGZ1bmN0aW9uIHdpdGggYSBuZXcgc3BhbiBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiB0byBydW4gd2l0aCB0aGUgbmV3IHNwYW4gY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhOZXdTcGFuQ29udGV4dChmbikge1xuICAgIGNvbnN0IGN1cnJlbnRDb250ZXh0ID0gZ2V0Q29udGV4dEFzeW5jTG9jYWxTdG9yYWdlKCkuZ2V0U3RvcmUoKTtcbiAgICBpZiAoIWN1cnJlbnRDb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZXhpc3RpbmcgdHJhY2UgZm91bmQnKTtcbiAgICB9XG4gICAgY29uc3QgY29weU9mQ29udGV4dCA9IGNsb25lQ3VycmVudENvbnRleHQoY3VycmVudENvbnRleHQpO1xuICAgIHJldHVybiBnZXRDb250ZXh0QXN5bmNMb2NhbFN0b3JhZ2UoKS5ydW4oY29weU9mQ29udGV4dCwgZm4pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dC5tanMubWFwIiwiaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgdGltZXIgYXMgX3RpbWVyLCBpc1RyYWNpbmdMb29wUnVubmluZ0J5RGVmYXVsdCwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyB0cmFjaW5nIH0gZnJvbSBcIi4uL2NvbmZpZy5tanNcIjtcbi8qKlxuICogUHJpbnRzIHRoZSB0cmFjZXMgYW5kIHNwYW5zIHRvIHRoZSBjb25zb2xlXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25zb2xlU3BhbkV4cG9ydGVyIHtcbiAgICBhc3luYyBleHBvcnQoaXRlbXMpIHtcbiAgICAgICAgaWYgKHRyYWNpbmcuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnVHJhY2luZyBpcyBkaXNhYmxlZC4gU2tpcHBpbmcgZXhwb3J0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAndHJhY2UnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtFeHBvcnRlcl0gRXhwb3J0IHRyYWNlIHRyYWNlSWQ9JHtpdGVtLnRyYWNlSWR9IG5hbWU9JHtpdGVtLm5hbWV9JHtpdGVtLmdyb3VwSWQgPyBgIGdyb3VwSWQ9JHtpdGVtLmdyb3VwSWR9YCA6ICcnfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtFeHBvcnRlcl0gRXhwb3J0IHNwYW46ICR7SlNPTi5zdHJpbmdpZnkoaXRlbSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmF0Y2hUcmFjZVByb2Nlc3NvciB7XG4gICAgI21heFF1ZXVlU2l6ZTtcbiAgICAjbWF4QmF0Y2hTaXplO1xuICAgICNzY2hlZHVsZURlbGF5O1xuICAgICNleHBvcnRUcmlnZ2VyU2l6ZTtcbiAgICAjZXhwb3J0ZXI7XG4gICAgI2J1ZmZlciA9IFtdO1xuICAgICN0aW1lcjtcbiAgICAjdGltZW91dCA9IG51bGw7XG4gICAgI2V4cG9ydEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAjdGltZW91dEFib3J0Q29udHJvbGxlciA9IG51bGw7XG4gICAgY29uc3RydWN0b3IoZXhwb3J0ZXIsIHsgbWF4UXVldWVTaXplID0gMTAwMCwgbWF4QmF0Y2hTaXplID0gMTAwLCBzY2hlZHVsZURlbGF5ID0gNTAwMCwgLy8gNSBzZWNvbmRzXG4gICAgZXhwb3J0VHJpZ2dlclJhdGlvID0gMC44LCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy4jbWF4UXVldWVTaXplID0gbWF4UXVldWVTaXplO1xuICAgICAgICB0aGlzLiNtYXhCYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIHRoaXMuI3NjaGVkdWxlRGVsYXkgPSBzY2hlZHVsZURlbGF5O1xuICAgICAgICB0aGlzLiNleHBvcnRUcmlnZ2VyU2l6ZSA9IG1heFF1ZXVlU2l6ZSAqIGV4cG9ydFRyaWdnZXJSYXRpbztcbiAgICAgICAgdGhpcy4jZXhwb3J0ZXIgPSBleHBvcnRlcjtcbiAgICAgICAgdGhpcy4jdGltZXIgPSBfdGltZXI7XG4gICAgICAgIGlmIChpc1RyYWNpbmdMb29wUnVubmluZ0J5RGVmYXVsdCgpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0F1dG9tYXRpYyB0cmFjZSBleHBvcnQgbG9vcCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuIFlvdSBuZWVkIHRvIG1hbnVhbGx5IGNhbGwgYGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5mb3JjZUZsdXNoKClgIHRvIGV4cG9ydCB0cmFjZXMuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuI3RpbWVvdXRBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuI3J1bkV4cG9ydExvb3AoKTtcbiAgICB9XG4gICAgYXN5bmMgI3NhZmVBZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggKyAxID4gdGhpcy4jbWF4UXVldWVTaXplKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Ryb3BwaW5nIHRyYWNlIGJlY2F1c2UgYnVmZmVyIGlzIGZ1bGwnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgdGhlIGl0ZW0gdG8gdGhlIGJ1ZmZlclxuICAgICAgICB0aGlzLiNidWZmZXIucHVzaChpdGVtKTtcbiAgICAgICAgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggPiB0aGlzLiNleHBvcnRUcmlnZ2VyU2l6ZSkge1xuICAgICAgICAgICAgLy8gc3RhcnQgZXhwb3J0aW5nIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRCYXRjaGVzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI3J1bkV4cG9ydExvb3AoKSB7XG4gICAgICAgIHRoaXMuI3RpbWVvdXQgPSB0aGlzLiN0aW1lci5zZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIHNjaGVkdWxlZCBleHBvcnRcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydEJhdGNoZXMoKTtcbiAgICAgICAgICAgIHRoaXMuI3J1bkV4cG9ydExvb3AoKTtcbiAgICAgICAgfSwgdGhpcy4jc2NoZWR1bGVEZWxheSk7XG4gICAgICAgIC8vIFdlIHNldCB0aGlzIHNvIHRoYXQgTm9kZSBubyBsb25nZXIgY29uc2lkZXJzIHRoaXMgcGFydCBvZiB0aGUgZXZlbnQgbG9vcCBhbmQga2VlcHMgdGhlXG4gICAgICAgIC8vIHByb2Nlc3MgYWxpdmUgdW50aWwgdGhlIHRpbWVyIGlzIGRvbmUuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy4jdGltZW91dC51bnJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy4jdGltZW91dC51bnJlZigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jICNleHBvcnRCYXRjaGVzKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZGVidWcoYEV4cG9ydGluZyBiYXRjaGVzLiBGb3JjZTogJHtmb3JjZX0uIEJ1ZmZlciBzaXplOiAke3RoaXMuI2J1ZmZlci5sZW5ndGh9YCk7XG4gICAgICAgIGlmIChmb3JjZSB8fCB0aGlzLiNidWZmZXIubGVuZ3RoIDwgdGhpcy4jbWF4QmF0Y2hTaXplKSB7XG4gICAgICAgICAgICBjb25zdCB0b0V4cG9ydCA9IFsuLi50aGlzLiNidWZmZXJdO1xuICAgICAgICAgICAgdGhpcy4jYnVmZmVyID0gW107XG4gICAgICAgICAgICB0aGlzLiNleHBvcnRJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2V4cG9ydGVyLmV4cG9ydCh0b0V4cG9ydCk7XG4gICAgICAgICAgICB0aGlzLiNleHBvcnRJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy4jYnVmZmVyLnNwbGljZSgwLCB0aGlzLiNtYXhCYXRjaFNpemUpO1xuICAgICAgICAgICAgdGhpcy4jZXhwb3J0SW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRlci5leHBvcnQoYmF0Y2gpO1xuICAgICAgICAgICAgdGhpcy4jZXhwb3J0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uVHJhY2VTdGFydCh0cmFjZSkge1xuICAgICAgICBhd2FpdCB0aGlzLiNzYWZlQWRkSXRlbSh0cmFjZSk7XG4gICAgfVxuICAgIGFzeW5jIG9uVHJhY2VFbmQoX3RyYWNlKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IHNlbmQgdHJhY2VzIG9uIGVuZCBiZWNhdXNlIHdlIGFscmVhZHkgc2VuZCB0aGVtIG9uIHN0YXJ0XG4gICAgfVxuICAgIGFzeW5jIG9uU3BhblN0YXJ0KF9zcGFuKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IHNlbmQgc3BhbnMgb24gc3RhcnQgYmVjYXVzZSB3ZSBzZW5kIHRoZW0gYXQgdGhlIGVuZFxuICAgIH1cbiAgICBhc3luYyBvblNwYW5FbmQoc3Bhbikge1xuICAgICAgICBhd2FpdCB0aGlzLiNzYWZlQWRkSXRlbShzcGFuKTtcbiAgICB9XG4gICAgYXN5bmMgc2h1dGRvd24odGltZW91dCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy4jdGltZXIuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZm9yY2Ugc2h1dGRvd24gdGhlIEhUVFAgcmVxdWVzdFxuICAgICAgICAgICAgICAgIHRoaXMuI3RpbWVvdXRBYm9ydENvbnRyb2xsZXI/LmFib3J0KCk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZGVidWcoJ1NodXR0aW5nIGRvd24gZ3JhY2VmdWxseScpO1xuICAgICAgICB3aGlsZSAodGhpcy4jYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgV2FpdGluZyBmb3IgYnVmZmVyIHRvIGVtcHR5LiBJdGVtcyBsZWZ0OiAke3RoaXMuI2J1ZmZlci5sZW5ndGh9YCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuI2V4cG9ydEluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAvLyBubyBjdXJyZW50IGV4cG9ydCBpbiBwcm9ncmVzcy4gRm9yY2luZyBhbGwgaXRlbXMgdG8gYmUgZXhwb3J0ZWRcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRCYXRjaGVzKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuI3RpbWVvdXRBYm9ydENvbnRyb2xsZXI/LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdUaW1lb3V0IHJlYWNoZWQsIGZvcmNlIGZsdXNoaW5nJyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXhwb3J0QmF0Y2hlcyh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVzaW5nIHNldFRpbWVvdXQgdG8gYWRkIHRvIHRoZSBldmVudCBsb29wIGFuZCBrZWVwIHRoaXMgYWxpdmUgdW50aWwgZG9uZVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHRoaXMuI3RpbWVyLnNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdCdWZmZXIgZW1wdHkuIEV4aXRpbmcnKTtcbiAgICAgICAgaWYgKHRoaXMuI3RpbWVyICYmIHRoaXMuI3RpbWVvdXQpIHtcbiAgICAgICAgICAgIC8vIG1ha2luZyBzdXJlIHRoZXJlIGFyZSBubyBtb3JlIHJlcXVlc3RzXG4gICAgICAgICAgICB0aGlzLiN0aW1lci5jbGVhclRpbWVvdXQodGhpcy4jdGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZm9yY2VGbHVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI2J1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNleHBvcnRCYXRjaGVzKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE11bHRpVHJhY2luZ1Byb2Nlc3NvciB7XG4gICAgI3Byb2Nlc3NvcnMgPSBbXTtcbiAgICBzdGFydCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3Nvci5zdGFydCkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3Nvci5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFRyYWNlUHJvY2Vzc29yKHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLiNwcm9jZXNzb3JzLnB1c2gocHJvY2Vzc29yKTtcbiAgICB9XG4gICAgc2V0UHJvY2Vzc29ycyhwcm9jZXNzb3JzKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnU2h1dHRpbmcgZG93biBvbGQgcHJvY2Vzc29ycycpO1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBwcm9jZXNzb3Iuc2h1dGRvd24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNwcm9jZXNzb3JzID0gcHJvY2Vzc29ycztcbiAgICB9XG4gICAgYXN5bmMgb25UcmFjZVN0YXJ0KHRyYWNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3Nvci5vblRyYWNlU3RhcnQodHJhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uVHJhY2VFbmQodHJhY2UpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLm9uVHJhY2VFbmQodHJhY2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uU3BhblN0YXJ0KHNwYW4pIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLm9uU3BhblN0YXJ0KHNwYW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uU3BhbkVuZChzcGFuKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvY2Vzc29yIG9mIHRoaXMuI3Byb2Nlc3NvcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3Nvci5vblNwYW5FbmQoc3Bhbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc2h1dGRvd24odGltZW91dCkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3NvciBvZiB0aGlzLiNwcm9jZXNzb3JzKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzb3Iuc2h1dGRvd24odGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZm9yY2VGbHVzaCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzb3Igb2YgdGhpcy4jcHJvY2Vzc29ycykge1xuICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc29yLmZvcmNlRmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmxldCBfZGVmYXVsdEV4cG9ydGVyID0gbnVsbDtcbmxldCBfZGVmYXVsdFByb2Nlc3NvciA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEV4cG9ydGVyKCkge1xuICAgIGlmICghX2RlZmF1bHRFeHBvcnRlcikge1xuICAgICAgICBfZGVmYXVsdEV4cG9ydGVyID0gbmV3IENvbnNvbGVTcGFuRXhwb3J0ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIF9kZWZhdWx0RXhwb3J0ZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFByb2Nlc3NvcigpIHtcbiAgICBpZiAoIV9kZWZhdWx0UHJvY2Vzc29yKSB7XG4gICAgICAgIF9kZWZhdWx0UHJvY2Vzc29yID0gbmV3IEJhdGNoVHJhY2VQcm9jZXNzb3IoZGVmYXVsdEV4cG9ydGVyKCkpO1xuICAgIH1cbiAgICByZXR1cm4gX2RlZmF1bHRQcm9jZXNzb3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9jZXNzb3IubWpzLm1hcCIsImltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG4vKipcbiAqIEdlbmVyYXRlIGFuIElTTyA4NjAxIHRpbWVzdGFtcCBvZiB0aGUgY3VycmVudCB0aW1lLlxuICogQHJldHVybnMgQW4gSVNPIDg2MDEgdGltZXN0YW1wLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZUlzbygpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIHRyYWNlIElEIGJ5IGNyZWF0aW5nIGEgcmFuZG9tIFVVSUQgdjQgYW5kIHJlbW92aW5nIHRoZSBkYXNoZXMuIFRoaXMgaXMgdGhlIGVxdWl2YWxlbnRcbiAqIG9mIGB1dWlkNCgpLmhleGAgaW4gUHl0aG9uIGFuZCBwcmVmaXhpbmcgaXQgd2l0aCBgdHJhY2VfYC5cbiAqIEByZXR1cm5zIEEgdHJhY2UgSUQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRyYWNlSWQoKSB7XG4gICAgcmV0dXJuIGB0cmFjZV8ke3JhbmRvbVVVSUQoKS5yZXBsYWNlKC8tL2csICcnKX1gO1xufVxuLyoqXG4gKiBHZW5lcmF0ZSBhIHNwYW4gSUQgYnkgY3JlYXRpbmcgYSByYW5kb20gVVVJRCB2NCBhbmQgcmVtb3ZpbmcgdGhlIGRhc2hlcy4gVGhpcyBpcyB0aGUgZXF1aXZhbGVudFxuICogb2YgYHV1aWQ0KCkuaGV4YCBpbiBQeXRob24gYW5kIHByZWZpeGluZyBpdCB3aXRoIGBzcGFuX2AuXG4gKiBAcmV0dXJucyBBIHNwYW4gSUQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVNwYW5JZCgpIHtcbiAgICByZXR1cm4gYHNwYW5fJHtyYW5kb21VVUlEKCkucmVwbGFjZSgvLS9nLCAnJykuc2xpY2UoMCwgMjQpfWA7XG59XG4vKipcbiAqIEdlbmVyYXRlIGEgZ3JvdXAgSUQgYnkgY3JlYXRpbmcgYSByYW5kb20gVVVJRCB2NCBhbmQgcmVtb3ZpbmcgdGhlIGRhc2hlcy4gVGhpcyBpcyB0aGUgZXF1aXZhbGVudFxuICogb2YgYHV1aWQ0KCkuaGV4YCBpbiBQeXRob24gYW5kIHByZWZpeGluZyBpdCB3aXRoIGBncm91cF9gLlxuICogQHJldHVybnMgQSBncm91cCBJRC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlR3JvdXBJZCgpIHtcbiAgICByZXR1cm4gYGdyb3VwXyR7cmFuZG9tVVVJRCgpLnJlcGxhY2UoLy0vZywgJycpLnNsaWNlKDAsIDI0KX1gO1xufVxuLyoqXG4gKiBSZW1vdmUgZmllbGRzIHRoYXQgc3RhcnQgd2l0aCBhbiB1bmRlcnNjb3JlIGZyb20gYW4gb2JqZWN0LlxuICogQHBhcmFtIG9iaiAtIFRoZSBvYmplY3QgdG8gcmVtb3ZlIHByaXZhdGUgZmllbGRzIGZyb20uXG4gKiBAcmV0dXJucyBBIG5ldyBvYmplY3Qgd2l0aCBwcml2YXRlIGZpZWxkcyByZW1vdmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUHJpdmF0ZUZpZWxkcyhvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG9iaikuZmlsdGVyKChba2V5XSkgPT4gIWtleS5zdGFydHNXaXRoKCdfJykpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLm1qcy5tYXAiLCJpbXBvcnQgbG9nZ2VyIGZyb20gXCIuLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVNwYW5JZCwgcmVtb3ZlUHJpdmF0ZUZpZWxkcywgdGltZUlzbyB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFNwYW4ge1xuICAgIHR5cGUgPSAndHJhY2Uuc3Bhbic7XG4gICAgI2RhdGE7XG4gICAgI3RyYWNlSWQ7XG4gICAgI3NwYW5JZDtcbiAgICAjcGFyZW50SWQ7XG4gICAgI3Byb2Nlc3NvcjtcbiAgICAjc3RhcnRlZEF0O1xuICAgICNlbmRlZEF0O1xuICAgICNlcnJvcjtcbiAgICAjcHJldmlvdXNTcGFuO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLiN0cmFjZUlkID0gb3B0aW9ucy50cmFjZUlkO1xuICAgICAgICB0aGlzLiNzcGFuSWQgPSBvcHRpb25zLnNwYW5JZCA/PyBnZW5lcmF0ZVNwYW5JZCgpO1xuICAgICAgICB0aGlzLiNkYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgICAgICB0aGlzLiNwcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgICAgIHRoaXMuI3BhcmVudElkID0gb3B0aW9ucy5wYXJlbnRJZCA/PyBudWxsO1xuICAgICAgICB0aGlzLiNlcnJvciA9IG9wdGlvbnMuZXJyb3IgPz8gbnVsbDtcbiAgICAgICAgdGhpcy4jc3RhcnRlZEF0ID0gb3B0aW9ucy5zdGFydGVkQXQgPz8gbnVsbDtcbiAgICAgICAgdGhpcy4jZW5kZWRBdCA9IG9wdGlvbnMuZW5kZWRBdCA/PyBudWxsO1xuICAgIH1cbiAgICBnZXQgdHJhY2VJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RyYWNlSWQ7XG4gICAgfVxuICAgIGdldCBzcGFuRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2RhdGE7XG4gICAgfVxuICAgIGdldCBzcGFuSWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzcGFuSWQ7XG4gICAgfVxuICAgIGdldCBwYXJlbnRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3BhcmVudElkO1xuICAgIH1cbiAgICBnZXQgcHJldmlvdXNTcGFuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHJldmlvdXNTcGFuO1xuICAgIH1cbiAgICBzZXQgcHJldmlvdXNTcGFuKHNwYW4pIHtcbiAgICAgICAgdGhpcy4jcHJldmlvdXNTcGFuID0gc3BhbjtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGFydGVkQXQpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdTcGFuIGFscmVhZHkgc3RhcnRlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3N0YXJ0ZWRBdCA9IHRpbWVJc28oKTtcbiAgICAgICAgdGhpcy4jcHJvY2Vzc29yLm9uU3BhblN0YXJ0KHRoaXMpO1xuICAgIH1cbiAgICBlbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNlbmRlZEF0KSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1NwYW4gYWxyZWFkeSBmaW5pc2hlZCcsIHRoaXMuc3BhbkRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2VuZGVkQXQgPSB0aW1lSXNvKCk7XG4gICAgICAgIHRoaXMuI3Byb2Nlc3Nvci5vblNwYW5FbmQodGhpcyk7XG4gICAgfVxuICAgIHNldEVycm9yKGVycm9yKSB7XG4gICAgICAgIHRoaXMuI2Vycm9yID0gZXJyb3I7XG4gICAgfVxuICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Vycm9yO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZEF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RhcnRlZEF0O1xuICAgIH1cbiAgICBnZXQgZW5kZWRBdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2VuZGVkQXQ7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICBjb25zdCBzcGFuID0gbmV3IFNwYW4oe1xuICAgICAgICAgICAgdHJhY2VJZDogdGhpcy50cmFjZUlkLFxuICAgICAgICAgICAgc3BhbklkOiB0aGlzLnNwYW5JZCxcbiAgICAgICAgICAgIHBhcmVudElkOiB0aGlzLnBhcmVudElkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuc3BhbkRhdGEsXG4gICAgICAgICAgICBzdGFydGVkQXQ6IHRoaXMuI3N0YXJ0ZWRBdCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmRlZEF0OiB0aGlzLiNlbmRlZEF0ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVycm9yOiB0aGlzLiNlcnJvciA/PyB1bmRlZmluZWQsXG4gICAgICAgIH0sIHRoaXMuI3Byb2Nlc3Nvcik7XG4gICAgICAgIHNwYW4ucHJldmlvdXNTcGFuID0gdGhpcy5wcmV2aW91c1NwYW4/LmNsb25lKCk7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvYmplY3Q6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIGlkOiB0aGlzLnNwYW5JZCxcbiAgICAgICAgICAgIHRyYWNlX2lkOiB0aGlzLnRyYWNlSWQsXG4gICAgICAgICAgICBwYXJlbnRfaWQ6IHRoaXMucGFyZW50SWQsXG4gICAgICAgICAgICBzdGFydGVkX2F0OiB0aGlzLnN0YXJ0ZWRBdCxcbiAgICAgICAgICAgIGVuZGVkX2F0OiB0aGlzLmVuZGVkQXQsXG4gICAgICAgICAgICBzcGFuX2RhdGE6IHJlbW92ZVByaXZhdGVGaWVsZHModGhpcy5zcGFuRGF0YSksXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvcixcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTm9vcFNwYW4gZXh0ZW5kcyBTcGFuIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgc3VwZXIoeyB0cmFjZUlkOiAnbm8tb3AnLCBzcGFuSWQ6ICduby1vcCcsIGRhdGEgfSwgcHJvY2Vzc29yKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZW5kKCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldEVycm9yKCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BhbnMubWpzLm1hcCIsImltcG9ydCB7IGRlZmF1bHRQcm9jZXNzb3IgfSBmcm9tIFwiLi9wcm9jZXNzb3IubWpzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVRyYWNlSWQgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbmV4cG9ydCBjbGFzcyBUcmFjZSB7XG4gICAgdHlwZSA9ICd0cmFjZSc7XG4gICAgdHJhY2VJZDtcbiAgICBuYW1lO1xuICAgIGdyb3VwSWQgPSBudWxsO1xuICAgIG1ldGFkYXRhO1xuICAgICNwcm9jZXNzb3I7XG4gICAgI3N0YXJ0ZWQ7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgcHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMudHJhY2VJZCA9IG9wdGlvbnMudHJhY2VJZCA/PyBnZW5lcmF0ZVRyYWNlSWQoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lID8/ICdBZ2VudCB3b3JrZmxvdyc7XG4gICAgICAgIHRoaXMuZ3JvdXBJZCA9IG9wdGlvbnMuZ3JvdXBJZCA/PyBudWxsO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSA/PyB7fTtcbiAgICAgICAgdGhpcy4jcHJvY2Vzc29yID0gcHJvY2Vzc29yID8/IGRlZmF1bHRQcm9jZXNzb3IoKTtcbiAgICAgICAgdGhpcy4jc3RhcnRlZCA9IG9wdGlvbnMuc3RhcnRlZCA/PyBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIGF3YWl0IHRoaXMuI3Byb2Nlc3Nvci5vblRyYWNlU3RhcnQodGhpcyk7XG4gICAgfVxuICAgIGFzeW5jIGVuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNzdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBhd2FpdCB0aGlzLiNwcm9jZXNzb3Iub25UcmFjZUVuZCh0aGlzKTtcbiAgICB9XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJhY2Uoe1xuICAgICAgICAgICAgdHJhY2VJZDogdGhpcy50cmFjZUlkLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgZ3JvdXBJZDogdGhpcy5ncm91cElkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhLFxuICAgICAgICAgICAgc3RhcnRlZDogdGhpcy4jc3RhcnRlZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9iamVjdDogdGhpcy50eXBlLFxuICAgICAgICAgICAgaWQ6IHRoaXMudHJhY2VJZCxcbiAgICAgICAgICAgIHdvcmtmbG93X25hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIGdyb3VwX2lkOiB0aGlzLmdyb3VwSWQsXG4gICAgICAgICAgICBtZXRhZGF0YTogdGhpcy5tZXRhZGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTm9vcFRyYWNlIGV4dGVuZHMgVHJhY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcih7fSk7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFzeW5jIGVuZCgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNlcy5tanMubWFwIiwiaW1wb3J0IHsgZ2V0Q3VycmVudFNwYW4sIGdldEN1cnJlbnRUcmFjZSB9IGZyb20gXCIuL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyB0cmFjaW5nIH0gZnJvbSBcIi4uL2NvbmZpZy5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4uL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IE11bHRpVHJhY2luZ1Byb2Nlc3NvciB9IGZyb20gXCIuL3Byb2Nlc3Nvci5tanNcIjtcbmltcG9ydCB7IE5vb3BTcGFuLCBTcGFuIH0gZnJvbSBcIi4vc3BhbnMubWpzXCI7XG5pbXBvcnQgeyBOb29wVHJhY2UsIFRyYWNlIH0gZnJvbSBcIi4vdHJhY2VzLm1qc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVUcmFjZUlkIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhY2VQcm92aWRlciB7XG4gICAgI211bHRpUHJvY2Vzc29yO1xuICAgICNkaXNhYmxlZDtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy4jbXVsdGlQcm9jZXNzb3IgPSBuZXcgTXVsdGlUcmFjaW5nUHJvY2Vzc29yKCk7XG4gICAgICAgIHRoaXMuI2Rpc2FibGVkID0gdHJhY2luZy5kaXNhYmxlZDtcbiAgICAgICAgdGhpcy4jYWRkQ2xlYW51cExpc3RlbmVycygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwcm9jZXNzb3IgdG8gdGhlIGxpc3Qgb2YgcHJvY2Vzc29ycy4gRWFjaCBwcm9jZXNzb3Igd2lsbCByZWNlaXZlIGFsbCB0cmFjZXMvc3BhbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcHJvY2Vzc29yIC0gVGhlIHByb2Nlc3NvciB0byBhZGQuXG4gICAgICovXG4gICAgcmVnaXN0ZXJQcm9jZXNzb3IocHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuI211bHRpUHJvY2Vzc29yLmFkZFRyYWNlUHJvY2Vzc29yKHByb2Nlc3Nvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGlzdCBvZiBwcm9jZXNzb3JzLiBUaGlzIHdpbGwgcmVwbGFjZSBhbnkgZXhpc3RpbmcgcHJvY2Vzc29ycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9jZXNzb3JzIC0gVGhlIGxpc3Qgb2YgcHJvY2Vzc29ycyB0byBzZXQuXG4gICAgICovXG4gICAgc2V0UHJvY2Vzc29ycyhwcm9jZXNzb3JzKSB7XG4gICAgICAgIHRoaXMuI211bHRpUHJvY2Vzc29yLnNldFByb2Nlc3NvcnMocHJvY2Vzc29ycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB0cmFjZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHRyYWNlLlxuICAgICAqL1xuICAgIGdldEN1cnJlbnRUcmFjZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldEN1cnJlbnRUcmFjZSgpO1xuICAgIH1cbiAgICBnZXRDdXJyZW50U3BhbigpIHtcbiAgICAgICAgcmV0dXJuIGdldEN1cnJlbnRTcGFuKCk7XG4gICAgfVxuICAgIHNldERpc2FibGVkKGRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuI2Rpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfVxuICAgIHN0YXJ0RXhwb3J0TG9vcCgpIHtcbiAgICAgICAgdGhpcy4jbXVsdGlQcm9jZXNzb3Iuc3RhcnQoKTtcbiAgICB9XG4gICAgY3JlYXRlVHJhY2UodHJhY2VPcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLiNkaXNhYmxlZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdUcmFjaW5nIGlzIGRpc2FibGVkLCBOb3QgY3JlYXRpbmcgdHJhY2UgJW8nLCB0cmFjZU9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb29wVHJhY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmFjZUlkID0gdHJhY2VPcHRpb25zLnRyYWNlSWQgPz8gZ2VuZXJhdGVUcmFjZUlkKCk7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0cmFjZU9wdGlvbnMubmFtZSA/PyAnQWdlbnQgd29ya2Zsb3cnO1xuICAgICAgICBsb2dnZXIuZGVidWcoJ0NyZWF0aW5nIHRyYWNlICVzIHdpdGggbmFtZSAlcycsIHRyYWNlSWQsIG5hbWUpO1xuICAgICAgICByZXR1cm4gbmV3IFRyYWNlKHsgLi4udHJhY2VPcHRpb25zLCBuYW1lLCB0cmFjZUlkIH0sIHRoaXMuI211bHRpUHJvY2Vzc29yKTtcbiAgICB9XG4gICAgY3JlYXRlU3BhbihzcGFuT3B0aW9ucywgcGFyZW50KSB7XG4gICAgICAgIGlmICh0aGlzLiNkaXNhYmxlZCB8fCBzcGFuT3B0aW9ucy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdUcmFjaW5nIGlzIGRpc2FibGVkLCBOb3QgY3JlYXRpbmcgc3BhbiAlbycsIHNwYW5PcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXJlbnRJZDtcbiAgICAgICAgbGV0IHRyYWNlSWQ7XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VHJhY2UgPSBnZXRDdXJyZW50VHJhY2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTcGFuID0gZ2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudFRyYWNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdObyBhY3RpdmUgdHJhY2UuIE1ha2Ugc3VyZSB0byBzdGFydCBhIHRyYWNlIHdpdGggYHdpdGhUcmFjZSgpYCBmaXJzdC4gUmV0dXJuaW5nIE5vb3BTcGFuLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTcGFuIGluc3RhbmNlb2YgTm9vcFNwYW4gfHxcbiAgICAgICAgICAgICAgICBjdXJyZW50VHJhY2UgaW5zdGFuY2VvZiBOb29wVHJhY2UpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFBhcmVudCAke2N1cnJlbnRTcGFufSBvciAke2N1cnJlbnRUcmFjZX0gaXMgbm8tb3AsIHJldHVybmluZyBOb29wU3BhbmApO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2VJZCA9IGN1cnJlbnRUcmFjZS50cmFjZUlkO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdVc2luZyBwYXJlbnQgc3BhbiAlcycsIGN1cnJlbnRTcGFuLnNwYW5JZCk7XG4gICAgICAgICAgICAgICAgcGFyZW50SWQgPSBjdXJyZW50U3Bhbi5zcGFuSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ05vIHBhcmVudCBzcGFuLCB1c2luZyBjdXJyZW50IHRyYWNlICVzJywgY3VycmVudFRyYWNlLnRyYWNlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFRyYWNlKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgTm9vcFRyYWNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdQYXJlbnQgdHJhY2UgaXMgbm8tb3AsIHJldHVybmluZyBOb29wU3BhbicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2VJZCA9IHBhcmVudC50cmFjZUlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFNwYW4pIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBOb29wU3Bhbikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnUGFyZW50IHNwYW4gaXMgbm8tb3AsIHJldHVybmluZyBOb29wU3BhbicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50SWQgPSBwYXJlbnQuc3BhbklkO1xuICAgICAgICAgICAgdHJhY2VJZCA9IHBhcmVudC50cmFjZUlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdHJhY2VJZCkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdObyB0cmFjZUlkIGZvdW5kLiBNYWtlIHN1cmUgdG8gc3RhcnQgYSB0cmFjZSB3aXRoIGB3aXRoVHJhY2UoKWAgZmlyc3QuIFJldHVybmluZyBOb29wU3Bhbi4nKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9vcFNwYW4oc3Bhbk9wdGlvbnMuZGF0YSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgQ3JlYXRpbmcgc3BhbiAke0pTT04uc3RyaW5naWZ5KHNwYW5PcHRpb25zLmRhdGEpfSB3aXRoIGlkICR7c3Bhbk9wdGlvbnMuc3BhbklkID8/IHRyYWNlSWR9YCk7XG4gICAgICAgIHJldHVybiBuZXcgU3Bhbih7XG4gICAgICAgICAgICAuLi5zcGFuT3B0aW9ucyxcbiAgICAgICAgICAgIHRyYWNlSWQsXG4gICAgICAgICAgICBwYXJlbnRJZCxcbiAgICAgICAgfSwgdGhpcy4jbXVsdGlQcm9jZXNzb3IpO1xuICAgIH1cbiAgICBhc3luYyBzaHV0ZG93bih0aW1lb3V0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1NodXR0aW5nIGRvd24gdHJhY2luZyBwcm92aWRlcicpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jbXVsdGlQcm9jZXNzb3Iuc2h1dGRvd24odGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHNodXR0aW5nIGRvd24gdHJhY2luZyBwcm92aWRlciAlbycsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQWRkcyBsaXN0ZW5lcnMgdG8gYHByb2Nlc3NgIHRvIGVuc3VyZSBgc2h1dGRvd25gIG9jY3VycyBiZWZvcmUgZXhpdC4gKi9cbiAgICAjYWRkQ2xlYW51cExpc3RlbmVycygpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2Vzcy5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gaGFuZGxpbmcgTm9kZS5qcyBwcm9jZXNzIHRlcm1pbmF0aW9uXG4gICAgICAgICAgICBjb25zdCBjbGVhbnVwID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDbGVhbnVwIHRpbWVvdXQsIGZvcmNpbmcgZXhpdCcpO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmV4aXQoMSk7XG4gICAgICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zaHV0ZG93bigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBIYW5kbGUgbm9ybWFsIHRlcm1pbmF0aW9uXG4gICAgICAgICAgICBwcm9jZXNzLm9uKCdiZWZvcmVFeGl0JywgY2xlYW51cCk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgQ1RSTCtDIChTSUdJTlQpXG4gICAgICAgICAgICBwcm9jZXNzLm9uKCdTSUdJTlQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3RoZXJMaXN0ZW5lcnNGb3JTaWduYWxzKCdTSUdJTlQnKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIGxpc3RlbmVycywgZXhpdCB0aGUgcHJvY2VzcyBvbiB0aGlzIFNESyBzaWRlXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxMzApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHRlcm1pbmF0aW9uIChTSUdURVJNKVxuICAgICAgICAgICAgcHJvY2Vzcy5vbignU0lHVEVSTScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPdGhlckxpc3RlbmVyc0ZvclNpZ25hbHMoJ1NJR1RFUk0nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIGxpc3RlbmVycywgZXhpdCB0aGUgcHJvY2VzcyBvbiB0aGlzIFNESyBzaWRlXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIGFzeW5jIChyZWFzb24sIHByb21pc2UpID0+IHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ1VuaGFuZGxlZCByZWplY3Rpb24nLCByZWFzb24sIHByb21pc2UpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc090aGVyTGlzdGVuZXJzRm9yRXZlbnRzKCd1bmhhbmRsZWRSZWplY3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIGxpc3RlbmVycywgZXhpdCB0aGUgcHJvY2VzcyBvbiB0aGlzIFNESyBzaWRlXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmb3JjZUZsdXNoKCkge1xuICAgICAgICBhd2FpdCB0aGlzLiNtdWx0aVByb2Nlc3Nvci5mb3JjZUZsdXNoKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzT3RoZXJMaXN0ZW5lcnNGb3JTaWduYWxzKGV2ZW50KSB7XG4gICAgcmV0dXJuIHByb2Nlc3MubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGggPiAxO1xufVxuZnVuY3Rpb24gaGFzT3RoZXJMaXN0ZW5lcnNGb3JFdmVudHMoZXZlbnQpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aCA+IDE7XG59XG5sZXQgR0xPQkFMX1RSQUNFX1BST1ZJREVSID0gdW5kZWZpbmVkO1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKSB7XG4gICAgaWYgKCFHTE9CQUxfVFJBQ0VfUFJPVklERVIpIHtcbiAgICAgICAgR0xPQkFMX1RSQUNFX1BST1ZJREVSID0gbmV3IFRyYWNlUHJvdmlkZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEdMT0JBTF9UUkFDRV9QUk9WSURFUjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3ZpZGVyLm1qcy5tYXAiLCJpbXBvcnQgeyByZXNldEN1cnJlbnRTcGFuLCBzZXRDdXJyZW50U3Bhbiwgd2l0aE5ld1NwYW5Db250ZXh0LCB9IGZyb20gXCIuL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXIubWpzXCI7XG5mdW5jdGlvbiBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVNwYW4pIHtcbiAgICByZXR1cm4gYXN5bmMgKGZuLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIC8vIENyZWF0aW5nIGEgbmV3IHNwYW4gY29udGV4dCB0byBtYWtlIHN1cmUgdGhhdCB0aGUgcHJldmlvdXMgc3BhbiBpcyBjb3JyZWN0bHkgcmVzZXRcbiAgICAgICAgcmV0dXJuIHdpdGhOZXdTcGFuQ29udGV4dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcGFuID0gY3JlYXRlU3BhbiguLi5hcmdzKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTcGFuKHNwYW4pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzcGFuLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZuKHNwYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGVycm9yLmRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgIHJlc2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHJlc3BvbnNlIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aFJlc3BvbnNlU3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKlxuICogVGhpcyBzcGFuIGNhcHR1cmVzIHRoZSBkZXRhaWxzIG9mIGEgbW9kZWwgcmVzcG9uc2UsIHByaW1hcmlseSB0aGUgcmVzcG9uc2UgaWRlbnRpZmllci5cbiAqIElmIHlvdSBuZWVkIHRvIGNhcHR1cmUgZGV0YWlsZWQgZ2VuZXJhdGlvbiBpbmZvcm1hdGlvbiBzdWNoIGFzIGlucHV0L291dHB1dCBtZXNzYWdlcyxcbiAqIG1vZGVsIGNvbmZpZ3VyYXRpb24sIG9yIHVzYWdlIGRhdGEsIHVzZSBgY3JlYXRlR2VuZXJhdGlvblNwYW4oKWAgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHNwYW4gY3JlYXRpb24gb3B0aW9ucywgaW5jbHVkaW5nIHNwYW4gZGF0YSBhbmQgaWRlbnRpZmllcnMuXG4gKiBAcGFyYW0gcGFyZW50IC0gVGhlIHBhcmVudCBzcGFuIG9yIHRyYWNlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjdXJyZW50IHRyYWNlL3NwYW4gd2lsbCBiZSB1c2VkXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIHJlc3BvbnNlIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZXNwb25zZVNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZScsXG4gICAgICAgICAgICAuLi5vcHRpb25zLmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHJlc3BvbnNlIHNwYW4gYW5kIGF1dG9tYXRpY2FsbHkgc3RhcnQgYW5kIGVuZCBpdC5cbiAqXG4gKiBUaGlzIHNwYW4gY2FwdHVyZXMgdGhlIGRldGFpbHMgb2YgYSBtb2RlbCByZXNwb25zZSwgcHJpbWFyaWx5IHRoZSByZXNwb25zZSBpZGVudGlmaWVyLlxuICogSWYgeW91IG5lZWQgdG8gY2FwdHVyZSBkZXRhaWxlZCBnZW5lcmF0aW9uIGluZm9ybWF0aW9uIHN1Y2ggYXMgaW5wdXQvb3V0cHV0IG1lc3NhZ2VzLFxuICogbW9kZWwgY29uZmlndXJhdGlvbiwgb3IgdXNhZ2UgZGF0YSwgdXNlIGBnZW5lcmF0aW9uU3BhbigpYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3Qgd2l0aFJlc3BvbnNlU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlUmVzcG9uc2VTcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGFnZW50IHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseSwgeW91IHNob3VsZCBlaXRoZXJcbiAqIHVzZSBgd2l0aEFnZW50U3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCBzcGFuIGNyZWF0aW9uIG9wdGlvbnMsIGluY2x1ZGluZyBzcGFuIGRhdGEgYW5kIGlkZW50aWZpZXJzLlxuICogQHBhcmFtIHBhcmVudCAtIFRoZSBwYXJlbnQgc3BhbiBvciB0cmFjZS4gSWYgbm90IHByb3ZpZGVkLCB0aGUgY3VycmVudCB0cmFjZS9zcGFuIHdpbGwgYmUgdXNlZFxuICogYXV0b21hdGljYWxseS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCBhZ2VudCBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWdlbnRTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdhZ2VudCcsXG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zPy5kYXRhPy5uYW1lID8/ICdBZ2VudCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zPy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBhZ2VudCBzcGFuIGFuZCBhdXRvbWF0aWNhbGx5IHN0YXJ0IGFuZCBlbmQgaXQuXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoQWdlbnRTcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVBZ2VudFNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZnVuY3Rpb24gc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoRnVuY3Rpb25TcGFuKClgIG9yIGNhbGwgYHNwYW4uc3RhcnQoKWAgYW5kIGBzcGFuLmVuZCgpYCBtYW51YWxseS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHNwYW4gY3JlYXRpb24gb3B0aW9ucywgaW5jbHVkaW5nIHNwYW4gZGF0YSBhbmQgaWRlbnRpZmllcnMuXG4gKiBAcGFyYW0gcGFyZW50IC0gVGhlIHBhcmVudCBzcGFuIG9yIHRyYWNlLiBJZiBub3QgcHJvdmlkZWQsIHRoZSBjdXJyZW50IHRyYWNlL3NwYW4gd2lsbCBiZSB1c2VkXG4gKiBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIGZ1bmN0aW9uIHNwYW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvblNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIGlucHV0OiBvcHRpb25zPy5kYXRhPy5pbnB1dCA/PyAnJyxcbiAgICAgICAgICAgIG91dHB1dDogb3B0aW9ucz8uZGF0YT8ub3V0cHV0ID8/ICcnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZnVuY3Rpb24gc3BhbiBhbmQgYXV0b21hdGljYWxseSBzdGFydCBhbmQgZW5kIGl0LlxuICovXG5leHBvcnQgY29uc3Qgd2l0aEZ1bmN0aW9uU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlRnVuY3Rpb25TcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGhhbmRvZmYgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoSGFuZG9mZlNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgc3BhbiBjcmVhdGlvbiBvcHRpb25zLCBpbmNsdWRpbmcgc3BhbiBkYXRhIGFuZCBpZGVudGlmaWVycy5cbiAqIEBwYXJhbSBwYXJlbnQgLSBUaGUgcGFyZW50IHNwYW4gb3IgdHJhY2UuIElmIG5vdCBwcm92aWRlZCwgdGhlIGN1cnJlbnQgdHJhY2Uvc3BhbiB3aWxsIGJlIHVzZWRcbiAqIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogQHJldHVybnMgVGhlIG5ld2x5IGNyZWF0ZWQgaGFuZG9mZiBzcGFuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGFuZG9mZlNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YTogeyB0eXBlOiAnaGFuZG9mZicsIC4uLm9wdGlvbnM/LmRhdGEgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaGFuZG9mZiBzcGFuIGFuZCBhdXRvbWF0aWNhbGx5IHN0YXJ0IGFuZCBlbmQgaXQuXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRoSGFuZG9mZlNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUhhbmRvZmZTcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGdlbmVyYXRpb24gc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlclxuICogdXNlIGB3aXRoR2VuZXJhdGlvblNwYW4oKWAgb3IgY2FsbCBgc3Bhbi5zdGFydCgpYCBhbmQgYHNwYW4uZW5kKClgIG1hbnVhbGx5LlxuICpcbiAqIFRoaXMgc3BhbiBjYXB0dXJlcyB0aGUgZGV0YWlscyBvZiBhIG1vZGVsIGdlbmVyYXRpb24sIGluY2x1ZGluZyBpbnB1dC9vdXRwdXQgbWVzc2FnZVxuICogc2VxdWVuY2VzLCBtb2RlbCBpbmZvcm1hdGlvbiwgYW5kIHVzYWdlIGRhdGEuIElmIHlvdSBvbmx5IG5lZWQgdG8gY2FwdHVyZSBhIG1vZGVsIHJlc3BvbnNlXG4gKiBpZGVudGlmaWVyLCBjb25zaWRlciB1c2luZyBgY3JlYXRlUmVzcG9uc2VTcGFuKClgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHZW5lcmF0aW9uU3BhbihvcHRpb25zLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVNwYW4oe1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiAnZ2VuZXJhdGlvbicsXG4gICAgICAgICAgICAuLi5vcHRpb25zPy5kYXRhLFxuICAgICAgICB9LFxuICAgIH0sIHBhcmVudCk7XG59XG4vKiogQXV0b21hdGljYWxseSBjcmVhdGUgYSBnZW5lcmF0aW9uIHNwYW4sIHJ1biBmbiBhbmQgY2xvc2UgdGhlIHNwYW4gKi9cbmV4cG9ydCBjb25zdCB3aXRoR2VuZXJhdGlvblNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZUdlbmVyYXRpb25TcGFuKTtcbi8qKlxuICogQ3JlYXRlIGEgbmV3IGN1c3RvbSBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHksIHlvdSBzaG91bGQgZWl0aGVyIHVzZVxuICogYHdpdGhDdXN0b21TcGFuKClgIG9yIGNhbGwgYHNwYW4uc3RhcnQoKWAgYW5kIGBzcGFuLmVuZCgpYCBtYW51YWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbVNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoQ3VzdG9tU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlQ3VzdG9tU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBndWFyZHJhaWwgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LCB5b3Ugc2hvdWxkIGVpdGhlciB1c2VcbiAqIGB3aXRoR3VhcmRyYWlsU3BhbigpYCBvciBjYWxsIGBzcGFuLnN0YXJ0KClgIGFuZCBgc3Bhbi5lbmQoKWAgbWFudWFsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHdWFyZHJhaWxTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdndWFyZHJhaWwnLFxuICAgICAgICAgICAgdHJpZ2dlcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnM/LmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoR3VhcmRyYWlsU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlR3VhcmRyYWlsU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyB0cmFuc2NyaXB0aW9uIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zY3JpcHRpb25TcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICd0cmFuc2NyaXB0aW9uJyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2NyaXB0aW9uU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlVHJhbnNjcmlwdGlvblNwYW4pO1xuLyoqXG4gKiBDcmVhdGUgYSBuZXcgc3BlZWNoIHNwYW4uIFRoZSBzcGFuIHdpbGwgbm90IGJlIHN0YXJ0ZWQgYXV0b21hdGljYWxseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNwZWVjaFNwYW4ob3B0aW9ucywgcGFyZW50KSB7XG4gICAgcmV0dXJuIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5jcmVhdGVTcGFuKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdHlwZTogJ3NwZWVjaCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zLmRhdGEsXG4gICAgICAgIH0sXG4gICAgfSwgcGFyZW50KTtcbn1cbmV4cG9ydCBjb25zdCB3aXRoU3BlZWNoU3BhbiA9IF93aXRoU3BhbkZhY3RvcnkoY3JlYXRlU3BlZWNoU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBzcGVlY2ggZ3JvdXAgc3Bhbi4gVGhlIHNwYW4gd2lsbCBub3QgYmUgc3RhcnRlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3BlZWNoR3JvdXBTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzcGVlY2hfZ3JvdXAnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhTcGVlY2hHcm91cFNwYW4gPSBfd2l0aFNwYW5GYWN0b3J5KGNyZWF0ZVNwZWVjaEdyb3VwU3Bhbik7XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBNQ1AgbGlzdCB0b29scyBzcGFuLiBUaGUgc3BhbiB3aWxsIG5vdCBiZSBzdGFydGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNQ1BMaXN0VG9vbHNTcGFuKG9wdGlvbnMsIHBhcmVudCkge1xuICAgIHJldHVybiBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHR5cGU6ICdtY3BfdG9vbHMnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucz8uZGF0YSxcbiAgICAgICAgfSxcbiAgICB9LCBwYXJlbnQpO1xufVxuZXhwb3J0IGNvbnN0IHdpdGhNQ1BMaXN0VG9vbHNTcGFuID0gX3dpdGhTcGFuRmFjdG9yeShjcmVhdGVNQ1BMaXN0VG9vbHNTcGFuKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVNwYW5zLm1qcy5tYXAiLCJpbXBvcnQgeyBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXIubWpzXCI7XG5leHBvcnQgeyBnZXRDdXJyZW50U3BhbiwgZ2V0Q3VycmVudFRyYWNlLCBnZXRPckNyZWF0ZVRyYWNlLCByZXNldEN1cnJlbnRTcGFuLCBzZXRDdXJyZW50U3Bhbiwgd2l0aFRyYWNlLCB9IGZyb20gXCIuL2NvbnRleHQubWpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jcmVhdGVTcGFucy5tanNcIjtcbmV4cG9ydCB7IEJhdGNoVHJhY2VQcm9jZXNzb3IsIENvbnNvbGVTcGFuRXhwb3J0ZXIsIH0gZnJvbSBcIi4vcHJvY2Vzc29yLm1qc1wiO1xuZXhwb3J0IHsgTm9vcFNwYW4sIFNwYW4gfSBmcm9tIFwiLi9zcGFucy5tanNcIjtcbmV4cG9ydCB7IE5vb3BUcmFjZSwgVHJhY2UgfSBmcm9tIFwiLi90cmFjZXMubWpzXCI7XG5leHBvcnQgeyBnZW5lcmF0ZUdyb3VwSWQsIGdlbmVyYXRlU3BhbklkLCBnZW5lcmF0ZVRyYWNlSWQgfSBmcm9tIFwiLi91dGlscy5tanNcIjtcbi8qKlxuICogQWRkIGEgcHJvY2Vzc29yIHRvIHRoZSBsaXN0IG9mIHByb2Nlc3NvcnMuIEVhY2ggcHJvY2Vzc29yIHdpbGwgcmVjZWl2ZSBhbGwgdHJhY2VzL3NwYW5zLlxuICpcbiAqIEBwYXJhbSBwcm9jZXNzb3IgLSBUaGUgcHJvY2Vzc29yIHRvIGFkZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFRyYWNlUHJvY2Vzc29yKHByb2Nlc3Nvcikge1xuICAgIGdldEdsb2JhbFRyYWNlUHJvdmlkZXIoKS5yZWdpc3RlclByb2Nlc3Nvcihwcm9jZXNzb3IpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGxpc3Qgb2YgcHJvY2Vzc29ycy4gVGhpcyB3aWxsIHJlcGxhY2UgYW55IGV4aXN0aW5nIHByb2Nlc3NvcnMuXG4gKlxuICogQHBhcmFtIHByb2Nlc3NvcnMgLSBUaGUgbGlzdCBvZiBwcm9jZXNzb3JzIHRvIHNldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRyYWNlUHJvY2Vzc29ycyhwcm9jZXNzb3JzKSB7XG4gICAgZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLnNldFByb2Nlc3NvcnMocHJvY2Vzc29ycyk7XG59XG4vKipcbiAqIFNldCB0aGUgZGlzYWJsZWQgc3RhdGUgb2YgdGhlIHRyYWNpbmcgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIGRpc2FibGVkIC0gV2hldGhlciB0byBkaXNhYmxlIHRyYWNpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmFjaW5nRGlzYWJsZWQoZGlzYWJsZWQpIHtcbiAgICBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuc2V0RGlzYWJsZWQoZGlzYWJsZWQpO1xufVxuLyoqXG4gKiBTdGFydCB0aGUgdHJhY2UgZXhwb3J0IGxvb3AuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFRyYWNlRXhwb3J0TG9vcCgpIHtcbiAgICBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuc3RhcnRFeHBvcnRMb29wKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiaW1wb3J0IHsgUnVudGltZUV2ZW50RW1pdHRlciwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5leHBvcnQgY2xhc3MgRXZlbnRFbWl0dGVyRGVsZWdhdGUge1xuICAgIG9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRFbWl0dGVyO1xuICAgIH1cbiAgICBvZmYodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub2ZmKHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRFbWl0dGVyO1xuICAgIH1cbiAgICBlbWl0KHR5cGUsIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQodHlwZSwgLi4uYXJncyk7XG4gICAgfVxuICAgIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub25jZSh0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50RW1pdHRlcjtcbiAgICB9XG59XG4vKipcbiAqIEV2ZW50IGVtaXR0ZXIgdGhhdCBldmVyeSBBZ2VudCBpbnN0YW5jZSBpbmhlcml0cyBmcm9tIGFuZCB0aGF0IGVtaXRzIGV2ZW50cyBmb3IgdGhlIGxpZmVjeWNsZVxuICogb2YgdGhlIGFnZW50LlxuICovXG5leHBvcnQgY2xhc3MgQWdlbnRIb29rcyBleHRlbmRzIEV2ZW50RW1pdHRlckRlbGVnYXRlIHtcbiAgICBldmVudEVtaXR0ZXIgPSBuZXcgUnVudGltZUV2ZW50RW1pdHRlcigpO1xufVxuLyoqXG4gKiBFdmVudCBlbWl0dGVyIHRoYXQgZXZlcnkgUnVubmVyIGluc3RhbmNlIGluaGVyaXRzIGZyb20gYW5kIHRoYXQgZW1pdHMgZXZlbnRzIGZvciB0aGUgbGlmZWN5Y2xlXG4gKiBvZiB0aGUgb3ZlcmFsbCBydW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5Ib29rcyBleHRlbmRzIEV2ZW50RW1pdHRlckRlbGVnYXRlIHtcbiAgICBldmVudEVtaXR0ZXIgPSBuZXcgUnVudGltZUV2ZW50RW1pdHRlcigpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmZWN5Y2xlLm1qcy5tYXAiLCJpbXBvcnQgeyBsb2FkRW52IH0gZnJvbSBcIi4vY29uZmlnLm1qc1wiO1xuZXhwb3J0IGNvbnN0IE9QRU5BSV9ERUZBVUxUX01PREVMX0VOVl9WQVJJQUJMRV9OQU1FID0gJ09QRU5BSV9ERUZBVUxUX01PREVMJztcbi8qKlxuICogUmV0dXJucyBUcnVlIGlmIHRoZSBtb2RlbCBuYW1lIGlzIGEgR1BULTUgbW9kZWwgYW5kIHJlYXNvbmluZyBzZXR0aW5ncyBhcmUgcmVxdWlyZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZChtb2RlbE5hbWUpIHtcbiAgICBpZiAobW9kZWxOYW1lLnN0YXJ0c1dpdGgoJ2dwdC01LWNoYXQnKSkge1xuICAgICAgICAvLyBncHQtNS1jaGF0LWxhdGVzdCBkb2VzIG5vdCByZXF1aXJlIHJlYXNvbmluZyBzZXR0aW5nc1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIG1hdGNoZXMgYW55IG9mIGdwdC01IG1vZGVsc1xuICAgIHJldHVybiBtb2RlbE5hbWUuc3RhcnRzV2l0aCgnZ3B0LTUnKTtcbn1cbi8qKlxuICogUmV0dXJucyBUcnVlIGlmIHRoZSBkZWZhdWx0IG1vZGVsIGlzIGEgR1BULTUgbW9kZWwuXG4gKiBUaGlzIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSBkZWZhdWx0IG1vZGVsIHNldHRpbmdzIGFyZSBjb21wYXRpYmxlIHdpdGggR1BULTUgbW9kZWxzLlxuICogSWYgdGhlIGRlZmF1bHQgbW9kZWwgaXMgbm90IGEgR1BULTUgbW9kZWwsIHRoZSBtb2RlbCBzZXR0aW5ncyBhcmUgY29tcGF0aWJsZSB3aXRoIG90aGVyIG1vZGVscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzR3B0NURlZmF1bHQoKSB7XG4gICAgcmV0dXJuIGdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkKGdldERlZmF1bHRNb2RlbCgpKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBtb2RlbCBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdE1vZGVsKCkge1xuICAgIGNvbnN0IGVudiA9IGxvYWRFbnYoKTtcbiAgICByZXR1cm4gKGVudltPUEVOQUlfREVGQVVMVF9NT0RFTF9FTlZfVkFSSUFCTEVfTkFNRV0/LnRvTG93ZXJDYXNlKCkgPz8gJ2dwdC00LjEnKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBtb2RlbCBzZXR0aW5ncy5cbiAqIElmIHRoZSBkZWZhdWx0IG1vZGVsIGlzIGEgR1BULTUgbW9kZWwsIHJldHVybnMgdGhlIEdQVC01IGRlZmF1bHQgbW9kZWwgc2V0dGluZ3MuXG4gKiBPdGhlcndpc2UsIHJldHVybnMgdGhlIGxlZ2FjeSBkZWZhdWx0IG1vZGVsIHNldHRpbmdzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdE1vZGVsU2V0dGluZ3MobW9kZWwpIHtcbiAgICBjb25zdCBfbW9kZWwgPSBtb2RlbCA/PyBnZXREZWZhdWx0TW9kZWwoKTtcbiAgICBpZiAoZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQoX21vZGVsKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiB7XG4gICAgICAgICAgICAgICAgLy8gV2UgY2hvc2UgXCJsb3dcIiBpbnN0ZWFkIG9mIFwibWluaW1hbFwiIGJlY2F1c2Ugc29tZSBvZiB0aGUgYnVpbHQtaW4gdG9vbHNcbiAgICAgICAgICAgICAgICAvLyAoZS5nLiwgZmlsZSBzZWFyY2gsIGltYWdlIGdlbmVyYXRpb24sIGV0Yy4pIGRvIG5vdCBzdXBwb3J0IFwibWluaW1hbFwiXG4gICAgICAgICAgICAgICAgLy8gSWYgeW91IHdhbnQgdG8gdXNlIFwibWluaW1hbFwiIHJlYXNvbmluZyBlZmZvcnQsIHlvdSBjYW4gcGFzcyB5b3VyIG93biBtb2RlbCBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIHJlYXNvbmluZzogeyBlZmZvcnQ6ICdsb3cnIH0sXG4gICAgICAgICAgICAgICAgdGV4dDogeyB2ZXJib3NpdHk6ICdsb3cnIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge307XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0TW9kZWwubWpzLm1hcCIsIi8qKlxuICogRGVmaW5lcyBhbiBpbnB1dCBndWFyZHJhaWwgZGVmaW5pdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZUlucHV0R3VhcmRyYWlsKHsgbmFtZSwgZXhlY3V0ZSwgfSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGd1YXJkcmFpbEZ1bmN0aW9uOiBleGVjdXRlLFxuICAgICAgICBhc3luYyBydW4oYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBndWFyZHJhaWw6IHsgdHlwZTogJ2lucHV0JywgbmFtZSB9LFxuICAgICAgICAgICAgICAgIG91dHB1dDogYXdhaXQgZXhlY3V0ZShhcmdzKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBvdXRwdXQgZ3VhcmRyYWlsIGRlZmluaXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVPdXRwdXRHdWFyZHJhaWwoeyBuYW1lLCBleGVjdXRlLCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ291dHB1dCcsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGd1YXJkcmFpbEZ1bmN0aW9uOiBleGVjdXRlLFxuICAgICAgICBhc3luYyBydW4oYXJncykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBndWFyZHJhaWw6IHsgdHlwZTogJ291dHB1dCcsIG5hbWUgfSxcbiAgICAgICAgICAgICAgICBhZ2VudDogYXJncy5hZ2VudCxcbiAgICAgICAgICAgICAgICBhZ2VudE91dHB1dDogYXJncy5hZ2VudE91dHB1dCxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IGF3YWl0IGV4ZWN1dGUoYXJncyksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ndWFyZHJhaWwubWpzLm1hcCIsImltcG9ydCB7IE1vZGVsQmVoYXZpb3JFcnJvciwgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgdG9GdW5jdGlvblRvb2xOYW1lIH0gZnJvbSBcIi4vdXRpbHMvdG9vbHMubWpzXCI7XG5pbXBvcnQgeyBnZXRTY2hlbWFBbmRQYXJzZXJGcm9tSW5wdXRUeXBlIH0gZnJvbSBcIi4vdXRpbHMvdG9vbHMubWpzXCI7XG5pbXBvcnQgeyBhZGRFcnJvclRvQ3VycmVudFNwYW4gfSBmcm9tIFwiLi90cmFjaW5nL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbi8qKlxuICogR2VuZXJhdGVzIHRoZSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBnaXZlbiBhcyB0b29sIG91dHB1dCB0byB0aGUgbW9kZWwgdGhhdCByZXF1ZXN0ZWQgdGhlIGhhbmRvZmYuXG4gKlxuICogQHBhcmFtIGFnZW50IFRoZSBhZ2VudCB0byB0cmFuc2ZlciB0b1xuICogQHJldHVybnMgVGhlIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIGdpdmVuIGFzIHRvb2wgb3V0cHV0IHRvIHRoZSBtb2RlbCB0aGF0IHJlcXVlc3RlZCB0aGUgaGFuZG9mZlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmZXJNZXNzYWdlKGFnZW50KSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgYXNzaXN0YW50OiBhZ2VudC5uYW1lIH0pO1xufVxuLyoqXG4gKiBUaGUgZGVmYXVsdCBuYW1lIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZi5cbiAqXG4gKiBAcGFyYW0gYWdlbnQgVGhlIGFnZW50IHRvIHRyYW5zZmVyIHRvXG4gKiBAcmV0dXJucyBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHJlcHJlc2VudHMgdGhlIGhhbmRvZmZcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEhhbmRvZmZUb29sTmFtZShhZ2VudCkge1xuICAgIHJldHVybiBgdHJhbnNmZXJfdG9fJHt0b0Z1bmN0aW9uVG9vbE5hbWUoYWdlbnQubmFtZSl9YDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgdG9vbCB0aGF0IHJlcHJlc2VudHMgdGhlIGhhbmRvZmYuXG4gKlxuICogQHBhcmFtIGFnZW50IFRoZSBhZ2VudCB0byB0cmFuc2ZlciB0b1xuICogQHJldHVybnMgVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZlxuICovXG5mdW5jdGlvbiBkZWZhdWx0SGFuZG9mZlRvb2xEZXNjcmlwdGlvbihhZ2VudCkge1xuICAgIHJldHVybiBgSGFuZG9mZiB0byB0aGUgJHthZ2VudC5uYW1lfSBhZ2VudCB0byBoYW5kbGUgdGhlIHJlcXVlc3QuICR7YWdlbnQuaGFuZG9mZkRlc2NyaXB0aW9uID8/ICcnfWA7XG59XG4vKipcbiAqIEEgaGFuZG9mZiBpcyB3aGVuIGFuIGFnZW50IGRlbGVnYXRlcyBhIHRhc2sgdG8gYW5vdGhlciBhZ2VudC5cbiAqIEZvciBleGFtcGxlLCBpbiBhIGN1c3RvbWVyIHN1cHBvcnQgc2NlbmFyaW8geW91IG1pZ2h0IGhhdmUgYSBcInRyaWFnZSBhZ2VudFwiIHRoYXQgZGV0ZXJtaW5lcyB3aGljaFxuICogYWdlbnQgc2hvdWxkIGhhbmRsZSB0aGUgdXNlcidzIHJlcXVlc3QsIGFuZCBzdWItYWdlbnRzIHRoYXQgc3BlY2lhbGl6ZSBpbiBkaWZmZXJlbnQgYXJlYXMgbGlrZVxuICogYmlsbGluZywgYWNjb3VudCBtYW5hZ2VtZW50LCBldGMuXG4gKlxuICogQHRlbXBsYXRlIFRDb250ZXh0IFRoZSBjb250ZXh0IG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVE91dHB1dCBUaGUgb3V0cHV0IHR5cGUgb2YgdGhlIGhhbmRvZmZcbiAqL1xuZXhwb3J0IGNsYXNzIEhhbmRvZmYge1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSB0b29sIHRoYXQgcmVwcmVzZW50cyB0aGUgaGFuZG9mZi5cbiAgICAgKi9cbiAgICB0b29sTmFtZTtcbiAgICAvKipcbiAgICAgKiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHRvb2wgdGhhdCByZXByZXNlbnRzIHRoZSBoYW5kb2ZmLlxuICAgICAqL1xuICAgIHRvb2xEZXNjcmlwdGlvbjtcbiAgICAvKipcbiAgICAgKiBUaGUgSlNPTiBzY2hlbWEgZm9yIHRoZSBoYW5kb2ZmIGlucHV0LiBDYW4gYmUgZW1wdHkgaWYgdGhlIGhhbmRvZmYgZG9lcyBub3QgdGFrZSBhbiBpbnB1dFxuICAgICAqL1xuICAgIGlucHV0SnNvblNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICByZXF1aXJlZDogW10sXG4gICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGlucHV0IEpTT04gc2NoZW1hIGlzIGluIHN0cmljdCBtb2RlLiBXZSAqKnN0cm9uZ2x5KiogcmVjb21tZW5kIHNldHRpbmcgdGhpcyB0b1xuICAgICAqIHRydWUsIGFzIGl0IGluY3JlYXNlcyB0aGUgbGlrZWxpaG9vZCBvZiBjb3JyZWN0IEpTT04gaW5wdXQuXG4gICAgICovXG4gICAgc3RyaWN0SnNvblNjaGVtYSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgaGFuZG9mZi4gVGhlIHBhcmFtZXRlcnMgcGFzc2VkIGFyZTpcbiAgICAgKiAxLiBUaGUgaGFuZG9mZiBydW4gY29udGV4dFxuICAgICAqIDIuIFRoZSBhcmd1bWVudHMgZnJvbSB0aGUgTExNLCBhcyBhIEpTT04gc3RyaW5nLiBFbXB0eSBzdHJpbmcgaWYgaW5wdXRKc29uU2NoZW1hIGlzIGVtcHR5LlxuICAgICAqXG4gICAgICogTXVzdCByZXR1cm4gYW4gYWdlbnRcbiAgICAgKi9cbiAgICBvbkludm9rZUhhbmRvZmY7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGFnZW50IHRoYXQgaXMgYmVpbmcgaGFuZGVkIG9mZiB0by5cbiAgICAgKi9cbiAgICBhZ2VudE5hbWU7XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IGZpbHRlcnMgdGhlIGlucHV0cyB0aGF0IGFyZSBwYXNzZWQgdG8gdGhlIG5leHQgYWdlbnQuIEJ5IGRlZmF1bHQsIHRoZSBuZXcgYWdlbnRcbiAgICAgKiBzZWVzIHRoZSBlbnRpcmUgY29udmVyc2F0aW9uIGhpc3RvcnkuIEluIHNvbWUgY2FzZXMsIHlvdSBtYXkgd2FudCB0byBmaWx0ZXIgaW5wdXRzIGUuZy4gdG9cbiAgICAgKiByZW1vdmUgb2xkZXIgaW5wdXRzLCBvciByZW1vdmUgdG9vbHMgZnJvbSBleGlzdGluZyBpbnB1dHMuXG4gICAgICpcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2lsbCByZWNlaXZlIHRoZSBlbnRpcmUgY29udmVyc2F0aW9uIGhpc3N0b3J5IHNvIGZhciwgaW5jbHVkaW5nIHRoZSBpbnB1dCBpdGVtXG4gICAgICogdGhhdCB0cmlnZ2VyZWQgdGhlIGhhbmRvZmYgYW5kIGEgdG9vbCBjYWxsIG91dHB1dCBpdGVtIHJlcHJlc2VudGluZyB0aGUgaGFuZG9mZiB0b29sJ3Mgb3V0cHV0LlxuICAgICAqXG4gICAgICogWW91IGFyZSBmcmVlIHRvIG1vZGlmeSB0aGUgaW5wdXQgaGlzdG9yeSBvciBuZXcgaXRlbXMgYXMgeW91IHNlZSBmaXQuIFRoZSBuZXh0IGFnZW50IHRoYXQgcnVuc1xuICAgICAqIHdpbGwgcmVjZWl2ZSBgaGFuZG9mZklucHV0RGF0YS5hbGxJdGVtc1xuICAgICAqL1xuICAgIGlucHV0RmlsdGVyO1xuICAgIC8qKlxuICAgICAqIFRoZSBhZ2VudCB0aGF0IGlzIGJlaW5nIGhhbmRlZCBvZmYgdG8uXG4gICAgICovXG4gICAgYWdlbnQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvb2wgZGVmaW5pdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGludm9rZSB0aGUgaGFuZG9mZi5cbiAgICAgKi9cbiAgICBnZXRIYW5kb2ZmQXNGdW5jdGlvblRvb2woKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgbmFtZTogdGhpcy50b29sTmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLnRvb2xEZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoaXMuaW5wdXRKc29uU2NoZW1hLFxuICAgICAgICAgICAgc3RyaWN0OiB0aGlzLnN0cmljdEpzb25TY2hlbWEsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGFnZW50LCBvbkludm9rZUhhbmRvZmYpIHtcbiAgICAgICAgdGhpcy5hZ2VudE5hbWUgPSBhZ2VudC5uYW1lO1xuICAgICAgICB0aGlzLm9uSW52b2tlSGFuZG9mZiA9IG9uSW52b2tlSGFuZG9mZjtcbiAgICAgICAgdGhpcy50b29sTmFtZSA9IGRlZmF1bHRIYW5kb2ZmVG9vbE5hbWUoYWdlbnQpO1xuICAgICAgICB0aGlzLnRvb2xEZXNjcmlwdGlvbiA9IGRlZmF1bHRIYW5kb2ZmVG9vbERlc2NyaXB0aW9uKGFnZW50KTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhhbmRvZmYgZnJvbSBhbiBhZ2VudC4gSGFuZG9mZnMgYXJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCB3aGVuIHlvdSBwYXNzIGFuIGFnZW50XG4gKiBpbnRvIHRoZSBgaGFuZG9mZnNgIG9wdGlvbiBvZiB0aGUgYEFnZW50YCBjb25zdHJ1Y3Rvci4gQWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgdGhpcyBmdW5jdGlvblxuICogdG8gY3JlYXRlIGEgaGFuZG9mZiBtYW51YWxseSwgZ2l2aW5nIHlvdSBtb3JlIGNvbnRyb2wgb3ZlciBjb25maWd1cmF0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUQ29udGV4dCBUaGUgY29udGV4dCBvZiB0aGUgaGFuZG9mZlxuICogQHRlbXBsYXRlIFRPdXRwdXQgVGhlIG91dHB1dCB0eXBlIG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVElucHV0VHlwZSBUaGUgaW5wdXQgdHlwZSBvZiB0aGUgaGFuZG9mZlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZG9mZihhZ2VudCwgY29uZmlnID0ge30pIHtcbiAgICBsZXQgcGFyc2VyID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGhhc09uSGFuZG9mZiA9ICEhY29uZmlnLm9uSGFuZG9mZjtcbiAgICBjb25zdCBoYXNJbnB1dFR5cGUgPSAhIWNvbmZpZy5pbnB1dFR5cGU7XG4gICAgY29uc3QgaGFzQm90aE9yTmVpdGhlckhhbmRvZmZBbmRJbnB1dFR5cGUgPSBoYXNPbkhhbmRvZmYgPT09IGhhc0lucHV0VHlwZTtcbiAgICBpZiAoIWhhc0JvdGhPck5laXRoZXJIYW5kb2ZmQW5kSW5wdXRUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1lvdSBtdXN0IHByb3ZpZGUgZWl0aGVyIGJvdGggYG9uSGFuZG9mZmAgYW5kIGBpbnB1dFR5cGVgIG9yIG5laXRoZXIuJyk7XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIG9uSW52b2tlSGFuZG9mZihjb250ZXh0LCBpbnB1dEpzb25TdHJpbmcpIHtcbiAgICAgICAgaWYgKHBhcnNlcikge1xuICAgICAgICAgICAgaWYgKCFpbnB1dEpzb25TdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgSGFuZG9mZiBmdW5jdGlvbiBleHBlY3RlZCBub24gZW1wdHkgaW5wdXQgYnV0IGdvdDogJHtpbnB1dEpzb25TdHJpbmd9YCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYGlucHV0IGlzIGVtcHR5YCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdIYW5kb2ZmIGZ1bmN0aW9uIGV4cGVjdGVkIG5vbiBlbXB0eSBpbnB1dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyB2ZXJpZnkgdGhhdCBpdCdzIHZhbGlkIGlucHV0IGJ1dCB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBwYXJzZXIoaW5wdXRKc29uU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm9uSGFuZG9mZikge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb25maWcub25IYW5kb2ZmKGNvbnRleHQsIHBhcnNlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYWRkRXJyb3JUb0N1cnJlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEludmFsaWQgSlNPTiBwcm92aWRlZGAsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghbG9nZ2VyLmRvbnRMb2dUb29sRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYEludmFsaWQgSlNPTiB3aGVuIHBhcnNpbmc6ICR7aW5wdXRKc29uU3RyaW5nfS4gRXJyb3I6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ0ludmFsaWQgSlNPTiBwcm92aWRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgY29uZmlnLm9uSGFuZG9mZj8uKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgY29uc3QgaGFuZG9mZiA9IG5ldyBIYW5kb2ZmKGFnZW50LCBvbkludm9rZUhhbmRvZmYpO1xuICAgIGlmIChjb25maWcuaW5wdXRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUoY29uZmlnLmlucHV0VHlwZSwgaGFuZG9mZi50b29sTmFtZSk7XG4gICAgICAgIGhhbmRvZmYuaW5wdXRKc29uU2NoZW1hID0gcmVzdWx0LnNjaGVtYTtcbiAgICAgICAgaGFuZG9mZi5zdHJpY3RKc29uU2NoZW1hID0gdHJ1ZTtcbiAgICAgICAgcGFyc2VyID0gcmVzdWx0LnBhcnNlcjtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy50b29sTmFtZU92ZXJyaWRlKSB7XG4gICAgICAgIGhhbmRvZmYudG9vbE5hbWUgPSBjb25maWcudG9vbE5hbWVPdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy50b29sRGVzY3JpcHRpb25PdmVycmlkZSkge1xuICAgICAgICBoYW5kb2ZmLnRvb2xEZXNjcmlwdGlvbiA9IGNvbmZpZy50b29sRGVzY3JpcHRpb25PdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5pbnB1dEZpbHRlcikge1xuICAgICAgICBoYW5kb2ZmLmlucHV0RmlsdGVyID0gY29uZmlnLmlucHV0RmlsdGVyO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZG9mZjtcbn1cbi8qKlxuICogUmV0dXJucyBhIGhhbmRvZmYgZm9yIHRoZSBnaXZlbiBhZ2VudC4gSWYgdGhlIGFnZW50IGlzIGFscmVhZHkgd3JhcHBlZCBpbnRvIGEgaGFuZG9mZixcbiAqIGl0IHdpbGwgYmUgcmV0dXJuZWQgYXMgaXMuIE90aGVyd2lzZSwgYSBuZXcgaGFuZG9mZiBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWQuXG4gKlxuICogQHRlbXBsYXRlIFRDb250ZXh0IFRoZSBjb250ZXh0IG9mIHRoZSBoYW5kb2ZmXG4gKiBAdGVtcGxhdGUgVE91dHB1dCBUaGUgb3V0cHV0IHR5cGUgb2YgdGhlIGhhbmRvZmZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhhbmRvZmYoYWdlbnQpIHtcbiAgICBpZiAoYWdlbnQgaW5zdGFuY2VvZiBIYW5kb2ZmKSB7XG4gICAgICAgIHJldHVybiBhZ2VudDtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRvZmYoYWdlbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFuZG9mZi5tanMubWFwIiwibGV0IERFRkFVTFRfUFJPVklERVI7XG4vKipcbiAqIFNldCB0aGUgbW9kZWwgcHJvdmlkZXIgdXNlZCB3aGVuIG5vIGV4cGxpY2l0IHByb3ZpZGVyIGlzIHN1cHBsaWVkLlxuICpcbiAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlciB0byB1c2UgYnkgZGVmYXVsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRNb2RlbFByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgREVGQVVMVF9QUk9WSURFUiA9IHByb3ZpZGVyO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkZWZhdWx0IG1vZGVsIHByb3ZpZGVyLlxuICpcbiAqIEByZXR1cm5zIFRoZSBkZWZhdWx0IG1vZGVsIHByb3ZpZGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIoKSB7XG4gICAgaWYgKHR5cGVvZiBERUZBVUxUX1BST1ZJREVSID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGRlZmF1bHQgbW9kZWwgcHJvdmlkZXIgc2V0LiBNYWtlIHN1cmUgdG8gc2V0IGEgcHJvdmlkZXIgdXNpbmcgc2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIgYmVmb3JlIGNhbGxpbmcgZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIgb3IgcGFzcyBhbiBleHBsaWNpdCBwcm92aWRlci4nKTtcbiAgICB9XG4gICAgcmV0dXJuIERFRkFVTFRfUFJPVklERVI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm92aWRlcnMubWpzLm1hcCIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU2hhcmVkIGJhc2UgdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8qKlxuICogRXZlcnkgaXRlbSBpbiB0aGUgcHJvdG9jb2wgcHJvdmlkZXMgYSBgcHJvdmlkZXJEYXRhYCBmaWVsZCB0byBhY2NvbW1vZGF0ZSBjdXN0b20gZnVuY3Rpb25hbGl0eVxuICogb3IgbmV3IGZpZWxkc1xuICovXG5leHBvcnQgY29uc3QgU2hhcmVkQmFzZSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBBZGRpdGlvbmFsIG9wdGlvbmFsIHByb3ZpZGVyIHNwZWNpZmljIGRhdGEuIFVzZWQgZm9yIGN1c3RvbSBmdW5jdGlvbmFsaXR5IG9yIG1vZGVsIHByb3ZpZGVyXG4gICAgICogc3BlY2lmaWMgZmllbGRzLlxuICAgICAqL1xuICAgIHByb3ZpZGVyRGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKSxcbn0pO1xuLyoqXG4gKiBFdmVyeSBpdGVtIGhhcyBhIHNoYXJlZCBvZiBzaGFyZWQgaXRlbSBkYXRhIGluY2x1ZGluZyBhbiBvcHRpb25hbCBJRC5cbiAqL1xuZXhwb3J0IGNvbnN0IEl0ZW1CYXNlID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEFuIElEIHRvIGlkZW50aWZ5IHRoZSBpdGVtLiBUaGlzIGlzIG9wdGlvbmFsIGJ5IGRlZmF1bHQuIElmIGEgbW9kZWwgcHJvdmlkZXIgYWJzb2x1dGVseVxuICAgICAqIHJlcXVpcmVzIHRoaXMgZmllbGQsIGl0IHdpbGwgYmUgdmFsaWRhdGVkIG9uIHRoZSBtb2RlbCBsZXZlbC5cbiAgICAgKi9cbiAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBDb250ZW50IHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY29uc3QgUmVmdXNhbCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlZnVzYWwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgcmVmdXNhbCBleHBsYW5hdGlvbiBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICByZWZ1c2FsOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgT3V0cHV0VGV4dCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF90ZXh0JyksXG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBJbnB1dFRleHQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF90ZXh0JyksXG4gICAgLyoqXG4gICAgICogQSB0ZXh0IGlucHV0IGZvciBleGFtcGxlIGEgbWVzc2FnZSBmcm9tIGEgdXNlclxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBSZWFzb25pbmdUZXh0ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVhc29uaW5nX3RleHQnKSxcbiAgICAvKipcbiAgICAgKiBBIHRleHQgaW5wdXQgZm9yIGV4YW1wbGUgYSBtZXNzYWdlIGZyb20gYSB1c2VyXG4gICAgICovXG4gICAgdGV4dDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IElucHV0SW1hZ2UgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9pbWFnZScpLFxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSBpbnB1dCB0byB0aGUgbW9kZWwuIENvdWxkIGJlIGEgVVJMLCBiYXNlNjQgb3IgYW4gb2JqZWN0IHdpdGggYSBmaWxlIElELlxuICAgICAqL1xuICAgIGltYWdlOiB6XG4gICAgICAgIC5zdHJpbmcoKVxuICAgICAgICAub3Ioei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICB9KSlcbiAgICAgICAgLmRlc2NyaWJlKCdDb3VsZCBiZSBhIFVSTCwgYmFzZTY0IG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC4nKSxcbn0pO1xuZXhwb3J0IGNvbnN0IElucHV0RmlsZSA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2ZpbGUnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgZmlsZSBpbnB1dCB0byB0aGUgbW9kZWwuIENvdWxkIGJlIGEgVVJMLCBiYXNlNjQgb3IgYW4gb2JqZWN0IHdpdGggYSBmaWxlIElELlxuICAgICAqL1xuICAgIGZpbGU6IHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5kZXNjcmliZSgnRWl0aGVyIGJhc2U2NCBlbmNvZGVkIGZpbGUgZGF0YSBvciBhIHB1YmxpY2x5IGFjY2Vzc2libGUgZmlsZSBVUkwnKVxuICAgICAgICAub3Ioei5vYmplY3Qoe1xuICAgICAgICBpZDogei5zdHJpbmcoKS5kZXNjcmliZSgnT3BlbkFJIGZpbGUgSUQnKSxcbiAgICB9KSlcbiAgICAgICAgLm9yKHoub2JqZWN0KHtcbiAgICAgICAgdXJsOiB6LnN0cmluZygpLmRlc2NyaWJlKCdQdWJsaWNseSBhY2Nlc3NpYmxlIFBERiBmaWxlIFVSTCcpLFxuICAgIH0pKVxuICAgICAgICAuZGVzY3JpYmUoJ0NvbnRlbnRzIG9mIHRoZSBmaWxlIG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC4nKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEF1ZGlvQ29udGVudCA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2F1ZGlvJyksXG4gICAgLyoqXG4gICAgICogVGhlIGF1ZGlvIGlucHV0IHRvIHRoZSBtb2RlbC4gQ291bGQgYmUgYmFzZTY0IGVuY29kZWQgYXVkaW8gZGF0YSBvciBhbiBvYmplY3Qgd2l0aCBhIGZpbGUgSUQuXG4gICAgICovXG4gICAgYXVkaW86IHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5vcih6Lm9iamVjdCh7XG4gICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgIH0pKVxuICAgICAgICAuZGVzY3JpYmUoJ0Jhc2U2NCBlbmNvZGVkIGF1ZGlvIGRhdGEgb3IgZmlsZSBpZCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBmb3JtYXQgb2YgdGhlIGF1ZGlvLlxuICAgICAqL1xuICAgIGZvcm1hdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zY3JpcHQgb2YgdGhlIGF1ZGlvLlxuICAgICAqL1xuICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgSW1hZ2VDb250ZW50ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW1hZ2UnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgaW1hZ2UgaW5wdXQgdG8gdGhlIG1vZGVsLiBDb3VsZCBiZSBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhIG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC5cbiAgICAgKi9cbiAgICBpbWFnZTogei5zdHJpbmcoKS5kZXNjcmliZSgnQmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YScpLFxufSk7XG5leHBvcnQgY29uc3QgVG9vbE91dHB1dFRleHQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd0ZXh0JyksXG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBUb29sT3V0cHV0SW1hZ2UgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbWFnZScpLFxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSBkYXRhLiBDb3VsZCBiZSBiYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhIG9yIGFuIG9iamVjdCB3aXRoIGEgZmlsZSBJRC5cbiAgICAgKi9cbiAgICBkYXRhOiB6LnN0cmluZygpLmRlc2NyaWJlKCdCYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhJyksXG4gICAgLyoqXG4gICAgICogVGhlIG1lZGlhIHR5cGUgb2YgdGhlIGltYWdlLlxuICAgICAqL1xuICAgIG1lZGlhVHlwZTogei5zdHJpbmcoKS5kZXNjcmliZSgnSUFOQSBtZWRpYSB0eXBlIG9mIHRoZSBpbWFnZScpLFxufSk7XG5leHBvcnQgY29uc3QgQ29tcHV0ZXJUb29sT3V0cHV0ID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29tcHV0ZXJfc2NyZWVuc2hvdCcpLFxuICAgIC8qKlxuICAgICAqIEEgYmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YSBvciBhIFVSTCByZXByZXNlbnRpbmcgdGhlIHNjcmVlbnNob3QuXG4gICAgICovXG4gICAgZGF0YTogei5zdHJpbmcoKS5kZXNjcmliZSgnQmFzZTY0IGVuY29kZWQgaW1hZ2UgZGF0YSBvciBVUkwnKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbXB1dGVyQWN0aW9ucyA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIHoub2JqZWN0KHsgdHlwZTogei5saXRlcmFsKCdzY3JlZW5zaG90JykgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2NsaWNrJyksXG4gICAgICAgIHg6IHoubnVtYmVyKCksXG4gICAgICAgIHk6IHoubnVtYmVyKCksXG4gICAgICAgIGJ1dHRvbjogei5lbnVtKFsnbGVmdCcsICdyaWdodCcsICd3aGVlbCcsICdiYWNrJywgJ2ZvcndhcmQnXSksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2RvdWJsZV9jbGljaycpLFxuICAgICAgICB4OiB6Lm51bWJlcigpLFxuICAgICAgICB5OiB6Lm51bWJlcigpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdzY3JvbGwnKSxcbiAgICAgICAgeDogei5udW1iZXIoKSxcbiAgICAgICAgeTogei5udW1iZXIoKSxcbiAgICAgICAgc2Nyb2xsX3g6IHoubnVtYmVyKCksXG4gICAgICAgIHNjcm9sbF95OiB6Lm51bWJlcigpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0eXBlJyksXG4gICAgICAgIHRleHQ6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgei5vYmplY3QoeyB0eXBlOiB6LmxpdGVyYWwoJ3dhaXQnKSB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbW92ZScpLFxuICAgICAgICB4OiB6Lm51bWJlcigpLFxuICAgICAgICB5OiB6Lm51bWJlcigpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdrZXlwcmVzcycpLFxuICAgICAgICBrZXlzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdkcmFnJyksXG4gICAgICAgIHBhdGg6IHouYXJyYXkoei5vYmplY3QoeyB4OiB6Lm51bWJlcigpLCB5OiB6Lm51bWJlcigpIH0pKSxcbiAgICB9KSxcbl0pO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gTWVzc2FnZSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IEFzc2lzdGFudENvbnRlbnQgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBPdXRwdXRUZXh0LFxuICAgIFJlZnVzYWwsXG4gICAgQXVkaW9Db250ZW50LFxuICAgIEltYWdlQ29udGVudCxcbl0pO1xuY29uc3QgTWVzc2FnZUJhc2UgPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEFueSBpdGVtIHdpdGhvdXQgYSB0eXBlIGlzIHRyZWF0ZWQgYXMgYSBtZXNzYWdlXG4gICAgICovXG4gICAgdHlwZTogei5saXRlcmFsKCdtZXNzYWdlJykub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEFzc2lzdGFudE1lc3NhZ2VJdGVtID0gTWVzc2FnZUJhc2UuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRpbmcgYSBtZXNzYWdlIGZyb20gdGhlIGFzc2lzdGFudCAoaS5lLiB0aGUgbW9kZWwpXG4gICAgICovXG4gICAgcm9sZTogei5saXRlcmFsKCdhc3Npc3RhbnQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJywgJ2luY29tcGxldGUnXSksXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogei5hcnJheShBc3Npc3RhbnRDb250ZW50KSxcbn0pO1xuZXhwb3J0IGNvbnN0IFVzZXJDb250ZW50ID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgSW5wdXRUZXh0LFxuICAgIElucHV0SW1hZ2UsXG4gICAgSW5wdXRGaWxlLFxuICAgIEF1ZGlvQ29udGVudCxcbl0pO1xuZXhwb3J0IGNvbnN0IFVzZXJNZXNzYWdlSXRlbSA9IE1lc3NhZ2VCYXNlLmV4dGVuZCh7XG4gICAgLy8gdHlwZTogei5saXRlcmFsKCdtZXNzYWdlJyksXG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50aW5nIGEgbWVzc2FnZSBmcm9tIHRoZSB1c2VyXG4gICAgICovXG4gICAgcm9sZTogei5saXRlcmFsKCd1c2VyJyksXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogei5hcnJheShVc2VyQ29udGVudCkub3Ioei5zdHJpbmcoKSksXG59KTtcbmNvbnN0IFN5c3RlbU1lc3NhZ2VJdGVtID0gTWVzc2FnZUJhc2UuZXh0ZW5kKHtcbiAgICAvLyB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKSxcbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRpbmcgYSBzeXN0ZW0gbWVzc2FnZSB0byB0aGUgdXNlclxuICAgICAqL1xuICAgIHJvbGU6IHoubGl0ZXJhbCgnc3lzdGVtJyksXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgY29udGVudDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IE1lc3NhZ2VJdGVtID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3JvbGUnLCBbXG4gICAgU3lzdGVtTWVzc2FnZUl0ZW0sXG4gICAgQXNzaXN0YW50TWVzc2FnZUl0ZW0sXG4gICAgVXNlck1lc3NhZ2VJdGVtLFxuXSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUb29sIGNhbGwgdHlwZXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjb25zdCBIb3N0ZWRUb29sQ2FsbEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaG9zdGVkX3Rvb2xfY2FsbCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBob3N0ZWQgdG9vbC4gRm9yIGV4YW1wbGUgYHdlYl9zZWFyY2hfY2FsbGAgb3IgYGZpbGVfc2VhcmNoX2NhbGxgXG4gICAgICovXG4gICAgbmFtZTogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIG5hbWUgb2YgdGhlIGhvc3RlZCB0b29sJyksXG4gICAgLyoqXG4gICAgICogVGhlIGFyZ3VtZW50cyBvZiB0aGUgaG9zdGVkIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM6IHpcbiAgICAgICAgLnN0cmluZygpXG4gICAgICAgIC5kZXNjcmliZSgnVGhlIGFyZ3VtZW50cyBvZiB0aGUgaG9zdGVkIHRvb2wgY2FsbCcpXG4gICAgICAgIC5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0dXMgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBzdGF0dXM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgcHJpbWFyeSBvdXRwdXQgb2YgdGhlIHRvb2wgY2FsbC4gQWRkaXRpb25hbCBvdXRwdXQgbWlnaHQgYmUgaW4gdGhlIGBwcm92aWRlckRhdGFgIGZpZWxkLlxuICAgICAqL1xuICAgIG91dHB1dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgRnVuY3Rpb25DYWxsSXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdmdW5jdGlvbl9jYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSB0b29sIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIHRvb2wgY2FsbCByZXN1bHQuXG4gICAgICovXG4gICAgY2FsbElkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgSUQgb2YgdGhlIHRvb2wgY2FsbCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24nKSxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBmdW5jdGlvbiBjYWxsLlxuICAgICAqL1xuICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJywgJ2luY29tcGxldGUnXSkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgYXJndW1lbnRzIG9mIHRoZSBmdW5jdGlvbiBjYWxsLlxuICAgICAqL1xuICAgIGFyZ3VtZW50czogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IEZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnZnVuY3Rpb25fY2FsbF9yZXN1bHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0aGF0IHdhcyBjYWxsZWRcbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgbmFtZSBvZiB0aGUgdG9vbCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgdG9vbCBjYWxsLiBSZXF1aXJlZCB0byBtYXRjaCB1cCB0aGUgcmVzcGVjdGl2ZSB0b29sIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSB0b29sIGNhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhdHVzIG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICAvKipcbiAgICAgKiBUaGUgb3V0cHV0IG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICovXG4gICAgb3V0cHV0OiB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtUb29sT3V0cHV0VGV4dCwgVG9vbE91dHB1dEltYWdlXSksXG59KTtcbmV4cG9ydCBjb25zdCBDb21wdXRlclVzZUNhbGxJdGVtID0gSXRlbUJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbXB1dGVyX2NhbGwnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIGNvbXB1dGVyIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBzdGF0dXM6IHouZW51bShbJ2luX3Byb2dyZXNzJywgJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJ10pLFxuICAgIC8qKlxuICAgICAqIFRoZSBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIGJ5IHRoZSBjb21wdXRlci5cbiAgICAgKi9cbiAgICBhY3Rpb246IGNvbXB1dGVyQWN0aW9ucyxcbn0pO1xuZXhwb3J0IGNvbnN0IENvbXB1dGVyQ2FsbFJlc3VsdEl0ZW0gPSBJdGVtQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29tcHV0ZXJfY2FsbF9yZXN1bHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGNvbXB1dGVyIGNhbGwuIFJlcXVpcmVkIHRvIG1hdGNoIHVwIHRoZSByZXNwZWN0aXZlIGNvbXB1dGVyIGNhbGwgcmVzdWx0LlxuICAgICAqL1xuICAgIGNhbGxJZDogei5zdHJpbmcoKS5kZXNjcmliZSgnVGhlIElEIG9mIHRoZSBjb21wdXRlciBjYWxsJyksXG4gICAgLyoqXG4gICAgICogVGhlIG91dHB1dCBvZiB0aGUgY29tcHV0ZXIgY2FsbC5cbiAgICAgKi9cbiAgICBvdXRwdXQ6IENvbXB1dGVyVG9vbE91dHB1dCxcbn0pO1xuZXhwb3J0IGNvbnN0IFRvb2xDYWxsSXRlbSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIENvbXB1dGVyVXNlQ2FsbEl0ZW0sXG4gICAgRnVuY3Rpb25DYWxsSXRlbSxcbiAgICBIb3N0ZWRUb29sQ2FsbEl0ZW0sXG5dKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFNwZWNpYWwgaXRlbSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFJlYXNvbmluZ0l0ZW0gPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlYXNvbmluZycpLFxuICAgIC8qKlxuICAgICAqIFRoZSB1c2VyIGZhY2luZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmVhc29uaW5nLiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIG1pZ2h0IGJlIGluIHRoZSBgcHJvdmlkZXJEYXRhYCBmaWVsZC5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LmFycmF5KElucHV0VGV4dCksXG4gICAgLyoqXG4gICAgICogVGhlIHJhdyByZWFzb25pbmcgdGV4dCBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICByYXdDb250ZW50OiB6LmFycmF5KFJlYXNvbmluZ1RleHQpLm9wdGlvbmFsKCksXG59KTtcbi8qKlxuICogVGhpcyBpcyBhIGNhdGNoIGFsbCBmb3IgaXRlbXMgdGhhdCBhcmUgbm90IHBhcnQgb2YgdGhlIHByb3RvY29sLlxuICpcbiAqIEZvciBleGFtcGxlLCBhIG1vZGVsIG1pZ2h0IHJldHVybiBhbiBpdGVtIHRoYXQgaXMgbm90IHBhcnQgb2YgdGhlIHByb3RvY29sIHVzaW5nIHRoaXMgdHlwZS5cbiAqXG4gKiBJbiB0aGF0IGNhc2UgZXZlcnl0aGluZyByZXR1cm5lZCBmcm9tIHRoZSBtb2RlbCBzaG91bGQgYmUgcGFzc2VkIGluIHRoZSBgcHJvdmlkZXJEYXRhYCBmaWVsZC5cbiAqXG4gKiBUaGlzIGVuYWJsZXMgbmV3IGZlYXR1cmVzIHRvIGJlIGFkZGVkIHRvIGJlIGFkZGVkIGJ5IGEgbW9kZWwgcHJvdmlkZXIgd2l0aG91dCBicmVha2luZyB0aGUgcHJvdG9jb2wuXG4gKi9cbmV4cG9ydCBjb25zdCBVbmtub3duSXRlbSA9IEl0ZW1CYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCd1bmtub3duJyksXG59KTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEpvaW5lZCBpdGVtIHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY29uc3QgT3V0cHV0TW9kZWxJdGVtID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgQXNzaXN0YW50TWVzc2FnZUl0ZW0sXG4gICAgSG9zdGVkVG9vbENhbGxJdGVtLFxuICAgIEZ1bmN0aW9uQ2FsbEl0ZW0sXG4gICAgQ29tcHV0ZXJVc2VDYWxsSXRlbSxcbiAgICBSZWFzb25pbmdJdGVtLFxuICAgIFVua25vd25JdGVtLFxuXSk7XG5leHBvcnQgY29uc3QgTW9kZWxJdGVtID0gei51bmlvbihbXG4gICAgVXNlck1lc3NhZ2VJdGVtLFxuICAgIEFzc2lzdGFudE1lc3NhZ2VJdGVtLFxuICAgIFN5c3RlbU1lc3NhZ2VJdGVtLFxuICAgIEhvc3RlZFRvb2xDYWxsSXRlbSxcbiAgICBGdW5jdGlvbkNhbGxJdGVtLFxuICAgIENvbXB1dGVyVXNlQ2FsbEl0ZW0sXG4gICAgRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICBDb21wdXRlckNhbGxSZXN1bHRJdGVtLFxuICAgIFJlYXNvbmluZ0l0ZW0sXG4gICAgVW5rbm93bkl0ZW0sXG5dKTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE1ldGEgZGF0YSB0eXBlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0IGNvbnN0IFVzYWdlRGF0YSA9IHoub2JqZWN0KHtcbiAgICByZXF1ZXN0czogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGlucHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIG91dHB1dFRva2Vuczogei5udW1iZXIoKSxcbiAgICB0b3RhbFRva2Vuczogei5udW1iZXIoKSxcbiAgICBpbnB1dFRva2Vuc0RldGFpbHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHoubnVtYmVyKCkpLm9wdGlvbmFsKCksXG4gICAgb3V0cHV0VG9rZW5zRGV0YWlsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5udW1iZXIoKSkub3B0aW9uYWwoKSxcbn0pO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gU3RyZWFtIGV2ZW50IHR5cGVzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIEV2ZW50IHJldHVybmVkIGJ5IHRoZSBtb2RlbCB3aGVuIG5ldyBvdXRwdXQgdGV4dCBpcyBhdmFpbGFibGUgdG8gc3RyZWFtIHRvIHRoZSB1c2VyLlxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtRXZlbnRUZXh0U3RyZWFtID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnb3V0cHV0X3RleHRfZGVsdGEnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgZGVsdGEgdGV4dCB0aGF0IHdhcyBzdHJlYW1lZCBieSB0aGUgbW9kZWx0byB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbn0pO1xuLyoqXG4gKiBFdmVudCByZXR1cm5lZCBieSB0aGUgbW9kZWwgd2hlbiBhIG5ldyByZXNwb25zZSBpcyBzdGFydGVkLlxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtRXZlbnRSZXNwb25zZVN0YXJ0ZWQgPSBTaGFyZWRCYXNlLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZV9zdGFydGVkJyksXG59KTtcbi8qKlxuICogRXZlbnQgcmV0dXJuZWQgYnkgdGhlIG1vZGVsIHdoZW4gYSByZXNwb25zZSBpcyBjb21wbGV0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1FdmVudFJlc3BvbnNlQ29tcGxldGVkID0gU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2VfZG9uZScpLFxuICAgIC8qKlxuICAgICAqIFRoZSByZXNwb25zZSBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICByZXNwb25zZTogU2hhcmVkQmFzZS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSByZXNwb25zZS5cbiAgICAgICAgICovXG4gICAgICAgIGlkOiB6LnN0cmluZygpLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVzYWdlIGRhdGEgZm9yIHRoZSByZXNwb25zZS5cbiAgICAgICAgICovXG4gICAgICAgIHVzYWdlOiBVc2FnZURhdGEsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3V0cHV0IGZyb20gdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgb3V0cHV0OiB6LmFycmF5KE91dHB1dE1vZGVsSXRlbSksXG4gICAgfSksXG59KTtcbi8qKlxuICogRXZlbnQgcmV0dXJuZWQgZm9yIGV2ZXJ5IGl0ZW0gdGhhdCBnZXRzIHN0cmVhbWVkIHRvIHRoZSBtb2RlbC4gVXNlZCB0byBleHBvc2UgdGhlIHJhdyBldmVudHNcbiAqIGZyb20gdGhlIG1vZGVsLlxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtRXZlbnRHZW5lcmljSXRlbSA9IFNoYXJlZEJhc2UuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21vZGVsJyksXG4gICAgZXZlbnQ6IHouYW55KCkuZGVzY3JpYmUoJ1RoZSBldmVudCBmcm9tIHRoZSBtb2RlbCcpLFxufSk7XG5leHBvcnQgY29uc3QgU3RyZWFtRXZlbnQgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBTdHJlYW1FdmVudFRleHRTdHJlYW0sXG4gICAgU3RyZWFtRXZlbnRSZXNwb25zZUNvbXBsZXRlZCxcbiAgICBTdHJlYW1FdmVudFJlc3BvbnNlU3RhcnRlZCxcbiAgICBTdHJlYW1FdmVudEdlbmVyaWNJdGVtLFxuXSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm90b2NvbC5tanMubWFwIiwiaW1wb3J0IHsgVXNhZ2VEYXRhIH0gZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG4vKipcbiAqIFRyYWNrcyB0b2tlbiB1c2FnZSBhbmQgcmVxdWVzdCBjb3VudHMgZm9yIGFuIGFnZW50IHJ1bi5cbiAqL1xuZXhwb3J0IGNsYXNzIFVzYWdlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHJlcXVlc3RzIG1hZGUgdG8gdGhlIExMTSBBUEkuXG4gICAgICovXG4gICAgcmVxdWVzdHM7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBpbnB1dCB0b2tlbnMgdXNlZCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIGlucHV0VG9rZW5zO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygb3V0cHV0IHRva2VucyB1c2VkIGFjcm9zcyBhbGwgcmVxdWVzdHMuXG4gICAgICovXG4gICAgb3V0cHV0VG9rZW5zO1xuICAgIC8qKlxuICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgdG9rZW5zIHNlbnQgYW5kIHJlY2VpdmVkLCBhY3Jvc3MgYWxsIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIHRvdGFsVG9rZW5zO1xuICAgIC8qKlxuICAgICAqIERldGFpbHMgYWJvdXQgdGhlIGlucHV0IHRva2VucyB1c2VkIGFjcm9zcyBhbGwgcmVxdWVzdHMuXG4gICAgICovXG4gICAgaW5wdXRUb2tlbnNEZXRhaWxzID0gW107XG4gICAgLyoqXG4gICAgICogRGV0YWlscyBhYm91dCB0aGUgb3V0cHV0IHRva2VucyB1c2VkIGFjcm9zcyBhbGwgcmVxdWVzdHMuXG4gICAgICovXG4gICAgb3V0cHV0VG9rZW5zRGV0YWlscyA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RzID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnMgPSAwO1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnMgPSAwO1xuICAgICAgICAgICAgdGhpcy50b3RhbFRva2VucyA9IDA7XG4gICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zRGV0YWlscyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRUb2tlbnNEZXRhaWxzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RzID0gaW5wdXQ/LnJlcXVlc3RzID8/IDE7XG4gICAgICAgICAgICB0aGlzLmlucHV0VG9rZW5zID0gaW5wdXQ/LmlucHV0VG9rZW5zID8/IGlucHV0Py5pbnB1dF90b2tlbnMgPz8gMDtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0VG9rZW5zID0gaW5wdXQ/Lm91dHB1dFRva2VucyA/PyBpbnB1dD8ub3V0cHV0X3Rva2VucyA/PyAwO1xuICAgICAgICAgICAgdGhpcy50b3RhbFRva2VucyA9IGlucHV0Py50b3RhbFRva2VucyA/PyBpbnB1dD8udG90YWxfdG9rZW5zID8/IDA7XG4gICAgICAgICAgICBjb25zdCBpbnB1dFRva2Vuc0RldGFpbHMgPSBpbnB1dD8uaW5wdXRUb2tlbnNEZXRhaWxzID8/IGlucHV0Py5pbnB1dF90b2tlbnNfZGV0YWlscztcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnNEZXRhaWxzID0gaW5wdXRUb2tlbnNEZXRhaWxzXG4gICAgICAgICAgICAgICAgPyBbaW5wdXRUb2tlbnNEZXRhaWxzXVxuICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRUb2tlbnNEZXRhaWxzID0gaW5wdXQ/Lm91dHB1dFRva2Vuc0RldGFpbHMgPz8gaW5wdXQ/Lm91dHB1dF90b2tlbnNfZGV0YWlscztcbiAgICAgICAgICAgIHRoaXMub3V0cHV0VG9rZW5zRGV0YWlscyA9IG91dHB1dFRva2Vuc0RldGFpbHNcbiAgICAgICAgICAgICAgICA/IFtvdXRwdXRUb2tlbnNEZXRhaWxzXVxuICAgICAgICAgICAgICAgIDogW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkKG5ld1VzYWdlKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdHMgKz0gbmV3VXNhZ2UucmVxdWVzdHM7XG4gICAgICAgIHRoaXMuaW5wdXRUb2tlbnMgKz0gbmV3VXNhZ2UuaW5wdXRUb2tlbnM7XG4gICAgICAgIHRoaXMub3V0cHV0VG9rZW5zICs9IG5ld1VzYWdlLm91dHB1dFRva2VucztcbiAgICAgICAgdGhpcy50b3RhbFRva2VucyArPSBuZXdVc2FnZS50b3RhbFRva2VucztcbiAgICAgICAgaWYgKG5ld1VzYWdlLmlucHV0VG9rZW5zRGV0YWlscykge1xuICAgICAgICAgICAgLy8gVGhlIHR5cGUgZG9lcyBub3QgYWxsb3cgdW5kZWZpbmVkLCBidXQgaXQgY291bGQgaGFwcGVuIHJ1bnRpbWVcbiAgICAgICAgICAgIHRoaXMuaW5wdXRUb2tlbnNEZXRhaWxzLnB1c2goLi4ubmV3VXNhZ2UuaW5wdXRUb2tlbnNEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3VXNhZ2Uub3V0cHV0VG9rZW5zRGV0YWlscykge1xuICAgICAgICAgICAgLy8gVGhlIHR5cGUgZG9lcyBub3QgYWxsb3cgdW5kZWZpbmVkLCBidXQgaXQgY291bGQgaGFwcGVuIHJ1bnRpbWVcbiAgICAgICAgICAgIHRoaXMub3V0cHV0VG9rZW5zRGV0YWlscy5wdXNoKC4uLm5ld1VzYWdlLm91dHB1dFRva2Vuc0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IHsgVXNhZ2VEYXRhIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2FnZS5tanMubWFwIiwiaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBVc2FnZSB9IGZyb20gXCIuL3VzYWdlLm1qc1wiO1xuLyoqXG4gKiBBIGNvbnRleHQgb2JqZWN0IHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBgUnVubmVyLnJ1bigpYCBtZXRob2QuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5Db250ZXh0IHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGV4dCBvYmplY3QgeW91IHBhc3NlZCB0byB0aGUgYFJ1bm5lci5ydW4oKWAgbWV0aG9kLlxuICAgICAqL1xuICAgIGNvbnRleHQ7XG4gICAgLyoqXG4gICAgICogVGhlIHVzYWdlIG9mIHRoZSBhZ2VudCBydW4gc28gZmFyLiBGb3Igc3RyZWFtZWQgcmVzcG9uc2VzLCB0aGUgdXNhZ2Ugd2lsbCBiZSBzdGFsZSB1bnRpbCB0aGVcbiAgICAgKiBsYXN0IGNodW5rIG9mIHRoZSBzdHJlYW0gaXMgcHJvY2Vzc2VkLlxuICAgICAqL1xuICAgIHVzYWdlO1xuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHRvb2wgbmFtZXMgdG8gd2hldGhlciB0aGV5IGhhdmUgYmVlbiBhcHByb3ZlZC5cbiAgICAgKi9cbiAgICAjYXBwcm92YWxzO1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQgPSB7fSkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnVzYWdlID0gbmV3IFVzYWdlKCk7XG4gICAgICAgIHRoaXMuI2FwcHJvdmFscyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVidWlsZCB0aGUgYXBwcm92YWxzIG1hcCBmcm9tIGEgc2VyaWFsaXplZCBzdGF0ZS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbHMgLSBUaGUgYXBwcm92YWxzIG1hcCB0byByZWJ1aWxkLlxuICAgICAqL1xuICAgIF9yZWJ1aWxkQXBwcm92YWxzKGFwcHJvdmFscykge1xuICAgICAgICB0aGlzLiNhcHByb3ZhbHMgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGFwcHJvdmFscykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHRvb2wgY2FsbCBoYXMgYmVlbiBhcHByb3ZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0b29sTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB0b29sLlxuICAgICAqIEBwYXJhbSBjYWxsSWQgLSBUaGUgY2FsbCBJRCBvZiB0aGUgdG9vbCBjYWxsLlxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgdG9vbCBjYWxsIGhhcyBiZWVuIGFwcHJvdmVkLCBgZmFsc2VgIGlmIGJsb2NrZWQgYW5kIGB1bmRlZmluZWRgIGlmIG5vdCB5ZXQgYXBwcm92ZWQgb3IgcmVqZWN0ZWQuXG4gICAgICovXG4gICAgaXNUb29sQXBwcm92ZWQoeyB0b29sTmFtZSwgY2FsbElkIH0pIHtcbiAgICAgICAgY29uc3QgYXBwcm92YWxFbnRyeSA9IHRoaXMuI2FwcHJvdmFscy5nZXQodG9vbE5hbWUpO1xuICAgICAgICBpZiAoYXBwcm92YWxFbnRyeT8uYXBwcm92ZWQgPT09IHRydWUgJiYgYXBwcm92YWxFbnRyeS5yZWplY3RlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1Rvb2wgaXMgcGVybWFuZW50bHkgYXBwcm92ZWQgYW5kIHJlamVjdGVkIGF0IHRoZSBzYW1lIHRpbWUuIEFwcHJvdmFsIHRha2VzIHByZWNlZGVuY2UnKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcHByb3ZhbEVudHJ5Py5hcHByb3ZlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwcHJvdmFsRW50cnk/LnJlamVjdGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kaXZpZHVhbENhbGxBcHByb3ZhbCA9IEFycmF5LmlzQXJyYXkoYXBwcm92YWxFbnRyeT8uYXBwcm92ZWQpXG4gICAgICAgICAgICA/IGFwcHJvdmFsRW50cnkuYXBwcm92ZWQuaW5jbHVkZXMoY2FsbElkKVxuICAgICAgICAgICAgOiBmYWxzZTtcbiAgICAgICAgY29uc3QgaW5kaXZpZHVhbENhbGxSZWplY3Rpb24gPSBBcnJheS5pc0FycmF5KGFwcHJvdmFsRW50cnk/LnJlamVjdGVkKVxuICAgICAgICAgICAgPyBhcHByb3ZhbEVudHJ5LnJlamVjdGVkLmluY2x1ZGVzKGNhbGxJZClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgICAgIGlmIChpbmRpdmlkdWFsQ2FsbEFwcHJvdmFsICYmIGluZGl2aWR1YWxDYWxsUmVqZWN0aW9uKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihgVG9vbCBjYWxsICR7Y2FsbElkfSBpcyBib3RoIGFwcHJvdmVkIGFuZCByZWplY3RlZCBhdCB0aGUgc2FtZSB0aW1lLiBBcHByb3ZhbCB0YWtlcyBwcmVjZWRlbmNlYCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kaXZpZHVhbENhbGxBcHByb3ZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGl2aWR1YWxDYWxsUmVqZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwcm92ZSBhIHRvb2wgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0b29sTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB0b29sLlxuICAgICAqIEBwYXJhbSBjYWxsSWQgLSBUaGUgY2FsbCBJRCBvZiB0aGUgdG9vbCBjYWxsLlxuICAgICAqL1xuICAgIGFwcHJvdmVUb29sKGFwcHJvdmFsSXRlbSwgeyBhbHdheXNBcHByb3ZlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHRvb2xOYW1lID0gYXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZTtcbiAgICAgICAgaWYgKGFsd2F5c0FwcHJvdmUpIHtcbiAgICAgICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByZWplY3RlZDogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHByb3ZhbEVudHJ5ID0gdGhpcy4jYXBwcm92YWxzLmdldCh0b29sTmFtZSkgPz8ge1xuICAgICAgICAgICAgYXBwcm92ZWQ6IFtdLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcHByb3ZhbEVudHJ5LmFwcHJvdmVkKSkge1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gdG9vbCBoYXMgY2FsbF9pZCwgaG9zdGVkIHRvb2wgY2FsbCBoYXMgaWRcbiAgICAgICAgICAgIGNvbnN0IGNhbGxJZCA9ICdjYWxsSWQnIGluIGFwcHJvdmFsSXRlbS5yYXdJdGVtXG4gICAgICAgICAgICAgICAgPyBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5jYWxsSWQgLy8gZnVuY3Rpb24gdG9vbHNcbiAgICAgICAgICAgICAgICA6IGFwcHJvdmFsSXRlbS5yYXdJdGVtLmlkOyAvLyBob3N0ZWQgdG9vbHNcbiAgICAgICAgICAgIGFwcHJvdmFsRW50cnkuYXBwcm92ZWQucHVzaChjYWxsSWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2FwcHJvdmFscy5zZXQodG9vbE5hbWUsIGFwcHJvdmFsRW50cnkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3QgYSB0b29sIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwcm92YWxJdGVtIC0gVGhlIHRvb2wgYXBwcm92YWwgaXRlbSB0byByZWplY3QuXG4gICAgICovXG4gICAgcmVqZWN0VG9vbChhcHByb3ZhbEl0ZW0sIHsgYWx3YXlzUmVqZWN0ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHRvb2xOYW1lID0gYXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZTtcbiAgICAgICAgaWYgKGFsd2F5c1JlamVjdCkge1xuICAgICAgICAgICAgdGhpcy4jYXBwcm92YWxzLnNldCh0b29sTmFtZSwge1xuICAgICAgICAgICAgICAgIGFwcHJvdmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZWplY3RlZDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwcHJvdmFsRW50cnkgPSB0aGlzLiNhcHByb3ZhbHMuZ2V0KHRvb2xOYW1lKSA/PyB7XG4gICAgICAgICAgICBhcHByb3ZlZDogW10sXG4gICAgICAgICAgICByZWplY3RlZDogW10sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFwcHJvdmFsRW50cnkucmVqZWN0ZWQpKSB7XG4gICAgICAgICAgICAvLyBmdW5jdGlvbiB0b29sIGhhcyBjYWxsX2lkLCBob3N0ZWQgdG9vbCBjYWxsIGhhcyBpZFxuICAgICAgICAgICAgY29uc3QgY2FsbElkID0gJ2NhbGxJZCcgaW4gYXBwcm92YWxJdGVtLnJhd0l0ZW1cbiAgICAgICAgICAgICAgICA/IGFwcHJvdmFsSXRlbS5yYXdJdGVtLmNhbGxJZCAvLyBmdW5jdGlvbiB0b29sc1xuICAgICAgICAgICAgICAgIDogYXBwcm92YWxJdGVtLnJhd0l0ZW0uaWQ7IC8vIGhvc3RlZCB0b29sc1xuICAgICAgICAgICAgYXBwcm92YWxFbnRyeS5yZWplY3RlZC5wdXNoKGNhbGxJZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jYXBwcm92YWxzLnNldCh0b29sTmFtZSwgYXBwcm92YWxFbnRyeSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHVzYWdlOiB0aGlzLnVzYWdlLFxuICAgICAgICAgICAgYXBwcm92YWxzOiBPYmplY3QuZnJvbUVudHJpZXModGhpcy4jYXBwcm92YWxzLmVudHJpZXMoKSksXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVuQ29udGV4dC5tanMubWFwIiwiaW1wb3J0IHsgUmVhZGFibGVTdHJlYW0gYXMgX1JlYWRhYmxlU3RyZWFtLCBUcmFuc2Zvcm1TdHJlYW0sIFJlYWRhYmxlLCB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmltcG9ydCB7IGdldFR1cm5JbnB1dCB9IGZyb20gXCIuL3J1bi5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgU3RyZWFtRXZlbnRUZXh0U3RyZWFtIH0gZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG5jbGFzcyBSdW5SZXN1bHRCYXNlIHtcbiAgICBzdGF0ZTtcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBoaXN0b3J5IG9mIHRoZSBhZ2VudCBydW4uIFRoaXMgaW5jbHVkZXMgdGhlIGlucHV0IGl0ZW1zIGFuZCB0aGUgbmV3IGl0ZW1zIGdlbmVyYXRlZCBkdXJpbmdcbiAgICAgKiB0aGUgYWdlbnQgcnVuLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBhcyBpbnB1dHMgZm9yIHRoZSBuZXh0IGFnZW50IHJ1bi5cbiAgICAgKi9cbiAgICBnZXQgaGlzdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIGdldFR1cm5JbnB1dCh0aGlzLmlucHV0LCB0aGlzLm5ld0l0ZW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG5ldyBpdGVtcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBhZ2VudCBydW4uIFRoZXNlIGluY2x1ZGUgdGhpbmdzIGxpa2UgbmV3IG1lc3NhZ2VzLCB0b29sXG4gICAgICogY2FsbHMgYW5kIHRoZWlyIG91dHB1dHMsIGV0Yy5cbiAgICAgKlxuICAgICAqIEl0IGRvZXMgbm90IGluY2x1ZGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFnZW50cyBhbmQgaW5zdGVhZCByZXByZXNlbnRzIHRoZSBtb2RlbCBkYXRhLlxuICAgICAqXG4gICAgICogRm9yIHRoZSBvdXRwdXQgaW5jbHVkaW5nIHRoZSBhZ2VudHMsIHVzZSB0aGUgYG5ld0l0ZW1zYCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBnZXQgb3V0cHV0KCkge1xuICAgICAgICByZXR1cm4gZ2V0VHVybklucHV0KFtdLCB0aGlzLm5ld0l0ZW1zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBpbnB1dCBpdGVtcy5cbiAgICAgKi9cbiAgICBnZXQgaW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9vcmlnaW5hbElucHV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcnVuIGl0ZW1zIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGFnZW50IHJ1bi4gVGhpcyBhc3NvY2lhdGVzIHRoZSBtb2RlbCBkYXRhIHdpdGggdGhlIGFnZW50cy5cbiAgICAgKlxuICAgICAqIEZvciB0aGUgbW9kZWwgZGF0YSB0aGF0IGNhbiBiZSB1c2VkIGFzIGlucHV0cyBmb3IgdGhlIG5leHQgYWdlbnQgcnVuLCB1c2UgdGhlIGBvdXRwdXRgIHByb3BlcnR5LlxuICAgICAqL1xuICAgIGdldCBuZXdJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX2dlbmVyYXRlZEl0ZW1zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcmF3IExMTSByZXNwb25zZXMgZ2VuZXJhdGVkIGJ5IHRoZSBtb2RlbCBkdXJpbmcgdGhlIGFnZW50IHJ1bi5cbiAgICAgKi9cbiAgICBnZXQgcmF3UmVzcG9uc2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fbW9kZWxSZXNwb25zZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IHJlc3BvbnNlIElEIGdlbmVyYXRlZCBieSB0aGUgbW9kZWwgZHVyaW5nIHRoZSBhZ2VudCBydW4uXG4gICAgICovXG4gICAgZ2V0IGxhc3RSZXNwb25zZUlkKCkge1xuICAgICAgICBjb25zdCByZXNwb25zZXMgPSB0aGlzLnJhd1Jlc3BvbnNlcztcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlcyAmJiByZXNwb25zZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyByZXNwb25zZXNbcmVzcG9uc2VzLmxlbmd0aCAtIDFdLnJlc3BvbnNlSWRcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCBhZ2VudCB0aGF0IHdhcyBydW5cbiAgICAgKi9cbiAgICBnZXQgbGFzdEFnZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fY3VycmVudEFnZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHdWFyZHJhaWwgcmVzdWx0cyBmb3IgdGhlIGlucHV0IG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGdldCBpbnB1dEd1YXJkcmFpbFJlc3VsdHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLl9pbnB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEd1YXJkcmFpbCByZXN1bHRzIGZvciB0aGUgZmluYWwgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKi9cbiAgICBnZXQgb3V0cHV0R3VhcmRyYWlsUmVzdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX291dHB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFueSBpbnRlcnJ1cHRpb25zIHRoYXQgb2NjdXJyZWQgZHVyaW5nIHRoZSBhZ2VudCBydW4gZm9yIGV4YW1wbGUgZm9yIHRvb2wgYXBwcm92YWxzLlxuICAgICAqL1xuICAgIGdldCBpbnRlcnJ1cHRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5fY3VycmVudFN0ZXA/LnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuX2N1cnJlbnRTdGVwLmRhdGEuaW50ZXJydXB0aW9ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIGFnZW50LiBJZiB0aGUgb3V0cHV0IHR5cGUgd2FzIHNldCB0byBhbnl0aGluZyBvdGhlciB0aGFuIGB0ZXh0YCxcbiAgICAgKiB0aGlzIHdpbGwgYmUgcGFyc2VkIGVpdGhlciBhcyBKU09OIG9yIHVzaW5nIHRoZSBab2Qgc2NoZW1hIHlvdSBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBnZXQgZmluYWxPdXRwdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLl9jdXJyZW50U3RlcD8udHlwZSA9PT0gJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5fY3VycmVudEFnZW50LnByb2Nlc3NGaW5hbE91dHB1dCh0aGlzLnN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci53YXJuKCdBY2Nlc3NlZCBmaW5hbE91dHB1dCBiZWZvcmUgYWdlbnQgcnVuIGlzIGNvbXBsZXRlZC4nKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSByZXN1bHQgb2YgYW4gYWdlbnQgcnVuLlxuICovXG5leHBvcnQgY2xhc3MgUnVuUmVzdWx0IGV4dGVuZHMgUnVuUmVzdWx0QmFzZSB7XG4gICAgY29uc3RydWN0b3Ioc3RhdGUpIHtcbiAgICAgICAgc3VwZXIoc3RhdGUpO1xuICAgIH1cbn1cbi8qKlxuICogVGhlIHJlc3VsdCBvZiBhbiBhZ2VudCBydW4gaW4gc3RyZWFtaW5nIG1vZGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1lZFJ1blJlc3VsdCBleHRlbmRzIFJ1blJlc3VsdEJhc2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGFnZW50IHRoYXQgaXMgcnVubmluZ1xuICAgICAqL1xuICAgIGdldCBjdXJyZW50QWdlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RBZ2VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdHVybiBudW1iZXJcbiAgICAgKi9cbiAgICBjdXJyZW50VHVybiA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHR1cm5zIHRoYXQgY2FuIGJlIHJ1blxuICAgICAqL1xuICAgIG1heFR1cm5zO1xuICAgICNlcnJvciA9IG51bGw7XG4gICAgI3NpZ25hbDtcbiAgICAjcmVhZGFibGVDb250cm9sbGVyO1xuICAgICNyZWFkYWJsZVN0cmVhbTtcbiAgICAjY29tcGxldGVkUHJvbWlzZTtcbiAgICAjY29tcGxldGVkUHJvbWlzZVJlc29sdmU7XG4gICAgI2NvbXBsZXRlZFByb21pc2VSZWplY3Q7XG4gICAgI2NhbmNlbGxlZCA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKHJlc3VsdCA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgIHRoaXMuI3NpZ25hbCA9IHJlc3VsdC5zaWduYWw7XG4gICAgICAgIHRoaXMuI3JlYWRhYmxlU3RyZWFtID0gbmV3IF9SZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICBzdGFydDogKGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2NhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2VSZWplY3QgPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy4jc2lnbmFsKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBYm9ydCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy4jY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy4jcmVhZGFibGVDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jcmVhZGFibGVTdHJlYW0ubG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYEZhaWxlZCB0byBjbG9zZSByZWFkYWJsZSBzdHJlYW0gb24gYWJvcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHRoaXMuI3JlYWRhYmxlU3RyZWFtXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2FuY2VsKHRoaXMuI3NpZ25hbD8ucmVhc29uKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIGNhbmNlbCByZWFkYWJsZSBzdHJlYW0gb24gYWJvcnQ6ICR7ZXJyfWApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZVJlc29sdmU/LigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLiNzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZUFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBoYW5kbGVBYm9ydCwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGUgc3RyZWFtIG9mIG91dHB1dCBpdGVtc1xuICAgICAqL1xuICAgIF9hZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyPy5lbnF1ZXVlKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBzdHJlYW0gaGFzIGJlZW4gY29tcGxldGVkXG4gICAgICovXG4gICAgX2RvbmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5jYW5jZWxsZWQgJiYgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyKSB7XG4gICAgICAgICAgICB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuI2NvbXBsZXRlZFByb21pc2VSZXNvbHZlPy4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBIYW5kbGVzIGFuIGVycm9yIGluIHRoZSBzdHJlYW0gbG9vcC5cbiAgICAgKi9cbiAgICBfcmFpc2VFcnJvcihlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbmNlbGxlZCAmJiB0aGlzLiNyZWFkYWJsZUNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuI3JlYWRhYmxlQ29udHJvbGxlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgdGhpcy4jcmVhZGFibGVDb250cm9sbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2Vycm9yID0gZXJyO1xuICAgICAgICB0aGlzLiNjb21wbGV0ZWRQcm9taXNlUmVqZWN0Py4oZXJyKTtcbiAgICAgICAgdGhpcy4jY29tcGxldGVkUHJvbWlzZS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBSZXN1bHRlZCBpbiBhbiBlcnJvcjogJHtlfWApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdHJlYW0gaGFzIGJlZW4gY2FuY2VsbGVkLlxuICAgICAqL1xuICAgIGdldCBjYW5jZWxsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjYW5jZWxsZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgcmVhZGFibGUgc3RyZWFtLlxuICAgICAqIEByZXR1cm5zIEEgcmVhZGFibGUgc3RyZWFtIG9mIHRoZSBhZ2VudCBydW4uXG4gICAgICovXG4gICAgdG9TdHJlYW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNyZWFkYWJsZVN0cmVhbTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXdhaXQgdGhpcyBwcm9taXNlIHRvIGVuc3VyZSB0aGF0IHRoZSBzdHJlYW0gaGFzIGJlZW4gY29tcGxldGVkIGlmIHlvdSBhcmUgbm90IGNvbnN1bWluZyB0aGVcbiAgICAgKiBzdHJlYW0gZGlyZWN0bHkuXG4gICAgICovXG4gICAgZ2V0IGNvbXBsZXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NvbXBsZXRlZFByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVycm9yIHRocm93biBkdXJpbmcgdGhlIHJ1biwgaWYgYW55LlxuICAgICAqL1xuICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Vycm9yO1xuICAgIH1cbiAgICB0b1RleHRTdHJlYW0ob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuI3JlYWRhYmxlU3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgICAgdHJhbnNmb3JtKGV2ZW50LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdyYXdfbW9kZWxfc3RyZWFtX2V2ZW50JyAmJlxuICAgICAgICAgICAgICAgICAgICBldmVudC5kYXRhLnR5cGUgPT09ICdvdXRwdXRfdGV4dF9kZWx0YScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IFN0cmVhbUV2ZW50VGV4dFN0cmVhbS5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGl0ZW0uZGVsdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29tcGF0aWJsZVdpdGhOb2RlU3RyZWFtcykge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWRhYmxlLmZyb21XZWIoc3RyZWFtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcmVhZGFibGVTdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzdWx0Lm1qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplVG9vbCh0b29sKSB7XG4gICAgaWYgKHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgc3RyaWN0OiB0b29sLnN0cmljdCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRvb2wudHlwZSA9PT0gJ2NvbXB1dGVyJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2NvbXB1dGVyJyxcbiAgICAgICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgICAgIGVudmlyb25tZW50OiB0b29sLmNvbXB1dGVyLmVudmlyb25tZW50LFxuICAgICAgICAgICAgZGltZW5zaW9uczogdG9vbC5jb21wdXRlci5kaW1lbnNpb25zLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2wnLFxuICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgIHByb3ZpZGVyRGF0YTogdG9vbC5wcm92aWRlckRhdGEsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVIYW5kb2ZmKGgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b29sTmFtZTogaC50b29sTmFtZSxcbiAgICAgICAgdG9vbERlc2NyaXB0aW9uOiBoLnRvb2xEZXNjcmlwdGlvbixcbiAgICAgICAgaW5wdXRKc29uU2NoZW1hOiBoLmlucHV0SnNvblNjaGVtYSxcbiAgICAgICAgc3RyaWN0SnNvblNjaGVtYTogaC5zdHJpY3RKc29uU2NoZW1hLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemUubWpzLm1hcCIsImltcG9ydCB7IHRvU21hcnRTdHJpbmcgfSBmcm9tIFwiLi91dGlscy9zbWFydFN0cmluZy5tanNcIjtcbmV4cG9ydCBjbGFzcyBSdW5JdGVtQmFzZSB7XG4gICAgdHlwZSA9ICdiYXNlX2l0ZW0nO1xuICAgIHJhd0l0ZW07XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgcmF3SXRlbTogdGhpcy5yYXdJdGVtLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5NZXNzYWdlT3V0cHV0SXRlbSBleHRlbmRzIFJ1bkl0ZW1CYXNlIHtcbiAgICByYXdJdGVtO1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAnbWVzc2FnZV9vdXRwdXRfaXRlbSc7XG4gICAgY29uc3RydWN0b3IocmF3SXRlbSwgYWdlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGFnZW50OiB0aGlzLmFnZW50LnRvSlNPTigpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY29udGVudCgpIHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSAnJztcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMucmF3SXRlbS5jb250ZW50KSB7XG4gICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1blRvb2xDYWxsSXRlbSBleHRlbmRzIFJ1bkl0ZW1CYXNlIHtcbiAgICByYXdJdGVtO1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAndG9vbF9jYWxsX2l0ZW0nO1xuICAgIGNvbnN0cnVjdG9yKHJhd0l0ZW0sIGFnZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmF3SXRlbSA9IHJhd0l0ZW07XG4gICAgICAgIHRoaXMuYWdlbnQgPSBhZ2VudDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIudG9KU09OKCksXG4gICAgICAgICAgICBhZ2VudDogdGhpcy5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuVG9vbENhbGxPdXRwdXRJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgb3V0cHV0O1xuICAgIHR5cGUgPSAndG9vbF9jYWxsX291dHB1dF9pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCwgb3V0cHV0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmF3SXRlbSA9IHJhd0l0ZW07XG4gICAgICAgIHRoaXMuYWdlbnQgPSBhZ2VudDtcbiAgICAgICAgdGhpcy5vdXRwdXQgPSBvdXRwdXQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgICAgICBvdXRwdXQ6IHRvU21hcnRTdHJpbmcodGhpcy5vdXRwdXQpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5SZWFzb25pbmdJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgYWdlbnQ7XG4gICAgdHlwZSA9ICdyZWFzb25pbmdfaXRlbSc7XG4gICAgY29uc3RydWN0b3IocmF3SXRlbSwgYWdlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5hZ2VudCA9IGFnZW50O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdXBlci50b0pTT04oKSxcbiAgICAgICAgICAgIGFnZW50OiB0aGlzLmFnZW50LnRvSlNPTigpLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5IYW5kb2ZmQ2FsbEl0ZW0gZXh0ZW5kcyBSdW5JdGVtQmFzZSB7XG4gICAgcmF3SXRlbTtcbiAgICBhZ2VudDtcbiAgICB0eXBlID0gJ2hhbmRvZmZfY2FsbF9pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bkhhbmRvZmZPdXRwdXRJdGVtIGV4dGVuZHMgUnVuSXRlbUJhc2Uge1xuICAgIHJhd0l0ZW07XG4gICAgc291cmNlQWdlbnQ7XG4gICAgdGFyZ2V0QWdlbnQ7XG4gICAgdHlwZSA9ICdoYW5kb2ZmX291dHB1dF9pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBzb3VyY2VBZ2VudCwgdGFyZ2V0QWdlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yYXdJdGVtID0gcmF3SXRlbTtcbiAgICAgICAgdGhpcy5zb3VyY2VBZ2VudCA9IHNvdXJjZUFnZW50O1xuICAgICAgICB0aGlzLnRhcmdldEFnZW50ID0gdGFyZ2V0QWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgc291cmNlQWdlbnQ6IHRoaXMuc291cmNlQWdlbnQudG9KU09OKCksXG4gICAgICAgICAgICB0YXJnZXRBZ2VudDogdGhpcy50YXJnZXRBZ2VudC50b0pTT04oKSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUnVuVG9vbEFwcHJvdmFsSXRlbSBleHRlbmRzIFJ1bkl0ZW1CYXNlIHtcbiAgICByYXdJdGVtO1xuICAgIGFnZW50O1xuICAgIHR5cGUgPSAndG9vbF9hcHByb3ZhbF9pdGVtJztcbiAgICBjb25zdHJ1Y3RvcihyYXdJdGVtLCBhZ2VudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnJhd0l0ZW0gPSByYXdJdGVtO1xuICAgICAgICB0aGlzLmFnZW50ID0gYWdlbnQ7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN1cGVyLnRvSlNPTigpLFxuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuYWdlbnQudG9KU09OKCksXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBFeHRyYWN0IGFsbCB0ZXh0IG91dHB1dCBmcm9tIGEgbGlzdCBvZiBydW4gaXRlbXMgYnkgY29uY2F0ZW5hdGluZyB0aGUgY29udGVudCBvZiBhbGxcbiAqIG1lc3NhZ2Ugb3V0cHV0IGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBpdGVtcyAtIFRoZSBsaXN0IG9mIHJ1biBpdGVtcyB0byBleHRyYWN0IHRleHQgZnJvbS5cbiAqIEByZXR1cm5zIEEgc3RyaW5nIG9mIGFsbCB0aGUgdGV4dCBvdXRwdXQgZnJvbSB0aGUgcnVuIGl0ZW1zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEFsbFRleHRPdXRwdXQoaXRlbXMpIHtcbiAgICByZXR1cm4gaXRlbXNcbiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS50eXBlID09PSAnbWVzc2FnZV9vdXRwdXRfaXRlbScpXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0uY29udGVudClcbiAgICAgICAgLmpvaW4oJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlbXMubWpzLm1hcCIsIi8qKlxuICogR2V0IHRoZSBsYXN0IHRleHQgZnJvbSB0aGUgb3V0cHV0IG1lc3NhZ2UuXG4gKiBAcGFyYW0gb3V0cHV0TWVzc2FnZVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExhc3RUZXh0RnJvbU91dHB1dE1lc3NhZ2Uob3V0cHV0TWVzc2FnZSkge1xuICAgIGlmIChvdXRwdXRNZXNzYWdlLnR5cGUgIT09ICdtZXNzYWdlJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAob3V0cHV0TWVzc2FnZS5yb2xlICE9PSAnYXNzaXN0YW50Jykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBsYXN0SXRlbSA9IG91dHB1dE1lc3NhZ2UuY29udGVudFtvdXRwdXRNZXNzYWdlLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxhc3RJdGVtLnR5cGUgIT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RJdGVtLnRleHQ7XG59XG4vKipcbiAqIEdldCB0aGUgbGFzdCB0ZXh0IGZyb20gdGhlIG91dHB1dCBtZXNzYWdlLlxuICogQHBhcmFtIG91dHB1dFxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE91dHB1dFRleHQob3V0cHV0KSB7XG4gICAgaWYgKG91dHB1dC5vdXRwdXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIChnZXRMYXN0VGV4dEZyb21PdXRwdXRNZXNzYWdlKG91dHB1dC5vdXRwdXRbb3V0cHV0Lm91dHB1dC5sZW5ndGggLSAxXSkgfHwgJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZXMubWpzLm1hcCIsIi8qKlxuICogU3RyZWFtaW5nIGV2ZW50IGZyb20gdGhlIExMTS4gVGhlc2UgYXJlIGByYXdgIGV2ZW50cywgaS5lLiB0aGV5IGFyZSBkaXJlY3RseSBwYXNzZWQgdGhyb3VnaCBmcm9tXG4gKiB0aGUgTExNLlxuICovXG5leHBvcnQgY2xhc3MgUnVuUmF3TW9kZWxTdHJlYW1FdmVudCB7XG4gICAgZGF0YTtcbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgdHlwZSA9ICdyYXdfbW9kZWxfc3RyZWFtX2V2ZW50JztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgcmF3IHJlc3BvbnNlcyBzdHJlYW0gZXZlbnRzIGZyb20gdGhlIExMTS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfVxufVxuLyoqXG4gKiBTdHJlYW1pbmcgZXZlbnRzIHRoYXQgd3JhcCBhIGBSdW5JdGVtYC4gQXMgdGhlIGFnZW50IHByb2Nlc3NlcyB0aGUgTExNIHJlc3BvbnNlLCBpdCB3aWxsIGdlbmVyYXRlXG4gKiB0aGVzZSBldmVudHMgZnJvbSBuZXcgbWVzc2FnZXMsIHRvb2wgY2FsbHMsIHRvb2wgb3V0cHV0cywgaGFuZG9mZnMsIGV0Yy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bkl0ZW1TdHJlYW1FdmVudCB7XG4gICAgbmFtZTtcbiAgICBpdGVtO1xuICAgIHR5cGUgPSAncnVuX2l0ZW1fc3RyZWFtX2V2ZW50JztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtIGl0ZW0gVGhlIGl0ZW0gdGhhdCB3YXMgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBpdGVtKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgfVxufVxuLyoqXG4gKiBFdmVudCB0aGF0IG5vdGlmaWVzIHRoYXQgdGhlcmUgaXMgYSBuZXcgYWdlbnQgcnVubmluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bkFnZW50VXBkYXRlZFN0cmVhbUV2ZW50IHtcbiAgICBhZ2VudDtcbiAgICB0eXBlID0gJ2FnZW50X3VwZGF0ZWRfc3RyZWFtX2V2ZW50JztcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYWdlbnQgVGhlIG5ldyBhZ2VudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFnZW50KSB7XG4gICAgICAgIHRoaXMuYWdlbnQgPSBhZ2VudDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudHMubWpzLm1hcCIsImltcG9ydCB7IGNvbnN1bWVBZ2VudFRvb2xSdW5SZXN1bHQsIH0gZnJvbSBcIi4vYWdlbnQubWpzXCI7XG5pbXBvcnQgeyBNb2RlbEJlaGF2aW9yRXJyb3IsIFRvb2xDYWxsRXJyb3IsIFVzZXJFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5tanNcIjtcbmltcG9ydCB7IGdldFRyYW5zZmVyTWVzc2FnZSB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5pbXBvcnQgeyBSdW5IYW5kb2ZmQ2FsbEl0ZW0sIFJ1bkhhbmRvZmZPdXRwdXRJdGVtLCBSdW5NZXNzYWdlT3V0cHV0SXRlbSwgUnVuUmVhc29uaW5nSXRlbSwgUnVuVG9vbEFwcHJvdmFsSXRlbSwgUnVuVG9vbENhbGxJdGVtLCBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0sIH0gZnJvbSBcIi4vaXRlbXMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IGdldExhc3RUZXh0RnJvbU91dHB1dE1lc3NhZ2UgfSBmcm9tIFwiLi91dGlscy9tZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IHdpdGhGdW5jdGlvblNwYW4sIHdpdGhIYW5kb2ZmU3BhbiB9IGZyb20gXCIuL3RyYWNpbmcvY3JlYXRlU3BhbnMubWpzXCI7XG5pbXBvcnQgeyBnZXRTY2hlbWFBbmRQYXJzZXJGcm9tSW5wdXRUeXBlIH0gZnJvbSBcIi4vdXRpbHMvdG9vbHMubWpzXCI7XG5pbXBvcnQgeyBzYWZlRXhlY3V0ZSB9IGZyb20gXCIuL3V0aWxzL3NhZmVFeGVjdXRlLm1qc1wiO1xuaW1wb3J0IHsgYWRkRXJyb3JUb0N1cnJlbnRTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9jb250ZXh0Lm1qc1wiO1xuaW1wb3J0IHsgUnVuSXRlbVN0cmVhbUV2ZW50IH0gZnJvbSBcIi4vZXZlbnRzLm1qc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyB0b1NtYXJ0U3RyaW5nIH0gZnJvbSBcIi4vdXRpbHMvc21hcnRTdHJpbmcubWpzXCI7XG5pbXBvcnQgeyBpc1pvZE9iamVjdCB9IGZyb20gXCIuL3V0aWxzL2luZGV4Lm1qc1wiO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NNb2RlbFJlc3BvbnNlKG1vZGVsUmVzcG9uc2UsIGFnZW50LCB0b29scywgaGFuZG9mZnMpIHtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGNvbnN0IHJ1bkhhbmRvZmZzID0gW107XG4gICAgY29uc3QgcnVuRnVuY3Rpb25zID0gW107XG4gICAgY29uc3QgcnVuQ29tcHV0ZXJBY3Rpb25zID0gW107XG4gICAgY29uc3QgcnVuTUNQQXBwcm92YWxSZXF1ZXN0cyA9IFtdO1xuICAgIGNvbnN0IHRvb2xzVXNlZCA9IFtdO1xuICAgIGNvbnN0IGhhbmRvZmZNYXAgPSBuZXcgTWFwKGhhbmRvZmZzLm1hcCgoaCkgPT4gW2gudG9vbE5hbWUsIGhdKSk7XG4gICAgY29uc3QgZnVuY3Rpb25NYXAgPSBuZXcgTWFwKHRvb2xzLmZpbHRlcigodCkgPT4gdC50eXBlID09PSAnZnVuY3Rpb24nKS5tYXAoKHQpID0+IFt0Lm5hbWUsIHRdKSk7XG4gICAgY29uc3QgY29tcHV0ZXJUb29sID0gdG9vbHMuZmluZCgodCkgPT4gdC50eXBlID09PSAnY29tcHV0ZXInKTtcbiAgICBjb25zdCBtY3BUb29sTWFwID0gbmV3IE1hcCh0b29sc1xuICAgICAgICAuZmlsdGVyKCh0KSA9PiB0LnR5cGUgPT09ICdob3N0ZWRfdG9vbCcgJiYgdC5wcm92aWRlckRhdGE/LnR5cGUgPT09ICdtY3AnKVxuICAgICAgICAubWFwKCh0KSA9PiB0KVxuICAgICAgICAubWFwKCh0KSA9PiBbdC5wcm92aWRlckRhdGEuc2VydmVyX2xhYmVsLCB0XSkpO1xuICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIG1vZGVsUmVzcG9uc2Uub3V0cHV0KSB7XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICBpZiAob3V0cHV0LnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaChuZXcgUnVuTWVzc2FnZU91dHB1dEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG91dHB1dC50eXBlID09PSAnaG9zdGVkX3Rvb2xfY2FsbCcpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1blRvb2xDYWxsSXRlbShvdXRwdXQsIGFnZW50KSk7XG4gICAgICAgICAgICBjb25zdCB0b29sTmFtZSA9IG91dHB1dC5uYW1lO1xuICAgICAgICAgICAgdG9vbHNVc2VkLnB1c2godG9vbE5hbWUpO1xuICAgICAgICAgICAgaWYgKG91dHB1dC5wcm92aWRlckRhdGE/LnR5cGUgPT09ICdtY3BfYXBwcm92YWxfcmVxdWVzdCcgfHxcbiAgICAgICAgICAgICAgICBvdXRwdXQubmFtZSA9PT0gJ21jcF9hcHByb3ZhbF9yZXF1ZXN0Jykge1xuICAgICAgICAgICAgICAgIC8vIEhvc3RlZCByZW1vdGUgTUNQIHNlcnZlcidzIGFwcHJvdmFsIHByb2Nlc3NcbiAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlckRhdGEgPSBvdXRwdXQucHJvdmlkZXJEYXRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1jcFNlcnZlckxhYmVsID0gcHJvdmlkZXJEYXRhLnNlcnZlcl9sYWJlbDtcbiAgICAgICAgICAgICAgICBjb25zdCBtY3BTZXJ2ZXJUb29sID0gbWNwVG9vbE1hcC5nZXQobWNwU2VydmVyTGFiZWwpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWNwU2VydmVyVG9vbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBNQ1Agc2VydmVyICgke21jcFNlcnZlckxhYmVsfSkgbm90IGZvdW5kIGluIEFnZW50ICgke2FnZW50Lm5hbWV9KWA7XG4gICAgICAgICAgICAgICAgICAgIGFkZEVycm9yVG9DdXJyZW50U3Bhbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBtY3Bfc2VydmVyX2xhYmVsOiBtY3BTZXJ2ZXJMYWJlbCB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRG8gdGhpcyBhcHByb3ZhbCBsYXRlcjpcbiAgICAgICAgICAgICAgICAvLyBXZSBzdXBwb3J0IGJvdGggb25BcHByb3ZhbCBjYWxsYmFjayAobGlrZSB0aGUgUHl0aG9uIFNESyBkb2VzKSBhbmQgSElUTCBwYXR0ZXJucy5cbiAgICAgICAgICAgICAgICBjb25zdCBhcHByb3ZhbEl0ZW0gPSBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbF9jYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbXVzdCB1c2UgdGhpcyBuYW1lIHRvIGFsaWduIHdpdGggdGhlIG5hbWUgc2VudCBmcm9tIHRoZSBzZXJ2ZXJzXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3ZpZGVyRGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBpZDogcHJvdmlkZXJEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdpbl9wcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YSxcbiAgICAgICAgICAgICAgICB9LCBhZ2VudCk7XG4gICAgICAgICAgICAgICAgcnVuTUNQQXBwcm92YWxSZXF1ZXN0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEl0ZW06IGFwcHJvdmFsSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgbWNwVG9vbDogbWNwU2VydmVyVG9vbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIW1jcFNlcnZlclRvb2wucHJvdmlkZXJEYXRhLm9uX2FwcHJvdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gb25BcHByb3ZhbCBmdW5jdGlvbiBleGlzdHMsIGl0IGNvbmZpcm1zIHRoZSBhcHByb3ZhbCByaWdodCBhZnRlciB0aGlzLlxuICAgICAgICAgICAgICAgICAgICAvLyBUaHVzLCB0aGlzIGFwcHJvdmFsIGl0ZW0gbXVzdCBiZSBhcHBlbmRlZCBvbmx5IGZvciB0aGUgbmV4dCB0dXJuIGludGVycnVwdGlvbiBwYXR0ZXJucy5cbiAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChhcHByb3ZhbEl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdXRwdXQudHlwZSA9PT0gJ3JlYXNvbmluZycpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1blJlYXNvbmluZ0l0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG91dHB1dC50eXBlID09PSAnY29tcHV0ZXJfY2FsbCcpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1blRvb2xDYWxsSXRlbShvdXRwdXQsIGFnZW50KSk7XG4gICAgICAgICAgICB0b29sc1VzZWQucHVzaCgnY29tcHV0ZXJfdXNlJyk7XG4gICAgICAgICAgICBpZiAoIWNvbXB1dGVyVG9vbCkge1xuICAgICAgICAgICAgICAgIGFkZEVycm9yVG9DdXJyZW50U3Bhbih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNb2RlbCBwcm9kdWNlZCBjb21wdXRlciBhY3Rpb24gd2l0aG91dCBhIGNvbXB1dGVyIHRvb2wuJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnRfbmFtZTogYWdlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdNb2RlbCBwcm9kdWNlZCBjb21wdXRlciBhY3Rpb24gd2l0aG91dCBhIGNvbXB1dGVyIHRvb2wuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5Db21wdXRlckFjdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdG9vbENhbGw6IG91dHB1dCxcbiAgICAgICAgICAgICAgICBjb21wdXRlcjogY29tcHV0ZXJUb29sLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHB1dC50eXBlICE9PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRvb2xzVXNlZC5wdXNoKG91dHB1dC5uYW1lKTtcbiAgICAgICAgY29uc3QgaGFuZG9mZiA9IGhhbmRvZmZNYXAuZ2V0KG91dHB1dC5uYW1lKTtcbiAgICAgICAgaWYgKGhhbmRvZmYpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IFJ1bkhhbmRvZmZDYWxsSXRlbShvdXRwdXQsIGFnZW50KSk7XG4gICAgICAgICAgICBydW5IYW5kb2Zmcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogb3V0cHV0LFxuICAgICAgICAgICAgICAgIGhhbmRvZmY6IGhhbmRvZmYsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uVG9vbCA9IGZ1bmN0aW9uTWFwLmdldChvdXRwdXQubmFtZSk7XG4gICAgICAgICAgICBpZiAoIWZ1bmN0aW9uVG9vbCkge1xuICAgICAgICAgICAgICAgIGFkZEVycm9yVG9DdXJyZW50U3Bhbih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBUb29sICR7b3V0cHV0Lm5hbWV9IG5vdCBmb3VuZCBpbiBhZ2VudCAke2FnZW50Lm5hbWV9LmAsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfbmFtZTogb3V0cHV0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZ2VudF9uYW1lOiBhZ2VudC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoYFRvb2wgJHtvdXRwdXQubmFtZX0gbm90IGZvdW5kIGluIGFnZW50ICR7YWdlbnQubmFtZX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtcy5wdXNoKG5ldyBSdW5Ub29sQ2FsbEl0ZW0ob3V0cHV0LCBhZ2VudCkpO1xuICAgICAgICAgICAgcnVuRnVuY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBvdXRwdXQsXG4gICAgICAgICAgICAgICAgdG9vbDogZnVuY3Rpb25Ub29sLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV3SXRlbXM6IGl0ZW1zLFxuICAgICAgICBoYW5kb2ZmczogcnVuSGFuZG9mZnMsXG4gICAgICAgIGZ1bmN0aW9uczogcnVuRnVuY3Rpb25zLFxuICAgICAgICBjb21wdXRlckFjdGlvbnM6IHJ1bkNvbXB1dGVyQWN0aW9ucyxcbiAgICAgICAgbWNwQXBwcm92YWxSZXF1ZXN0czogcnVuTUNQQXBwcm92YWxSZXF1ZXN0cyxcbiAgICAgICAgdG9vbHNVc2VkOiB0b29sc1VzZWQsXG4gICAgICAgIGhhc1Rvb2xzT3JBcHByb3ZhbHNUb1J1bigpIHtcbiAgICAgICAgICAgIHJldHVybiAocnVuSGFuZG9mZnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJ1bkZ1bmN0aW9ucy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgcnVuTUNQQXBwcm92YWxSZXF1ZXN0cy5sZW5ndGggPiAwIHx8XG4gICAgICAgICAgICAgICAgcnVuQ29tcHV0ZXJBY3Rpb25zLmxlbmd0aCA+IDApO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgbmV4dFN0ZXBTY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbmV4dF9zdGVwX2hhbmRvZmYnKSxcbiAgICAgICAgbmV3QWdlbnQ6IHouYW55KCksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnKSxcbiAgICAgICAgb3V0cHV0OiB6LnN0cmluZygpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCduZXh0X3N0ZXBfcnVuX2FnYWluJyksXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSxcbiAgICAgICAgZGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG4gICAgfSksXG5dKTtcbmNsYXNzIFNpbmdsZVN0ZXBSZXN1bHQge1xuICAgIG9yaWdpbmFsSW5wdXQ7XG4gICAgbW9kZWxSZXNwb25zZTtcbiAgICBwcmVTdGVwSXRlbXM7XG4gICAgbmV3U3RlcEl0ZW1zO1xuICAgIG5leHRTdGVwO1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBpbnB1dCBpdGVtcyBpLmUuIHRoZSBpdGVtcyBiZWZvcmUgcnVuKCkgd2FzIGNhbGxlZC4gTWF5IGJlIG11dGVkIGJ5IGhhbmRvZmYgaW5wdXQgZmlsdGVyc1xuICAgICAqL1xuICAgIG9yaWdpbmFsSW5wdXQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBtb2RlbCByZXNwb25zZSBmb3IgdGhlIGN1cnJlbnQgc3RlcFxuICAgICAqL1xuICAgIG1vZGVsUmVzcG9uc2UsIFxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBiZWZvcmUgdGhlIGN1cnJlbnQgc3RlcCB3YXMgZXhlY3V0ZWRcbiAgICAgKi9cbiAgICBwcmVTdGVwSXRlbXMsIFxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBhZnRlciB0aGUgY3VycmVudCBzdGVwIHdhcyBleGVjdXRlZFxuICAgICAqL1xuICAgIG5ld1N0ZXBJdGVtcywgXG4gICAgLyoqXG4gICAgICogVGhlIG5leHQgc3RlcCB0byBleGVjdXRlXG4gICAgICovXG4gICAgbmV4dFN0ZXApIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbElucHV0ID0gb3JpZ2luYWxJbnB1dDtcbiAgICAgICAgdGhpcy5tb2RlbFJlc3BvbnNlID0gbW9kZWxSZXNwb25zZTtcbiAgICAgICAgdGhpcy5wcmVTdGVwSXRlbXMgPSBwcmVTdGVwSXRlbXM7XG4gICAgICAgIHRoaXMubmV3U3RlcEl0ZW1zID0gbmV3U3RlcEl0ZW1zO1xuICAgICAgICB0aGlzLm5leHRTdGVwID0gbmV4dFN0ZXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpdGVtcyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBhZ2VudCBydW4gKGkuZS4gZXZlcnl0aGluZyBnZW5lcmF0ZWQgYWZ0ZXIgb3JpZ2luYWxJbnB1dClcbiAgICAgKi9cbiAgICBnZXQgZ2VuZXJhdGVkSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZVN0ZXBJdGVtcy5jb25jYXQodGhpcy5uZXdTdGVwSXRlbXMpO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVJlc2V0VG9vbENob2ljZShhZ2VudCwgdG9vbFVzZVRyYWNrZXIsIG1vZGVsU2V0dGluZ3MpIHtcbiAgICBpZiAoYWdlbnQucmVzZXRUb29sQ2hvaWNlICYmIHRvb2xVc2VUcmFja2VyLmhhc1VzZWRUb29scyhhZ2VudCkpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4ubW9kZWxTZXR0aW5ncywgdG9vbENob2ljZTogdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIHJldHVybiBtb2RlbFNldHRpbmdzO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVJbnRlcnJ1cHRlZFRvb2xzQW5kU2lkZUVmZmVjdHMoYWdlbnQsIG9yaWdpbmFsSW5wdXQsIG9yaWdpbmFsUHJlU3RlcEl0ZW1zLCBuZXdSZXNwb25zZSwgcHJvY2Vzc2VkUmVzcG9uc2UsIHJ1bm5lciwgc3RhdGUpIHtcbiAgICAvLyBjYWxsX2lkcyBmb3IgZnVuY3Rpb24gdG9vbHNcbiAgICBjb25zdCBmdW5jdGlvbkNhbGxJZHMgPSBvcmlnaW5hbFByZVN0ZXBJdGVtc1xuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtIGluc3RhbmNlb2YgUnVuVG9vbEFwcHJvdmFsSXRlbSAmJlxuICAgICAgICAnY2FsbElkJyBpbiBpdGVtLnJhd0l0ZW0gJiZcbiAgICAgICAgaXRlbS5yYXdJdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJylcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5yYXdJdGVtLmNhbGxJZCk7XG4gICAgLy8gUnVuIGZ1bmN0aW9uIHRvb2xzIHRoYXQgcmVxdWlyZSBhcHByb3ZhbCBhZnRlciB0aGV5IGdldCB0aGVpciBhcHByb3ZhbCByZXN1bHRzXG4gICAgY29uc3QgZnVuY3Rpb25Ub29sUnVucyA9IHByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucy5maWx0ZXIoKHJ1bikgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb25DYWxsSWRzLmluY2x1ZGVzKHJ1bi50b29sQ2FsbC5jYWxsSWQpO1xuICAgIH0pO1xuICAgIGNvbnN0IGZ1bmN0aW9uUmVzdWx0cyA9IGF3YWl0IGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgZnVuY3Rpb25Ub29sUnVucywgcnVubmVyLCBzdGF0ZSk7XG4gICAgLy8gQ3JlYXRlIHRoZSBpbml0aWFsIHNldCBvZiB0aGUgb3V0cHV0IGl0ZW1zXG4gICAgY29uc3QgbmV3SXRlbXMgPSBmdW5jdGlvblJlc3VsdHMubWFwKChyKSA9PiByLnJ1bkl0ZW0pO1xuICAgIC8vIFJ1biBNQ1AgdG9vbHMgdGhhdCByZXF1aXJlIGFwcHJvdmFsIGFmdGVyIHRoZXkgZ2V0IHRoZWlyIGFwcHJvdmFsIHJlc3VsdHNcbiAgICBjb25zdCBtY3BBcHByb3ZhbFJ1bnMgPSBwcm9jZXNzZWRSZXNwb25zZS5tY3BBcHByb3ZhbFJlcXVlc3RzLmZpbHRlcigocnVuKSA9PiB7XG4gICAgICAgIHJldHVybiAocnVuLnJlcXVlc3RJdGVtLnR5cGUgPT09ICd0b29sX2FwcHJvdmFsX2l0ZW0nICYmXG4gICAgICAgICAgICBydW4ucmVxdWVzdEl0ZW0ucmF3SXRlbS50eXBlID09PSAnaG9zdGVkX3Rvb2xfY2FsbCcgJiZcbiAgICAgICAgICAgIHJ1bi5yZXF1ZXN0SXRlbS5yYXdJdGVtLnByb3ZpZGVyRGF0YT8udHlwZSA9PT0gJ21jcF9hcHByb3ZhbF9yZXF1ZXN0Jyk7XG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBydW4gb2YgbWNwQXBwcm92YWxSdW5zKSB7XG4gICAgICAgIC8vIHRoZSBhcHByb3ZhbF9yZXF1ZXN0X2lkIFwibWNwcl8xMjMuLi5cIlxuICAgICAgICBjb25zdCBhcHByb3ZhbFJlcXVlc3RJZCA9IHJ1bi5yZXF1ZXN0SXRlbS5yYXdJdGVtLmlkO1xuICAgICAgICBjb25zdCBhcHByb3ZlZCA9IHN0YXRlLl9jb250ZXh0LmlzVG9vbEFwcHJvdmVkKHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgaXRlbSBuYW1lIG11c3QgYmUgdGhlIHNhbWUgd2l0aCB0aGUgb25lIHNlbnQgZnJvbSBSZXNwb25zZXMgQVBJIHNlcnZlclxuICAgICAgICAgICAgdG9vbE5hbWU6IHJ1bi5yZXF1ZXN0SXRlbS5yYXdJdGVtLm5hbWUsXG4gICAgICAgICAgICBjYWxsSWQ6IGFwcHJvdmFsUmVxdWVzdElkLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcHByb3ZlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhcHByb3ZlOiBhcHByb3ZlZCxcbiAgICAgICAgICAgICAgICBhcHByb3ZhbF9yZXF1ZXN0X2lkOiBhcHByb3ZhbFJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICByZWFzb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBUZWxsIFJlc3BvbnNlcyBBUEkgc2VydmVyIHRoZSBhcHByb3ZhbCByZXN1bHQgaW4gdGhlIG5leHQgdHVyblxuICAgICAgICAgICAgbmV3SXRlbXMucHVzaChuZXcgUnVuVG9vbENhbGxJdGVtKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2xfY2FsbCcsXG4gICAgICAgICAgICAgICAgbmFtZTogJ21jcF9hcHByb3ZhbF9yZXNwb25zZScsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhLFxuICAgICAgICAgICAgfSwgYWdlbnQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjaGVja1Rvb2xPdXRwdXQgPSBhd2FpdCBjaGVja0ZvckZpbmFsT3V0cHV0RnJvbVRvb2xzKGFnZW50LCBmdW5jdGlvblJlc3VsdHMsIHN0YXRlKTtcbiAgICAvLyBFeGNsdWRlIHRoZSB0b29sIGFwcHJvdmFsIGl0ZW1zLCB3aGljaCBzaG91bGQgbm90IGJlIHNlbnQgdG8gUmVzcG9uc2VzIEFQSSxcbiAgICAvLyBmcm9tIHRoZSBTaW5nbGVTdGVwUmVzdWx0J3MgcHJlU3RlcEl0ZW1zXG4gICAgY29uc3QgcHJlU3RlcEl0ZW1zID0gb3JpZ2luYWxQcmVTdGVwSXRlbXMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiAhKGl0ZW0gaW5zdGFuY2VvZiBSdW5Ub29sQXBwcm92YWxJdGVtKTtcbiAgICB9KTtcbiAgICBpZiAoY2hlY2tUb29sT3V0cHV0LmlzRmluYWxPdXRwdXQpIHtcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X2VuZCcsIHN0YXRlLl9jb250ZXh0LCBhZ2VudCwgY2hlY2tUb29sT3V0cHV0LmZpbmFsT3V0cHV0KTtcbiAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfZW5kJywgc3RhdGUuX2NvbnRleHQsIGNoZWNrVG9vbE91dHB1dC5maW5hbE91dHB1dCk7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywge1xuICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnLFxuICAgICAgICAgICAgb3V0cHV0OiBjaGVja1Rvb2xPdXRwdXQuZmluYWxPdXRwdXQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGVja1Rvb2xPdXRwdXQuaXNJbnRlcnJ1cHRlZCkge1xuICAgICAgICByZXR1cm4gbmV3IFNpbmdsZVN0ZXBSZXN1bHQob3JpZ2luYWxJbnB1dCwgbmV3UmVzcG9uc2UsIHByZVN0ZXBJdGVtcywgbmV3SXRlbXMsIHtcbiAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRpb25zOiBjaGVja1Rvb2xPdXRwdXQuaW50ZXJydXB0aW9ucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyB3ZSBvbmx5IHJhbiBuZXcgdG9vbHMgYW5kIHNpZGUgZWZmZWN0cy4gV2UgbmVlZCB0byBydW4gdGhlIHJlc3Qgb2YgdGhlIGFnZW50XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9KTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlVG9vbHNBbmRTaWRlRWZmZWN0cyhhZ2VudCwgb3JpZ2luYWxJbnB1dCwgb3JpZ2luYWxQcmVTdGVwSXRlbXMsIG5ld1Jlc3BvbnNlLCBwcm9jZXNzZWRSZXNwb25zZSwgcnVubmVyLCBzdGF0ZSkge1xuICAgIGNvbnN0IHByZVN0ZXBJdGVtcyA9IG9yaWdpbmFsUHJlU3RlcEl0ZW1zO1xuICAgIGxldCBuZXdJdGVtcyA9IHByb2Nlc3NlZFJlc3BvbnNlLm5ld0l0ZW1zO1xuICAgIGNvbnN0IFtmdW5jdGlvblJlc3VsdHMsIGNvbXB1dGVyUmVzdWx0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2UuZnVuY3Rpb25zLCBydW5uZXIsIHN0YXRlKSxcbiAgICAgICAgZXhlY3V0ZUNvbXB1dGVyQWN0aW9ucyhhZ2VudCwgcHJvY2Vzc2VkUmVzcG9uc2UuY29tcHV0ZXJBY3Rpb25zLCBydW5uZXIsIHN0YXRlLl9jb250ZXh0KSxcbiAgICBdKTtcbiAgICBuZXdJdGVtcyA9IG5ld0l0ZW1zLmNvbmNhdChmdW5jdGlvblJlc3VsdHMubWFwKChyKSA9PiByLnJ1bkl0ZW0pKTtcbiAgICBuZXdJdGVtcyA9IG5ld0l0ZW1zLmNvbmNhdChjb21wdXRlclJlc3VsdHMpO1xuICAgIC8vIHJ1biBob3N0ZWQgTUNQIGFwcHJvdmFsIHJlcXVlc3RzXG4gICAgaWYgKHByb2Nlc3NlZFJlc3BvbnNlLm1jcEFwcHJvdmFsUmVxdWVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGFwcHJvdmFsUmVxdWVzdCBvZiBwcm9jZXNzZWRSZXNwb25zZS5tY3BBcHByb3ZhbFJlcXVlc3RzKSB7XG4gICAgICAgICAgICBjb25zdCB0b29sRGF0YSA9IGFwcHJvdmFsUmVxdWVzdC5tY3BUb29sXG4gICAgICAgICAgICAgICAgLnByb3ZpZGVyRGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0gYXBwcm92YWxSZXF1ZXN0LnJlcXVlc3RJdGVtLnJhd0l0ZW1cbiAgICAgICAgICAgICAgICAucHJvdmlkZXJEYXRhO1xuICAgICAgICAgICAgaWYgKHRvb2xEYXRhLm9uX2FwcHJvdmFsKSB7XG4gICAgICAgICAgICAgICAgLy8gc3luY2hyb25vdXNseSBoYW5kbGUgdGhlIGFwcHJvdmFsIHByb2Nlc3MgaGVyZVxuICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmFsUmVzdWx0ID0gYXdhaXQgdG9vbERhdGEub25fYXBwcm92YWwoc3RhdGUuX2NvbnRleHQsIGFwcHJvdmFsUmVxdWVzdC5yZXF1ZXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXBwcm92YWxSZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmU6IGFwcHJvdmFsUmVzdWx0LmFwcHJvdmUsXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmFsX3JlcXVlc3RfaWQ6IHJlcXVlc3REYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IGFwcHJvdmFsUmVzdWx0LnJlYXNvbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2gobmV3IFJ1blRvb2xDYWxsSXRlbSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfdG9vbF9jYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ21jcF9hcHByb3ZhbF9yZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogYXBwcm92YWxSZXNwb25zZURhdGEsXG4gICAgICAgICAgICAgICAgfSwgYWdlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJlY2VpdmUgYSB1c2VyJ3MgYXBwcm92YWwgb24gdGhlIG5leHQgdHVyblxuICAgICAgICAgICAgICAgIG5ld0l0ZW1zLnB1c2goYXBwcm92YWxSZXF1ZXN0LnJlcXVlc3RJdGVtKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHByb3ZhbEl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdob3N0ZWRfbWNwX3Rvb2xfYXBwcm92YWwnLFxuICAgICAgICAgICAgICAgICAgICB0b29sOiBhcHByb3ZhbFJlcXVlc3QubWNwVG9vbCxcbiAgICAgICAgICAgICAgICAgICAgcnVuSXRlbTogbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2hvc3RlZF90b29sX2NhbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdERhdGEubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0RGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogcmVxdWVzdERhdGEuYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5fcHJvZ3Jlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiByZXF1ZXN0RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSwgYWdlbnQpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZnVuY3Rpb25SZXN1bHRzLnB1c2goYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgICAgICAvLyBuZXdJdGVtcy5wdXNoKGFwcHJvdmFsSXRlbS5ydW5JdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBwcm9jZXNzIGhhbmRvZmZzXG4gICAgaWYgKHByb2Nlc3NlZFJlc3BvbnNlLmhhbmRvZmZzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGV4ZWN1dGVIYW5kb2ZmQ2FsbHMoYWdlbnQsIG9yaWdpbmFsSW5wdXQsIHByZVN0ZXBJdGVtcywgbmV3SXRlbXMsIG5ld1Jlc3BvbnNlLCBwcm9jZXNzZWRSZXNwb25zZS5oYW5kb2ZmcywgcnVubmVyLCBzdGF0ZS5fY29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGNoZWNrVG9vbE91dHB1dCA9IGF3YWl0IGNoZWNrRm9yRmluYWxPdXRwdXRGcm9tVG9vbHMoYWdlbnQsIGZ1bmN0aW9uUmVzdWx0cywgc3RhdGUpO1xuICAgIGlmIChjaGVja1Rvb2xPdXRwdXQuaXNGaW5hbE91dHB1dCkge1xuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfZW5kJywgc3RhdGUuX2NvbnRleHQsIGFnZW50LCBjaGVja1Rvb2xPdXRwdXQuZmluYWxPdXRwdXQpO1xuICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgY2hlY2tUb29sT3V0cHV0LmZpbmFsT3V0cHV0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7XG4gICAgICAgICAgICB0eXBlOiAnbmV4dF9zdGVwX2ZpbmFsX291dHB1dCcsXG4gICAgICAgICAgICBvdXRwdXQ6IGNoZWNrVG9vbE91dHB1dC5maW5hbE91dHB1dCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoZWNrVG9vbE91dHB1dC5pc0ludGVycnVwdGVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywge1xuICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGludGVycnVwdGlvbnM6IGNoZWNrVG9vbE91dHB1dC5pbnRlcnJ1cHRpb25zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBtb2RlbCBpc3N1ZWQgYW55IHRvb2wgY2FsbHMgb3IgaGFuZG9mZnMgaW4gdGhpcyB0dXJuLFxuICAgIC8vIHdlIG11c3QgTk9UIHRyZWF0IGFueSBhc3Npc3RhbnQgbWVzc2FnZSBpbiB0aGUgc2FtZSB0dXJuIGFzIHRoZSBmaW5hbCBvdXRwdXQuXG4gICAgLy8gV2Ugc2hvdWxkIHJ1biB0aGUgbG9vcCBhZ2FpbiBzbyB0aGUgbW9kZWwgY2FuIHNlZSB0aGUgdG9vbCByZXN1bHRzIGFuZCByZXNwb25kLlxuICAgIGNvbnN0IGhhZFRvb2xDYWxsc09yQWN0aW9ucyA9IChwcm9jZXNzZWRSZXNwb25zZS5mdW5jdGlvbnM/Lmxlbmd0aCA/PyAwKSA+IDAgfHxcbiAgICAgICAgKHByb2Nlc3NlZFJlc3BvbnNlLmNvbXB1dGVyQWN0aW9ucz8ubGVuZ3RoID8/IDApID4gMCB8fFxuICAgICAgICAocHJvY2Vzc2VkUmVzcG9uc2UubWNwQXBwcm92YWxSZXF1ZXN0cz8ubGVuZ3RoID8/IDApID4gMCB8fFxuICAgICAgICAocHJvY2Vzc2VkUmVzcG9uc2UuaGFuZG9mZnM/Lmxlbmd0aCA/PyAwKSA+IDA7XG4gICAgaWYgKGhhZFRvb2xDYWxsc09yQWN0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFNpbmdsZVN0ZXBSZXN1bHQob3JpZ2luYWxJbnB1dCwgbmV3UmVzcG9uc2UsIHByZVN0ZXBJdGVtcywgbmV3SXRlbXMsIHsgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nIH0pO1xuICAgIH1cbiAgICAvLyBObyB0b29sIGNhbGxzL2FjdGlvbnMgaW4gdGhpcyB0dXJuOyBzYWZlIHRvIGNvbnNpZGVyIGEgcGxhaW4gYXNzaXN0YW50IG1lc3NhZ2UgYXMgZmluYWwuXG4gICAgY29uc3QgbWVzc2FnZUl0ZW1zID0gbmV3SXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtIGluc3RhbmNlb2YgUnVuTWVzc2FnZU91dHB1dEl0ZW0pO1xuICAgIC8vIHdlIHdpbGwgdXNlIHRoZSBsYXN0IGNvbnRlbnQgb3V0cHV0IGFzIHRoZSBmaW5hbCBvdXRwdXRcbiAgICBjb25zdCBwb3RlbnRpYWxGaW5hbE91dHB1dCA9IG1lc3NhZ2VJdGVtcy5sZW5ndGggPiAwXG4gICAgICAgID8gZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZShtZXNzYWdlSXRlbXNbbWVzc2FnZUl0ZW1zLmxlbmd0aCAtIDFdLnJhd0l0ZW0pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIC8vIGlmIHRoZXJlIGlzIG5vIG91dHB1dCB3ZSBqdXN0IHJ1biBhZ2FpblxuICAgIGlmICh0eXBlb2YgcG90ZW50aWFsRmluYWxPdXRwdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX3J1bl9hZ2FpbicgfSk7XG4gICAgfVxuICAgIGNvbnN0IGhhc1BlbmRpbmdUb29sc09yQXBwcm92YWxzID0gZnVuY3Rpb25SZXN1bHRzLnNvbWUoKHJlc3VsdCkgPT4gcmVzdWx0LnJ1bkl0ZW0gaW5zdGFuY2VvZiBSdW5Ub29sQXBwcm92YWxJdGVtKTtcbiAgICBpZiAoIWhhc1BlbmRpbmdUb29sc09yQXBwcm92YWxzKSB7XG4gICAgICAgIGlmIChhZ2VudC5vdXRwdXRUeXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfZmluYWxfb3V0cHV0JyxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IHBvdGVudGlhbEZpbmFsT3V0cHV0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFnZW50Lm91dHB1dFR5cGUgIT09ICd0ZXh0JyAmJiBwb3RlbnRpYWxGaW5hbE91dHB1dCkge1xuICAgICAgICAgICAgLy8gU3RydWN0dXJlZCBvdXRwdXQgc2NoZW1hID0+IGFsd2F5cyBsZWFkcyB0byBhIGZpbmFsIG91dHB1dCBpZiB3ZSBoYXZlIHRleHQuXG4gICAgICAgICAgICBjb25zdCB7IHBhcnNlciB9ID0gZ2V0U2NoZW1hQW5kUGFyc2VyRnJvbUlucHV0VHlwZShhZ2VudC5vdXRwdXRUeXBlLCAnZmluYWxfb3V0cHV0Jyk7XG4gICAgICAgICAgICBjb25zdCBbZXJyb3JdID0gYXdhaXQgc2FmZUV4ZWN1dGUoKCkgPT4gcGFyc2VyKHBvdGVudGlhbEZpbmFsT3V0cHV0KSk7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBhZGRFcnJvclRvQ3VycmVudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBvdXRwdXQgdHlwZScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoJ0ludmFsaWQgb3V0cHV0IHR5cGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX2ZpbmFsX291dHB1dCcsIG91dHB1dDogcG90ZW50aWFsRmluYWxPdXRwdXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld0l0ZW1zLCB7IHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyB9KTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb29sQ2FsbE91dHB1dEl0ZW0odG9vbENhbGwsIG91dHB1dCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdmdW5jdGlvbl9jYWxsX3Jlc3VsdCcsXG4gICAgICAgIG5hbWU6IHRvb2xDYWxsLm5hbWUsXG4gICAgICAgIGNhbGxJZDogdG9vbENhbGwuY2FsbElkLFxuICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICBvdXRwdXQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgIHRleHQ6IHRvU21hcnRTdHJpbmcob3V0cHV0KSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVGdW5jdGlvblRvb2xDYWxscyhhZ2VudCwgdG9vbFJ1bnMsIHJ1bm5lciwgc3RhdGUpIHtcbiAgICBhc3luYyBmdW5jdGlvbiBydW5TaW5nbGVUb29sKHRvb2xSdW4pIHtcbiAgICAgICAgbGV0IHBhcnNlZEFyZ3MgPSB0b29sUnVuLnRvb2xDYWxsLmFyZ3VtZW50cztcbiAgICAgICAgaWYgKHRvb2xSdW4udG9vbC5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoaXNab2RPYmplY3QodG9vbFJ1bi50b29sLnBhcmFtZXRlcnMpKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJncyA9IHRvb2xSdW4udG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJncyA9IEpTT04ucGFyc2UocGFyc2VkQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmVlZHNBcHByb3ZhbCA9IGF3YWl0IHRvb2xSdW4udG9vbC5uZWVkc0FwcHJvdmFsKHN0YXRlLl9jb250ZXh0LCBwYXJzZWRBcmdzLCB0b29sUnVuLnRvb2xDYWxsLmNhbGxJZCk7XG4gICAgICAgIGlmIChuZWVkc0FwcHJvdmFsKSB7XG4gICAgICAgICAgICBjb25zdCBhcHByb3ZhbCA9IHN0YXRlLl9jb250ZXh0LmlzVG9vbEFwcHJvdmVkKHtcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbFJ1bi50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgY2FsbElkOiB0b29sUnVuLnRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFwcHJvdmFsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIHJlamVjdGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpdGhGdW5jdGlvblNwYW4oYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSAnVG9vbCBleGVjdXRpb24gd2FzIG5vdCBhcHByb3ZlZC4nO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfbmFtZTogdG9vbFJ1bi50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGBUb29sIGV4ZWN1dGlvbiBmb3IgJHt0b29sUnVuLnRvb2xDYWxsLmNhbGxJZH0gd2FzIG1hbnVhbGx5IHJlamVjdGVkIGJ5IHVzZXIuYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNwYW5EYXRhLm91dHB1dCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX291dHB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sOiB0b29sUnVuLnRvb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuSXRlbTogbmV3IFJ1blRvb2xDYWxsT3V0cHV0SXRlbShnZXRUb29sQ2FsbE91dHB1dEl0ZW0odG9vbFJ1bi50b29sQ2FsbCwgcmVzcG9uc2UpLCBhZ2VudCwgcmVzcG9uc2UpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdG9vbFJ1bi50b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXBwcm92YWwgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGFwcHJvdmFsIHByb2Nlc3MgbmVlZHMgdG8gYmUgZG9uZSBpbiB0aGUgbmV4dCB0dXJuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uX2FwcHJvdmFsJyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbDogdG9vbFJ1bi50b29sLFxuICAgICAgICAgICAgICAgICAgICBydW5JdGVtOiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbSh0b29sUnVuLnRvb2xDYWxsLCBhZ2VudCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2l0aEZ1bmN0aW9uU3Bhbihhc3luYyAoc3BhbikgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5lci5jb25maWcudHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSkge1xuICAgICAgICAgICAgICAgIHNwYW4uc3BhbkRhdGEuaW5wdXQgPSB0b29sUnVuLnRvb2xDYWxsLmFyZ3VtZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCBzdGF0ZS5fY29udGV4dCwgYWdlbnQsIHRvb2xSdW4udG9vbCwge1xuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbDogdG9vbFJ1bi50b29sQ2FsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF90b29sX3N0YXJ0Jywgc3RhdGUuX2NvbnRleHQsIHRvb2xSdW4udG9vbCwge1xuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbDogdG9vbFJ1bi50b29sQ2FsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sT3V0cHV0ID0gYXdhaXQgdG9vbFJ1bi50b29sLmludm9rZShzdGF0ZS5fY29udGV4dCwgdG9vbFJ1bi50b29sQ2FsbC5hcmd1bWVudHMsIHsgdG9vbENhbGw6IHRvb2xSdW4udG9vbENhbGwgfSk7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHN0cmluZyBkYXRhIGZvciB0cmFjaW5nIGFuZCBldmVudCBlbWl0dGVyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5nUmVzdWx0ID0gdG9TbWFydFN0cmluZyh0b29sT3V0cHV0KTtcbiAgICAgICAgICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgYWdlbnQsIHRvb2xSdW4udG9vbCwgc3RyaW5nUmVzdWx0LCB7IHRvb2xDYWxsOiB0b29sUnVuLnRvb2xDYWxsIH0pO1xuICAgICAgICAgICAgICAgIGFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgc3RhdGUuX2NvbnRleHQsIHRvb2xSdW4udG9vbCwgc3RyaW5nUmVzdWx0LCB7IHRvb2xDYWxsOiB0b29sUnVuLnRvb2xDYWxsIH0pO1xuICAgICAgICAgICAgICAgIGlmIChydW5uZXIuY29uZmlnLnRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zcGFuRGF0YS5vdXRwdXQgPSBzdHJpbmdSZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uUmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fb3V0cHV0JyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbDogdG9vbFJ1bi50b29sLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHRvb2xPdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgIHJ1bkl0ZW06IG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0oZ2V0VG9vbENhbGxPdXRwdXRJdGVtKHRvb2xSdW4udG9vbENhbGwsIHRvb2xPdXRwdXQpLCBhZ2VudCwgdG9vbE91dHB1dCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXN0ZWRSdW5SZXN1bHQgPSBjb25zdW1lQWdlbnRUb29sUnVuUmVzdWx0KHRvb2xSdW4udG9vbENhbGwpO1xuICAgICAgICAgICAgICAgIGlmIChuZXN0ZWRSdW5SZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25SZXN1bHQuYWdlbnRSdW5SZXN1bHQgPSBuZXN0ZWRSdW5SZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZEludGVycnVwdGlvbnMgPSBuZXN0ZWRSdW5SZXN1bHQuaW50ZXJydXB0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5lc3RlZEludGVycnVwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25SZXN1bHQuaW50ZXJydXB0aW9ucyA9IG5lc3RlZEludGVycnVwdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBydW5uaW5nIHRvb2wnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX25hbWU6IHRvb2xSdW4udG9vbC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0b29sUnVuLnRvb2wubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwodG9vbFJ1bnMubWFwKHJ1blNpbmdsZVRvb2wpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBUb29sQ2FsbEVycm9yKGBGYWlsZWQgdG8gcnVuIGZ1bmN0aW9uIHRvb2xzOiAke2V9YCwgZSwgc3RhdGUpO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbi8vIEludGVybmFsIGhlbHBlcjogZGlzcGF0Y2ggYSBjb21wdXRlciBhY3Rpb24gYW5kIHJldHVybiBhIHNjcmVlbnNob3QgKHN5bmMvYXN5bmMpXG5hc3luYyBmdW5jdGlvbiBfcnVuQ29tcHV0ZXJBY3Rpb25BbmRTY3JlZW5zaG90KGNvbXB1dGVyLCB0b29sQ2FsbCkge1xuICAgIGNvbnN0IGFjdGlvbiA9IHRvb2xDYWxsLmFjdGlvbjtcbiAgICBsZXQgc2NyZWVuc2hvdDtcbiAgICAvLyBEaXNwYXRjaCBiYXNlZCBvbiBhY3Rpb24gdHlwZSBzdHJpbmcgKGFzc3VtZSBhY3Rpb24udHlwZSBleGlzdHMpXG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdjbGljayc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci5jbGljayhhY3Rpb24ueCwgYWN0aW9uLnksIGFjdGlvbi5idXR0b24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RvdWJsZV9jbGljayc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci5kb3VibGVDbGljayhhY3Rpb24ueCwgYWN0aW9uLnkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RyYWcnOlxuICAgICAgICAgICAgYXdhaXQgY29tcHV0ZXIuZHJhZyhhY3Rpb24ucGF0aC5tYXAoKHApID0+IFtwLngsIHAueV0pKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdrZXlwcmVzcyc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci5rZXlwcmVzcyhhY3Rpb24ua2V5cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW92ZSc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci5tb3ZlKGFjdGlvbi54LCBhY3Rpb24ueSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2NyZWVuc2hvdCc6XG4gICAgICAgICAgICBzY3JlZW5zaG90ID0gYXdhaXQgY29tcHV0ZXIuc2NyZWVuc2hvdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Njcm9sbCc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci5zY3JvbGwoYWN0aW9uLngsIGFjdGlvbi55LCBhY3Rpb24uc2Nyb2xsX3gsIGFjdGlvbi5zY3JvbGxfeSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndHlwZSc6XG4gICAgICAgICAgICBhd2FpdCBjb21wdXRlci50eXBlKGFjdGlvbi50ZXh0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd3YWl0JzpcbiAgICAgICAgICAgIGF3YWl0IGNvbXB1dGVyLndhaXQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYWN0aW9uOyAvLyBlbnN1cmVzIHRoYXQgd2UgaGFuZGxlIGV2ZXJ5IGFjdGlvbiB3ZSBrbm93IG9mXG4gICAgICAgICAgICAvLyBVbmtub3duIGFjdGlvbiwganVzdCB0YWtlIHNjcmVlbnNob3RcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNjcmVlbnNob3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBzY3JlZW5zaG90O1xuICAgIH1cbiAgICAvLyBBbHdheXMgcmV0dXJuIHNjcmVlbnNob3QgYXMgYmFzZTY0IHN0cmluZ1xuICAgIGlmICh0eXBlb2YgY29tcHV0ZXIuc2NyZWVuc2hvdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzY3JlZW5zaG90ID0gYXdhaXQgY29tcHV0ZXIuc2NyZWVuc2hvdCgpO1xuICAgICAgICBpZiAodHlwZW9mIHNjcmVlbnNob3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NyZWVuc2hvdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXB1dGVyIGRvZXMgbm90IGltcGxlbWVudCBzY3JlZW5zaG90KCknKTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlQ29tcHV0ZXJBY3Rpb25zKGFnZW50LCBhY3Rpb25zLCBydW5uZXIsIHJ1bkNvbnRleHQsIGN1c3RvbUxvZ2dlciA9IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IF9sb2dnZXIgPSBjdXN0b21Mb2dnZXIgPz8gbG9nZ2VyO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVyID0gYWN0aW9uLmNvbXB1dGVyLmNvbXB1dGVyO1xuICAgICAgICBjb25zdCB0b29sQ2FsbCA9IGFjdGlvbi50b29sQ2FsbDtcbiAgICAgICAgLy8gSG9va3M6IG9uX3Rvb2xfc3RhcnQgKGdsb2JhbCArIGFnZW50KVxuICAgICAgICBydW5uZXIuZW1pdCgnYWdlbnRfdG9vbF9zdGFydCcsIHJ1bkNvbnRleHQsIGFnZW50LCBhY3Rpb24uY29tcHV0ZXIsIHtcbiAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiBhZ2VudC5lbWl0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF90b29sX3N0YXJ0JywgcnVuQ29udGV4dCwgYWN0aW9uLmNvbXB1dGVyLCB7IHRvb2xDYWxsIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1biB0aGUgYWN0aW9uIGFuZCBnZXQgc2NyZWVuc2hvdFxuICAgICAgICBsZXQgb3V0cHV0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0ID0gYXdhaXQgX3J1bkNvbXB1dGVyQWN0aW9uQW5kU2NyZWVuc2hvdChjb21wdXRlciwgdG9vbENhbGwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIF9sb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBleGVjdXRlIGNvbXB1dGVyIGFjdGlvbjonLCBlcnIpO1xuICAgICAgICAgICAgb3V0cHV0ID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSG9va3M6IG9uX3Rvb2xfZW5kIChnbG9iYWwgKyBhZ2VudClcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X3Rvb2xfZW5kJywgcnVuQ29udGV4dCwgYWdlbnQsIGFjdGlvbi5jb21wdXRlciwgb3V0cHV0LCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2YgYWdlbnQuZW1pdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCBydW5Db250ZXh0LCBhY3Rpb24uY29tcHV0ZXIsIG91dHB1dCwge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWx3YXlzIHJldHVybiBhIHNjcmVlbnNob3QgYXMgYSBiYXNlNjQgZGF0YSBVUkxcbiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBvdXRwdXQgPyBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LCR7b3V0cHV0fWAgOiAnJztcbiAgICAgICAgY29uc3QgcmF3SXRlbSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdjb21wdXRlcl9jYWxsX3Jlc3VsdCcsXG4gICAgICAgICAgICBjYWxsSWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIG91dHB1dDogeyB0eXBlOiAnY29tcHV0ZXJfc2NyZWVuc2hvdCcsIGRhdGE6IGltYWdlVXJsIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJlc3VsdHMucHVzaChuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKHJhd0l0ZW0sIGFnZW50LCBpbWFnZVVybCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlSGFuZG9mZkNhbGxzKGFnZW50LCBvcmlnaW5hbElucHV0LCBwcmVTdGVwSXRlbXMsIG5ld1N0ZXBJdGVtcywgbmV3UmVzcG9uc2UsIHJ1bkhhbmRvZmZzLCBydW5uZXIsIHJ1bkNvbnRleHQpIHtcbiAgICBuZXdTdGVwSXRlbXMgPSBbLi4ubmV3U3RlcEl0ZW1zXTtcbiAgICBpZiAocnVuSGFuZG9mZnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdJbmNvcnJlY3RseSBjYWxsZWQgZXhlY3V0ZUhhbmRvZmZDYWxscyB3aXRoIG5vIGhhbmRvZmZzLiBUaGlzIHNob3VsZCBub3QgaGFwcGVuLiBNb3Zpbmcgb24uJyk7XG4gICAgICAgIHJldHVybiBuZXcgU2luZ2xlU3RlcFJlc3VsdChvcmlnaW5hbElucHV0LCBuZXdSZXNwb25zZSwgcHJlU3RlcEl0ZW1zLCBuZXdTdGVwSXRlbXMsIHsgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nIH0pO1xuICAgIH1cbiAgICBpZiAocnVuSGFuZG9mZnMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBtdWx0aXBsZSBoYW5kb2Zmcy4gSWdub3JpbmcgYWxsIGJ1dCB0aGUgZmlyc3Qgb25lIGJ5IGFkZGluZyByZWplY3QgcmVzcG9uc2VzIGZvciB0aG9zZVxuICAgICAgICBjb25zdCBvdXRwdXRNZXNzYWdlID0gJ011bHRpcGxlIGhhbmRvZmZzIGRldGVjdGVkLCBpZ25vcmluZyB0aGlzIG9uZS4nO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHJ1bkhhbmRvZmZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBuZXdTdGVwSXRlbXMucHVzaChuZXcgUnVuVG9vbENhbGxPdXRwdXRJdGVtKGdldFRvb2xDYWxsT3V0cHV0SXRlbShydW5IYW5kb2Zmc1tpXS50b29sQ2FsbCwgb3V0cHV0TWVzc2FnZSksIGFnZW50LCBvdXRwdXRNZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWN0dWFsSGFuZG9mZiA9IHJ1bkhhbmRvZmZzWzBdO1xuICAgIHJldHVybiB3aXRoSGFuZG9mZlNwYW4oYXN5bmMgKGhhbmRvZmZTcGFuKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRvZmYgPSBhY3R1YWxIYW5kb2ZmLmhhbmRvZmY7XG4gICAgICAgIGNvbnN0IG5ld0FnZW50ID0gYXdhaXQgaGFuZG9mZi5vbkludm9rZUhhbmRvZmYocnVuQ29udGV4dCwgYWN0dWFsSGFuZG9mZi50b29sQ2FsbC5hcmd1bWVudHMpO1xuICAgICAgICBoYW5kb2ZmU3Bhbi5zcGFuRGF0YS50b19hZ2VudCA9IG5ld0FnZW50Lm5hbWU7XG4gICAgICAgIGlmIChydW5IYW5kb2Zmcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ZWRBZ2VudHMgPSBydW5IYW5kb2Zmcy5tYXAoKGgpID0+IGguaGFuZG9mZi5hZ2VudE5hbWUpO1xuICAgICAgICAgICAgaGFuZG9mZlNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdNdWx0aXBsZSBoYW5kb2ZmcyByZXF1ZXN0ZWQnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdGVkX2FnZW50czogcmVxdWVzdGVkQWdlbnRzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBuZXdTdGVwSXRlbXMucHVzaChuZXcgUnVuSGFuZG9mZk91dHB1dEl0ZW0oZ2V0VG9vbENhbGxPdXRwdXRJdGVtKGFjdHVhbEhhbmRvZmYudG9vbENhbGwsIGdldFRyYW5zZmVyTWVzc2FnZShuZXdBZ2VudCkpLCBhZ2VudCwgbmV3QWdlbnQpKTtcbiAgICAgICAgcnVubmVyLmVtaXQoJ2FnZW50X2hhbmRvZmYnLCBydW5Db250ZXh0LCBhZ2VudCwgbmV3QWdlbnQpO1xuICAgICAgICBhZ2VudC5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgcnVuQ29udGV4dCwgbmV3QWdlbnQpO1xuICAgICAgICBjb25zdCBpbnB1dEZpbHRlciA9IGhhbmRvZmYuaW5wdXRGaWx0ZXIgPz8gcnVubmVyLmNvbmZpZy5oYW5kb2ZmSW5wdXRGaWx0ZXI7XG4gICAgICAgIGlmIChpbnB1dEZpbHRlcikge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKCdGaWx0ZXJpbmcgaW5wdXRzIGZvciBoYW5kb2ZmJyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0RmlsdGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaGFuZG9mZlNwYW4uc2V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCBpbnB1dCBmaWx0ZXInLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiAnbm90IGNhbGxhYmxlJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhbmRvZmZJbnB1dERhdGEgPSB7XG4gICAgICAgICAgICAgICAgaW5wdXRIaXN0b3J5OiBBcnJheS5pc0FycmF5KG9yaWdpbmFsSW5wdXQpXG4gICAgICAgICAgICAgICAgICAgID8gWy4uLm9yaWdpbmFsSW5wdXRdXG4gICAgICAgICAgICAgICAgICAgIDogb3JpZ2luYWxJbnB1dCxcbiAgICAgICAgICAgICAgICBwcmVIYW5kb2ZmSXRlbXM6IFsuLi5wcmVTdGVwSXRlbXNdLFxuICAgICAgICAgICAgICAgIG5ld0l0ZW1zOiBbLi4ubmV3U3RlcEl0ZW1zXSxcbiAgICAgICAgICAgICAgICBydW5Db250ZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gaW5wdXRGaWx0ZXIoaGFuZG9mZklucHV0RGF0YSk7XG4gICAgICAgICAgICBvcmlnaW5hbElucHV0ID0gZmlsdGVyZWQuaW5wdXRIaXN0b3J5O1xuICAgICAgICAgICAgcHJlU3RlcEl0ZW1zID0gZmlsdGVyZWQucHJlSGFuZG9mZkl0ZW1zO1xuICAgICAgICAgICAgbmV3U3RlcEl0ZW1zID0gZmlsdGVyZWQubmV3SXRlbXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVTdGVwUmVzdWx0KG9yaWdpbmFsSW5wdXQsIG5ld1Jlc3BvbnNlLCBwcmVTdGVwSXRlbXMsIG5ld1N0ZXBJdGVtcywgeyB0eXBlOiAnbmV4dF9zdGVwX2hhbmRvZmYnLCBuZXdBZ2VudCB9KTtcbiAgICB9LCB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGZyb21fYWdlbnQ6IGFnZW50Lm5hbWUsXG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5jb25zdCBOT1RfRklOQUxfT1VUUFVUID0ge1xuICAgIGlzRmluYWxPdXRwdXQ6IGZhbHNlLFxuICAgIGlzSW50ZXJydXB0ZWQ6IHVuZGVmaW5lZCxcbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tGb3JGaW5hbE91dHB1dEZyb21Ub29scyhhZ2VudCwgdG9vbFJlc3VsdHMsIHN0YXRlKSB7XG4gICAgaWYgKHRvb2xSZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gTk9UX0ZJTkFMX09VVFBVVDtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJydXB0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHRvb2xSZXN1bHRzKSB7XG4gICAgICAgIGlmIChyZXN1bHQucnVuSXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pIHtcbiAgICAgICAgICAgIGludGVycnVwdGlvbnMucHVzaChyZXN1bHQucnVuSXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC50eXBlID09PSAnZnVuY3Rpb25fb3V0cHV0Jykge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmludGVycnVwdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJydXB0aW9ucy5wdXNoKC4uLnJlc3VsdC5pbnRlcnJ1cHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5hZ2VudFJ1blJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lc3RlZEludGVycnVwdGlvbnMgPSByZXN1bHQuYWdlbnRSdW5SZXN1bHQuaW50ZXJydXB0aW9ucztcbiAgICAgICAgICAgICAgICBpZiAobmVzdGVkSW50ZXJydXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVycnVwdGlvbnMucHVzaCguLi5uZXN0ZWRJbnRlcnJ1cHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGludGVycnVwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNGaW5hbE91dHB1dDogZmFsc2UsXG4gICAgICAgICAgICBpc0ludGVycnVwdGVkOiB0cnVlLFxuICAgICAgICAgICAgaW50ZXJydXB0aW9ucyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGFnZW50LnRvb2xVc2VCZWhhdmlvciA9PT0gJ3J1bl9sbG1fYWdhaW4nKSB7XG4gICAgICAgIHJldHVybiBOT1RfRklOQUxfT1VUUFVUO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdFRvb2xSZXN1bHQgPSB0b29sUmVzdWx0c1swXTtcbiAgICBpZiAoYWdlbnQudG9vbFVzZUJlaGF2aW9yID09PSAnc3RvcF9vbl9maXJzdF90b29sJykge1xuICAgICAgICBpZiAoZmlyc3RUb29sUmVzdWx0Py50eXBlID09PSAnZnVuY3Rpb25fb3V0cHV0Jykge1xuICAgICAgICAgICAgY29uc3Qgc3RyaW5nT3V0cHV0ID0gdG9TbWFydFN0cmluZyhmaXJzdFRvb2xSZXN1bHQub3V0cHV0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNGaW5hbE91dHB1dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc0ludGVycnVwdGVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZmluYWxPdXRwdXQ6IHN0cmluZ091dHB1dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5PVF9GSU5BTF9PVVRQVVQ7XG4gICAgfVxuICAgIGNvbnN0IHRvb2xVc2VCZWhhdmlvciA9IGFnZW50LnRvb2xVc2VCZWhhdmlvcjtcbiAgICBpZiAodHlwZW9mIHRvb2xVc2VCZWhhdmlvciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcHBpbmdUb29sID0gdG9vbFJlc3VsdHMuZmluZCgocikgPT4gdG9vbFVzZUJlaGF2aW9yLnN0b3BBdFRvb2xOYW1lcy5pbmNsdWRlcyhyLnRvb2wubmFtZSkpO1xuICAgICAgICBpZiAoc3RvcHBpbmdUb29sPy50eXBlID09PSAnZnVuY3Rpb25fb3V0cHV0Jykge1xuICAgICAgICAgICAgY29uc3Qgc3RyaW5nT3V0cHV0ID0gdG9TbWFydFN0cmluZyhzdG9wcGluZ1Rvb2wub3V0cHV0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNGaW5hbE91dHB1dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc0ludGVycnVwdGVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZmluYWxPdXRwdXQ6IHN0cmluZ091dHB1dCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5PVF9GSU5BTF9PVVRQVVQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdG9vbFVzZUJlaGF2aW9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0b29sVXNlQmVoYXZpb3Ioc3RhdGUuX2NvbnRleHQsIHRvb2xSZXN1bHRzKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgSW52YWxpZCB0b29sVXNlQmVoYXZpb3I6ICR7dG9vbFVzZUJlaGF2aW9yfWAsIHN0YXRlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhZGRTdGVwVG9SdW5SZXN1bHQocmVzdWx0LCBzdGVwKSB7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHN0ZXAubmV3U3RlcEl0ZW1zKSB7XG4gICAgICAgIGxldCBpdGVtTmFtZTtcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5NZXNzYWdlT3V0cHV0SXRlbSkge1xuICAgICAgICAgICAgaXRlbU5hbWUgPSAnbWVzc2FnZV9vdXRwdXRfY3JlYXRlZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1bkhhbmRvZmZDYWxsSXRlbSkge1xuICAgICAgICAgICAgaXRlbU5hbWUgPSAnaGFuZG9mZl9yZXF1ZXN0ZWQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5IYW5kb2ZmT3V0cHV0SXRlbSkge1xuICAgICAgICAgICAgaXRlbU5hbWUgPSAnaGFuZG9mZl9vY2N1cnJlZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xDYWxsSXRlbSkge1xuICAgICAgICAgICAgaXRlbU5hbWUgPSAndG9vbF9jYWxsZWQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0gaW5zdGFuY2VvZiBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW1OYW1lID0gJ3Rvb2xfb3V0cHV0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpdGVtIGluc3RhbmNlb2YgUnVuUmVhc29uaW5nSXRlbSkge1xuICAgICAgICAgICAgaXRlbU5hbWUgPSAncmVhc29uaW5nX2l0ZW1fY3JlYXRlZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbSBpbnN0YW5jZW9mIFJ1blRvb2xBcHByb3ZhbEl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW1OYW1lID0gJ3Rvb2xfYXBwcm92YWxfcmVxdWVzdGVkJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdVbmtub3duIGl0ZW0gdHlwZTogJywgaXRlbSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuX2FkZEl0ZW0obmV3IFJ1bkl0ZW1TdHJlYW1FdmVudChpdGVtTmFtZSwgaXRlbSkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBZ2VudFRvb2xVc2VUcmFja2VyIHtcbiAgICAjYWdlbnRUb1Rvb2xzID0gbmV3IE1hcCgpO1xuICAgIGFkZFRvb2xVc2UoYWdlbnQsIHRvb2xOYW1lcykge1xuICAgICAgICB0aGlzLiNhZ2VudFRvVG9vbHMuc2V0KGFnZW50LCB0b29sTmFtZXMpO1xuICAgIH1cbiAgICBoYXNVc2VkVG9vbHMoYWdlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2FnZW50VG9Ub29scy5oYXMoYWdlbnQpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbSh0aGlzLiNhZ2VudFRvVG9vbHMuZW50cmllcygpKS5tYXAoKFthZ2VudCwgdG9vbE5hbWVzXSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFthZ2VudC5uYW1lLCB0b29sTmFtZXNdO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVuSW1wbGVtZW50YXRpb24ubWpzLm1hcCIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmltcG9ydCB7IFJ1bk1lc3NhZ2VPdXRwdXRJdGVtLCBSdW5Ub29sQXBwcm92YWxJdGVtLCBSdW5Ub29sQ2FsbEl0ZW0sIFJ1blRvb2xDYWxsT3V0cHV0SXRlbSwgUnVuUmVhc29uaW5nSXRlbSwgUnVuSGFuZG9mZkNhbGxJdGVtLCBSdW5IYW5kb2ZmT3V0cHV0SXRlbSwgfSBmcm9tIFwiLi9pdGVtcy5tanNcIjtcbmltcG9ydCB7IFJ1bkNvbnRleHQgfSBmcm9tIFwiLi9ydW5Db250ZXh0Lm1qc1wiO1xuaW1wb3J0IHsgZ2V0VHVybklucHV0IH0gZnJvbSBcIi4vcnVuLm1qc1wiO1xuaW1wb3J0IHsgQWdlbnRUb29sVXNlVHJhY2tlciwgbmV4dFN0ZXBTY2hlbWEsIH0gZnJvbSBcIi4vcnVuSW1wbGVtZW50YXRpb24ubWpzXCI7XG5pbXBvcnQgeyBTeXN0ZW1FcnJvciwgVXNlckVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgZ2V0R2xvYmFsVHJhY2VQcm92aWRlciB9IGZyb20gXCIuL3RyYWNpbmcvcHJvdmlkZXIubWpzXCI7XG5pbXBvcnQgeyBVc2FnZSB9IGZyb20gXCIuL3VzYWdlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFRyYWNlIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgaGFuZG9mZiB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5pbXBvcnQgKiBhcyBwcm90b2NvbCBmcm9tIFwiLi90eXBlcy9wcm90b2NvbC5tanNcIjtcbmltcG9ydCB7IHNhZmVFeGVjdXRlIH0gZnJvbSBcIi4vdXRpbHMvc2FmZUV4ZWN1dGUubWpzXCI7XG4vKipcbiAqIFRoZSBzY2hlbWEgdmVyc2lvbiBvZiB0aGUgc2VyaWFsaXplZCBydW4gc3RhdGUuIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgc2VyaWFsaXplZFxuICogcnVuIHN0YXRlIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBTREsuXG4gKiBJZiBhbnl0aGluZyBpbiB0aGlzIHNjaGVtYSBjaGFuZ2VzLCB0aGUgdmVyc2lvbiB3aWxsIGhhdmUgdG8gYmUgaW5jcmVtZW50ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBDVVJSRU5UX1NDSEVNQV9WRVJTSU9OID0gJzEuMCc7XG5jb25zdCAkc2NoZW1hVmVyc2lvbiA9IHoubGl0ZXJhbChDVVJSRU5UX1NDSEVNQV9WRVJTSU9OKTtcbmNvbnN0IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBuYW1lOiB6LnN0cmluZygpLFxufSk7XG5jb25zdCBzZXJpYWxpemVkU3BhbkJhc2UgPSB6Lm9iamVjdCh7XG4gICAgb2JqZWN0OiB6LmxpdGVyYWwoJ3RyYWNlLnNwYW4nKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICB0cmFjZV9pZDogei5zdHJpbmcoKSxcbiAgICBwYXJlbnRfaWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICBzdGFydGVkX2F0OiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgZW5kZWRfYXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICBlcnJvcjogelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICAgICAgZGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKSxcbiAgICB9KVxuICAgICAgICAubnVsbGFibGUoKSxcbiAgICBzcGFuX2RhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxufSk7XG5jb25zdCBTZXJpYWxpemVkU3BhbiA9IHNlcmlhbGl6ZWRTcGFuQmFzZS5leHRlbmQoe1xuICAgIHByZXZpb3VzX3NwYW46IHoubGF6eSgoKSA9PiBTZXJpYWxpemVkU3Bhbikub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgdXNhZ2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgcmVxdWVzdHM6IHoubnVtYmVyKCksXG4gICAgaW5wdXRUb2tlbnM6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0VG9rZW5zOiB6Lm51bWJlcigpLFxuICAgIHRvdGFsVG9rZW5zOiB6Lm51bWJlcigpLFxufSk7XG5jb25zdCBtb2RlbFJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHVzYWdlOiB1c2FnZVNjaGVtYSxcbiAgICBvdXRwdXQ6IHouYXJyYXkocHJvdG9jb2wuT3V0cHV0TW9kZWxJdGVtKSxcbiAgICByZXNwb25zZUlkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcHJvdmlkZXJEYXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKS5vcHRpb25hbCgpLFxufSk7XG5jb25zdCBpdGVtU2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2Vfb3V0cHV0X2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuQXNzaXN0YW50TWVzc2FnZUl0ZW0sXG4gICAgICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2xfY2FsbF9pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLlRvb2xDYWxsSXRlbS5vcihwcm90b2NvbC5Ib3N0ZWRUb29sQ2FsbEl0ZW0pLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCd0b29sX2NhbGxfb3V0cHV0X2l0ZW0nKSxcbiAgICAgICAgcmF3SXRlbTogcHJvdG9jb2wuRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSxcbiAgICAgICAgYWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICAgICAgb3V0cHV0OiB6LnN0cmluZygpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdyZWFzb25pbmdfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5SZWFzb25pbmdJdGVtLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdoYW5kb2ZmX2NhbGxfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5GdW5jdGlvbkNhbGxJdGVtLFxuICAgICAgICBhZ2VudDogc2VyaWFsaXplZEFnZW50U2NoZW1hLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdoYW5kb2ZmX291dHB1dF9pdGVtJyksXG4gICAgICAgIHJhd0l0ZW06IHByb3RvY29sLkZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0sXG4gICAgICAgIHNvdXJjZUFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgICAgIHRhcmdldEFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG4gICAgei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2xfYXBwcm92YWxfaXRlbScpLFxuICAgICAgICByYXdJdGVtOiBwcm90b2NvbC5GdW5jdGlvbkNhbGxJdGVtLm9yKHByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbSksXG4gICAgICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgfSksXG5dKTtcbmNvbnN0IHNlcmlhbGl6ZWRUcmFjZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBvYmplY3Q6IHoubGl0ZXJhbCgndHJhY2UnKSxcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICB3b3JrZmxvd19uYW1lOiB6LnN0cmluZygpLFxuICAgIGdyb3VwX2lkOiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgbWV0YWRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxufSk7XG5jb25zdCBzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbmV3SXRlbXM6IHouYXJyYXkoaXRlbVNjaGVtYSksXG4gICAgdG9vbHNVc2VkOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIGhhbmRvZmZzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgdG9vbENhbGw6IHouYW55KCksXG4gICAgICAgIGhhbmRvZmY6IHouYW55KCksXG4gICAgfSkpLFxuICAgIGZ1bmN0aW9uczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIHRvb2xDYWxsOiB6LmFueSgpLFxuICAgICAgICB0b29sOiB6LmFueSgpLFxuICAgIH0pKSxcbiAgICBjb21wdXRlckFjdGlvbnM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICB0b29sQ2FsbDogei5hbnkoKSxcbiAgICAgICAgY29tcHV0ZXI6IHouYW55KCksXG4gICAgfSkpLFxuICAgIG1jcEFwcHJvdmFsUmVxdWVzdHM6IHpcbiAgICAgICAgLmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgcmVxdWVzdEl0ZW06IHoub2JqZWN0KHtcbiAgICAgICAgICAgIC8vIHByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbVxuICAgICAgICAgICAgcmF3SXRlbTogei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnaG9zdGVkX3Rvb2xfY2FsbCcpLFxuICAgICAgICAgICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgb3V0cHV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBhbHdheXMgZXhpc3RzIGJ1dCBtYXJrZWQgYXMgb3B0aW9uYWwgZm9yIGVhcmx5IHZlcnNpb24gY29tcGF0aWJpbGl0eTsgd2hlbiByZWxlYXNpbmcgMS4wLCB3ZSBjYW4gcmVtb3ZlIHRoZSBudWxsYWJsZSBhbmQgb3B0aW9uYWxcbiAgICAgICAgICAgICAgICBwcm92aWRlckRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgICAgLy8gSG9zdGVkTUNQVG9vbFxuICAgICAgICBtY3BUb29sOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2hvc3RlZF90b29sJyksXG4gICAgICAgICAgICBuYW1lOiB6LmxpdGVyYWwoJ2hvc3RlZF9tY3AnKSxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSksXG4gICAgICAgIH0pLFxuICAgIH0pKVxuICAgICAgICAub3B0aW9uYWwoKSxcbn0pO1xuY29uc3QgZ3VhcmRyYWlsRnVuY3Rpb25PdXRwdXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHJpcHdpcmVUcmlnZ2VyZWQ6IHouYm9vbGVhbigpLFxuICAgIG91dHB1dEluZm86IHouYW55KCksXG59KTtcbmNvbnN0IGlucHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGd1YXJkcmFpbDogei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0JyksXG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgfSksXG4gICAgb3V0cHV0OiBndWFyZHJhaWxGdW5jdGlvbk91dHB1dFNjaGVtYSxcbn0pO1xuY29uc3Qgb3V0cHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGd1YXJkcmFpbDogei5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dCcpLFxuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIH0pLFxuICAgIGFnZW50T3V0cHV0OiB6LmFueSgpLFxuICAgIGFnZW50OiBzZXJpYWxpemVkQWdlbnRTY2hlbWEsXG4gICAgb3V0cHV0OiBndWFyZHJhaWxGdW5jdGlvbk91dHB1dFNjaGVtYSxcbn0pO1xuZXhwb3J0IGNvbnN0IFNlcmlhbGl6ZWRSdW5TdGF0ZSA9IHoub2JqZWN0KHtcbiAgICAkc2NoZW1hVmVyc2lvbixcbiAgICBjdXJyZW50VHVybjogei5udW1iZXIoKSxcbiAgICBjdXJyZW50QWdlbnQ6IHNlcmlhbGl6ZWRBZ2VudFNjaGVtYSxcbiAgICBvcmlnaW5hbElucHV0OiB6LnN0cmluZygpLm9yKHouYXJyYXkocHJvdG9jb2wuTW9kZWxJdGVtKSksXG4gICAgbW9kZWxSZXNwb25zZXM6IHouYXJyYXkobW9kZWxSZXNwb25zZVNjaGVtYSksXG4gICAgY29udGV4dDogei5vYmplY3Qoe1xuICAgICAgICB1c2FnZTogdXNhZ2VTY2hlbWEsXG4gICAgICAgIGFwcHJvdmFsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5vYmplY3Qoe1xuICAgICAgICAgICAgYXBwcm92ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3Ioei5ib29sZWFuKCkpLFxuICAgICAgICAgICAgcmVqZWN0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3Ioei5ib29sZWFuKCkpLFxuICAgICAgICB9KSksXG4gICAgICAgIGNvbnRleHQ6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgIH0pLFxuICAgIHRvb2xVc2VUcmFja2VyOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFycmF5KHouc3RyaW5nKCkpKSxcbiAgICBtYXhUdXJuczogei5udW1iZXIoKSxcbiAgICBjdXJyZW50QWdlbnRTcGFuOiBTZXJpYWxpemVkU3Bhbi5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgbm9BY3RpdmVBZ2VudFJ1bjogei5ib29sZWFuKCksXG4gICAgaW5wdXRHdWFyZHJhaWxSZXN1bHRzOiB6LmFycmF5KGlucHV0R3VhcmRyYWlsUmVzdWx0U2NoZW1hKSxcbiAgICBvdXRwdXRHdWFyZHJhaWxSZXN1bHRzOiB6LmFycmF5KG91dHB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSksXG4gICAgY3VycmVudFN0ZXA6IG5leHRTdGVwU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgbGFzdE1vZGVsUmVzcG9uc2U6IG1vZGVsUmVzcG9uc2VTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBnZW5lcmF0ZWRJdGVtczogei5hcnJheShpdGVtU2NoZW1hKSxcbiAgICBsYXN0UHJvY2Vzc2VkUmVzcG9uc2U6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZVNjaGVtYS5vcHRpb25hbCgpLFxuICAgIHRyYWNlOiBzZXJpYWxpemVkVHJhY2VTY2hlbWEubnVsbGFibGUoKSxcbn0pO1xuLyoqXG4gKiBTZXJpYWxpemFibGUgc25hcHNob3Qgb2YgYW4gYWdlbnQncyBydW4sIGluY2x1ZGluZyBjb250ZXh0LCB1c2FnZSBhbmQgdHJhY2UuXG4gKiBXaGlsZSB0aGlzIGNsYXNzIGhhcyBwdWJsaWNseSB3cml0YWJsZSBwcm9wZXJ0aWVzIChwcmVmaXhlZCB3aXRoIGBfYCksIHRoZXkgYXJlIG5vdCBtZWFudCB0byBiZVxuICogdXNlZCBkaXJlY3RseS4gVG8gcmVhZCB0aGVzZSBwcm9wZXJ0aWVzLCB1c2UgdGhlIGBSdW5SZXN1bHRgIGluc3RlYWQuXG4gKlxuICogTWFuaXB1bGF0aW9uIG9mIHRoZSBzdGF0ZSBkaXJlY3RseSBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yIGFuZCBzaG91bGQgYmUgYXZvaWRlZC5cbiAqIEluc3RlYWQsIHVzZSB0aGUgYGFwcHJvdmVgIGFuZCBgcmVqZWN0YCBtZXRob2RzIHRvIGludGVyYWN0IHdpdGggdGhlIHN0YXRlLlxuICovXG5leHBvcnQgY2xhc3MgUnVuU3RhdGUge1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdHVybiBudW1iZXIgaW4gdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBfY3VycmVudFR1cm4gPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBhZ2VudCBjdXJyZW50bHkgaGFuZGxpbmcgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBfY3VycmVudEFnZW50O1xuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIHVzZXIgaW5wdXQgcHJpb3IgdG8gYW55IHByb2Nlc3NpbmcuXG4gICAgICovXG4gICAgX29yaWdpbmFsSW5wdXQ7XG4gICAgLyoqXG4gICAgICogUmVzcG9uc2VzIGZyb20gdGhlIG1vZGVsIHNvIGZhci5cbiAgICAgKi9cbiAgICBfbW9kZWxSZXNwb25zZXM7XG4gICAgLyoqXG4gICAgICogQWN0aXZlIHRyYWNpbmcgc3BhbiBmb3IgdGhlIGN1cnJlbnQgYWdlbnQgaWYgdHJhY2luZyBpcyBlbmFibGVkLlxuICAgICAqL1xuICAgIF9jdXJyZW50QWdlbnRTcGFuO1xuICAgIC8qKlxuICAgICAqIFJ1biBjb250ZXh0IHRyYWNraW5nIGFwcHJvdmFscywgdXNhZ2UsIGFuZCBvdGhlciBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBfY29udGV4dDtcbiAgICAvKipcbiAgICAgKiBUcmFja3Mgd2hhdCB0b29scyBlYWNoIGFnZW50IGhhcyB1c2VkLlxuICAgICAqL1xuICAgIF90b29sVXNlVHJhY2tlcjtcbiAgICAvKipcbiAgICAgKiBJdGVtcyBnZW5lcmF0ZWQgYnkgdGhlIGFnZW50IGR1cmluZyB0aGUgcnVuLlxuICAgICAqL1xuICAgIF9nZW5lcmF0ZWRJdGVtcztcbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIGFsbG93ZWQgdHVybnMgYmVmb3JlIGZvcmNpbmcgdGVybWluYXRpb24uXG4gICAgICovXG4gICAgX21heFR1cm5zO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHJ1biBoYXMgYW4gYWN0aXZlIGFnZW50IHN0ZXAgaW4gcHJvZ3Jlc3MuXG4gICAgICovXG4gICAgX25vQWN0aXZlQWdlbnRSdW4gPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIExhc3QgbW9kZWwgcmVzcG9uc2UgZm9yIHRoZSBwcmV2aW91cyB0dXJuLlxuICAgICAqL1xuICAgIF9sYXN0VHVyblJlc3BvbnNlO1xuICAgIC8qKlxuICAgICAqIFJlc3VsdHMgZnJvbSBpbnB1dCBndWFyZHJhaWxzIGFwcGxpZWQgdG8gdGhlIHJ1bi5cbiAgICAgKi9cbiAgICBfaW5wdXRHdWFyZHJhaWxSZXN1bHRzO1xuICAgIC8qKlxuICAgICAqIFJlc3VsdHMgZnJvbSBvdXRwdXQgZ3VhcmRyYWlscyBhcHBsaWVkIHRvIHRoZSBydW4uXG4gICAgICovXG4gICAgX291dHB1dEd1YXJkcmFpbFJlc3VsdHM7XG4gICAgLyoqXG4gICAgICogTmV4dCBzdGVwIGNvbXB1dGVkIGZvciB0aGUgYWdlbnQgdG8gdGFrZS5cbiAgICAgKi9cbiAgICBfY3VycmVudFN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogUGFyc2VkIG1vZGVsIHJlc3BvbnNlIGFmdGVyIGFwcGx5aW5nIGd1YXJkcmFpbHMgYW5kIHRvb2xzLlxuICAgICAqL1xuICAgIF9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogVHJhY2UgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcnVuIGlmIHRyYWNpbmcgaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBfdHJhY2UgPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIG9yaWdpbmFsSW5wdXQsIHN0YXJ0aW5nQWdlbnQsIG1heFR1cm5zKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLl9vcmlnaW5hbElucHV0ID0gc3RydWN0dXJlZENsb25lKG9yaWdpbmFsSW5wdXQpO1xuICAgICAgICB0aGlzLl9tb2RlbFJlc3BvbnNlcyA9IFtdO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWdlbnRTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9jdXJyZW50QWdlbnQgPSBzdGFydGluZ0FnZW50O1xuICAgICAgICB0aGlzLl90b29sVXNlVHJhY2tlciA9IG5ldyBBZ2VudFRvb2xVc2VUcmFja2VyKCk7XG4gICAgICAgIHRoaXMuX2dlbmVyYXRlZEl0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX21heFR1cm5zID0gbWF4VHVybnM7XG4gICAgICAgIHRoaXMuX2lucHV0R3VhcmRyYWlsUmVzdWx0cyA9IFtdO1xuICAgICAgICB0aGlzLl9vdXRwdXRHdWFyZHJhaWxSZXN1bHRzID0gW107XG4gICAgICAgIHRoaXMuX3RyYWNlID0gZ2V0Q3VycmVudFRyYWNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBoaXN0b3J5IG9mIHRoZSBhZ2VudCBydW4uIFRoaXMgaW5jbHVkZXMgdGhlIGlucHV0IGl0ZW1zIGFuZCB0aGUgbmV3IGl0ZW1zIGdlbmVyYXRlZCBkdXJpbmcgdGhlIHJ1bi5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgYXMgaW5wdXRzIGZvciB0aGUgbmV4dCBhZ2VudCBydW4uXG4gICAgICovXG4gICAgZ2V0IGhpc3RvcnkoKSB7XG4gICAgICAgIHJldHVybiBnZXRUdXJuSW5wdXQodGhpcy5fb3JpZ2luYWxJbnB1dCwgdGhpcy5fZ2VuZXJhdGVkSXRlbXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBpbnRlcnJ1cHRpb25zIGlmIHRoZSBjdXJyZW50IHN0ZXAgaXMgYW4gaW50ZXJydXB0aW9uIG90aGVyd2lzZSByZXR1cm5zIGFuIGVtcHR5IGFycmF5LlxuICAgICAqL1xuICAgIGdldEludGVycnVwdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50U3RlcD8udHlwZSAhPT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRTdGVwLmRhdGEuaW50ZXJydXB0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwcm92ZXMgYSB0b29sIGNhbGwgcmVxdWVzdGVkIGJ5IHRoZSBhZ2VudCB0aHJvdWdoIGFuIGludGVycnVwdGlvbiBhbmQgYXBwcm92YWwgaXRlbSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogVG8gYXBwcm92ZSB0aGUgcmVxdWVzdCB1c2UgdGhpcyBtZXRob2QgYW5kIHRoZW4gcnVuIHRoZSBhZ2VudCBhZ2FpbiB3aXRoIHRoZSBzYW1lIHN0YXRlIG9iamVjdFxuICAgICAqIHRvIGNvbnRpbnVlIHRoZSBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0IGl0IHdpbGwgb25seSBhcHByb3ZlIHRoZSBjdXJyZW50IHRvb2wgY2FsbC4gVG8gYWxsb3cgdGhlIHRvb2wgdG8gYmUgdXNlZCBtdWx0aXBsZVxuICAgICAqIHRpbWVzIHRocm91Z2hvdXQgdGhlIHJ1biwgc2V0IHRoZSBgYWx3YXlzQXBwcm92ZWAgb3B0aW9uIHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbEl0ZW0gLSBUaGUgdG9vbCBjYWxsIGFwcHJvdmFsIGl0ZW0gdG8gYXBwcm92ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSBhcHByb3ZhbC5cbiAgICAgKi9cbiAgICBhcHByb3ZlKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyA9IHsgYWx3YXlzQXBwcm92ZTogZmFsc2UgfSkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmFwcHJvdmVUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlamVjdHMgYSB0b29sIGNhbGwgcmVxdWVzdGVkIGJ5IHRoZSBhZ2VudCB0aHJvdWdoIGFuIGludGVycnVwdGlvbiBhbmQgYXBwcm92YWwgaXRlbSByZXF1ZXN0LlxuICAgICAqXG4gICAgICogVG8gcmVqZWN0IHRoZSByZXF1ZXN0IHVzZSB0aGlzIG1ldGhvZCBhbmQgdGhlbiBydW4gdGhlIGFnZW50IGFnYWluIHdpdGggdGhlIHNhbWUgc3RhdGUgb2JqZWN0XG4gICAgICogdG8gY29udGludWUgdGhlIGV4ZWN1dGlvbi5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQgaXQgd2lsbCBvbmx5IHJlamVjdCB0aGUgY3VycmVudCB0b29sIGNhbGwuIFRvIGFsbG93IHRoZSB0b29sIHRvIGJlIHVzZWQgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyB0aHJvdWdob3V0IHRoZSBydW4sIHNldCB0aGUgYGFsd2F5c1JlamVjdGAgb3B0aW9uIHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcHByb3ZhbEl0ZW0gLSBUaGUgdG9vbCBjYWxsIGFwcHJvdmFsIGl0ZW0gdG8gcmVqZWN0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIHJlamVjdGlvbi5cbiAgICAgKi9cbiAgICByZWplY3QoYXBwcm92YWxJdGVtLCBvcHRpb25zID0geyBhbHdheXNSZWplY3Q6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy5fY29udGV4dC5yZWplY3RUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgdGhlIHJ1biBzdGF0ZSB0byBhIEpTT04gb2JqZWN0LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzZXJpYWxpemUgdGhlIHJ1biBzdGF0ZSB0byBhIEpTT04gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiByZXN1bWUgdGhlIHJ1biBsYXRlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBzZXJpYWxpemVkIHJ1biBzdGF0ZS5cbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHtcbiAgICAgICAgICAgICRzY2hlbWFWZXJzaW9uOiBDVVJSRU5UX1NDSEVNQV9WRVJTSU9OLFxuICAgICAgICAgICAgY3VycmVudFR1cm46IHRoaXMuX2N1cnJlbnRUdXJuLFxuICAgICAgICAgICAgY3VycmVudEFnZW50OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5fY3VycmVudEFnZW50Lm5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3JpZ2luYWxJbnB1dDogdGhpcy5fb3JpZ2luYWxJbnB1dCxcbiAgICAgICAgICAgIG1vZGVsUmVzcG9uc2VzOiB0aGlzLl9tb2RlbFJlc3BvbnNlcy5tYXAoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RzOiByZXNwb25zZS51c2FnZS5yZXF1ZXN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zOiByZXNwb25zZS51c2FnZS5pbnB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VuczogcmVzcG9uc2UudXNhZ2Uub3V0cHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUb2tlbnM6IHJlc3BvbnNlLnVzYWdlLnRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IHJlc3BvbnNlLm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZDogcmVzcG9uc2UucmVzcG9uc2VJZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiByZXNwb25zZS5wcm92aWRlckRhdGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY29udGV4dDogdGhpcy5fY29udGV4dC50b0pTT04oKSxcbiAgICAgICAgICAgIHRvb2xVc2VUcmFja2VyOiB0aGlzLl90b29sVXNlVHJhY2tlci50b0pTT04oKSxcbiAgICAgICAgICAgIG1heFR1cm5zOiB0aGlzLl9tYXhUdXJucyxcbiAgICAgICAgICAgIGN1cnJlbnRBZ2VudFNwYW46IHRoaXMuX2N1cnJlbnRBZ2VudFNwYW4/LnRvSlNPTigpLFxuICAgICAgICAgICAgbm9BY3RpdmVBZ2VudFJ1bjogdGhpcy5fbm9BY3RpdmVBZ2VudFJ1bixcbiAgICAgICAgICAgIGlucHV0R3VhcmRyYWlsUmVzdWx0czogdGhpcy5faW5wdXRHdWFyZHJhaWxSZXN1bHRzLFxuICAgICAgICAgICAgb3V0cHV0R3VhcmRyYWlsUmVzdWx0czogdGhpcy5fb3V0cHV0R3VhcmRyYWlsUmVzdWx0cy5tYXAoKHIpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4ucixcbiAgICAgICAgICAgICAgICBhZ2VudDogci5hZ2VudC50b0pTT04oKSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGVwOiB0aGlzLl9jdXJyZW50U3RlcCxcbiAgICAgICAgICAgIGxhc3RNb2RlbFJlc3BvbnNlOiB0aGlzLl9sYXN0VHVyblJlc3BvbnNlLFxuICAgICAgICAgICAgZ2VuZXJhdGVkSXRlbXM6IHRoaXMuX2dlbmVyYXRlZEl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS50b0pTT04oKSksXG4gICAgICAgICAgICBsYXN0UHJvY2Vzc2VkUmVzcG9uc2U6IHRoaXMuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSxcbiAgICAgICAgICAgIHRyYWNlOiB0aGlzLl90cmFjZSA/IHRoaXMuX3RyYWNlLnRvSlNPTigpIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcGFyc2luZyB0aGUgc2NoZW1hIHRvIGVuc3VyZSB0aGUgb3V0cHV0IGlzIHZhbGlkIGZvciByZXBhcnNpbmdcbiAgICAgICAgY29uc3QgcGFyc2VkID0gU2VyaWFsaXplZFJ1blN0YXRlLnNhZmVQYXJzZShvdXRwdXQpO1xuICAgICAgICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3lzdGVtRXJyb3IoYEZhaWxlZCB0byBzZXJpYWxpemUgcnVuIHN0YXRlLiAke3BhcnNlZC5lcnJvci5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWQuZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyB0aGUgcnVuIHN0YXRlIHRvIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBzZXJpYWxpemUgdGhlIHJ1biBzdGF0ZSB0byBhIHN0cmluZyB0aGF0IGNhbiBiZSB1c2VkIHRvXG4gICAgICogcmVzdW1lIHRoZSBydW4gbGF0ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgc2VyaWFsaXplZCBydW4gc3RhdGUuXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzZXJpYWxpemVzIGEgcnVuIHN0YXRlIGZyb20gYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGRlc2VyaWFsaXplIGEgcnVuIHN0YXRlIGZyb20gYSBzdHJpbmcgdGhhdCB3YXMgc2VyaWFsaXplZCB1c2luZyB0aGVcbiAgICAgKiBgdG9TdHJpbmdgIG1ldGhvZC5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZnJvbVN0cmluZyhpbml0aWFsQWdlbnQsIHN0cikge1xuICAgICAgICBjb25zdCBbcGFyc2luZ0Vycm9yLCBqc29uUmVzdWx0XSA9IGF3YWl0IHNhZmVFeGVjdXRlKCgpID0+IEpTT04ucGFyc2Uoc3RyKSk7XG4gICAgICAgIGlmIChwYXJzaW5nRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEZhaWxlZCB0byBwYXJzZSBydW4gc3RhdGUuICR7cGFyc2luZ0Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBwYXJzaW5nRXJyb3IubWVzc2FnZSA6IFN0cmluZyhwYXJzaW5nRXJyb3IpfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTY2hlbWFWZXJzaW9uID0ganNvblJlc3VsdC4kc2NoZW1hVmVyc2lvbjtcbiAgICAgICAgaWYgKCFjdXJyZW50U2NoZW1hVmVyc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignUnVuIHN0YXRlIGlzIG1pc3Npbmcgc2NoZW1hIHZlcnNpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFNjaGVtYVZlcnNpb24gIT09IENVUlJFTlRfU0NIRU1BX1ZFUlNJT04pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYFJ1biBzdGF0ZSBzY2hlbWEgdmVyc2lvbiAke2N1cnJlbnRTY2hlbWFWZXJzaW9ufSBpcyBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIHZlcnNpb24gJHtDVVJSRU5UX1NDSEVNQV9WRVJTSU9OfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlSnNvbiA9IFNlcmlhbGl6ZWRSdW5TdGF0ZS5wYXJzZShKU09OLnBhcnNlKHN0cikpO1xuICAgICAgICBjb25zdCBhZ2VudE1hcCA9IGJ1aWxkQWdlbnRNYXAoaW5pdGlhbEFnZW50KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gUmVidWlsZCB0aGUgY29udGV4dFxuICAgICAgICAvL1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IFJ1bkNvbnRleHQoc3RhdGVKc29uLmNvbnRleHQuY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQuX3JlYnVpbGRBcHByb3ZhbHMoc3RhdGVKc29uLmNvbnRleHQuYXBwcm92YWxzKTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gRmluZCB0aGUgY3VycmVudCBhZ2VudCBmcm9tIHRoZSBpbml0aWFsIGFnZW50XG4gICAgICAgIC8vXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBZ2VudCA9IGFnZW50TWFwLmdldChzdGF0ZUpzb24uY3VycmVudEFnZW50Lm5hbWUpO1xuICAgICAgICBpZiAoIWN1cnJlbnRBZ2VudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgQWdlbnQgJHtzdGF0ZUpzb24uY3VycmVudEFnZW50Lm5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlID0gbmV3IFJ1blN0YXRlKGNvbnRleHQsICcnLCBjdXJyZW50QWdlbnQsIHN0YXRlSnNvbi5tYXhUdXJucyk7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50VHVybiA9IHN0YXRlSnNvbi5jdXJyZW50VHVybjtcbiAgICAgICAgLy8gcmVidWlsZCB0b29sIHVzZSB0cmFja2VyXG4gICAgICAgIHN0YXRlLl90b29sVXNlVHJhY2tlciA9IG5ldyBBZ2VudFRvb2xVc2VUcmFja2VyKCk7XG4gICAgICAgIGZvciAoY29uc3QgW2FnZW50TmFtZSwgdG9vbE5hbWVzXSBvZiBPYmplY3QuZW50cmllcyhzdGF0ZUpzb24udG9vbFVzZVRyYWNrZXIpKSB7XG4gICAgICAgICAgICBzdGF0ZS5fdG9vbFVzZVRyYWNrZXIuYWRkVG9vbFVzZShhZ2VudE1hcC5nZXQoYWdlbnROYW1lKSwgdG9vbE5hbWVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWJ1aWxkIGN1cnJlbnQgYWdlbnQgc3BhblxuICAgICAgICBpZiAoc3RhdGVKc29uLmN1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgIGlmICghc3RhdGVKc29uLnRyYWNlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1RyYWNlIGlzIG5vdCBzZXQsIHNraXBwaW5nIHRyYWNpbmcgc2V0dXAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRyYWNlID0gZ2V0R2xvYmFsVHJhY2VQcm92aWRlcigpLmNyZWF0ZVRyYWNlKHtcbiAgICAgICAgICAgICAgICB0cmFjZUlkOiBzdGF0ZUpzb24udHJhY2U/LmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHN0YXRlSnNvbi50cmFjZT8ud29ya2Zsb3dfbmFtZSxcbiAgICAgICAgICAgICAgICBncm91cElkOiBzdGF0ZUpzb24udHJhY2U/Lmdyb3VwX2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogc3RhdGVKc29uLnRyYWNlPy5tZXRhZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4gPSBkZXNlcmlhbGl6ZVNwYW4odHJhY2UsIHN0YXRlSnNvbi5jdXJyZW50QWdlbnRTcGFuKTtcbiAgICAgICAgICAgIHN0YXRlLl90cmFjZSA9IHRyYWNlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuID0gc3RhdGVKc29uLm5vQWN0aXZlQWdlbnRSdW47XG4gICAgICAgIHN0YXRlLl9pbnB1dEd1YXJkcmFpbFJlc3VsdHMgPVxuICAgICAgICAgICAgc3RhdGVKc29uLmlucHV0R3VhcmRyYWlsUmVzdWx0cztcbiAgICAgICAgc3RhdGUuX291dHB1dEd1YXJkcmFpbFJlc3VsdHMgPSBzdGF0ZUpzb24ub3V0cHV0R3VhcmRyYWlsUmVzdWx0cy5tYXAoKHIpID0+ICh7XG4gICAgICAgICAgICAuLi5yLFxuICAgICAgICAgICAgYWdlbnQ6IGFnZW50TWFwLmdldChyLmFnZW50Lm5hbWUpLFxuICAgICAgICB9KSk7XG4gICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHN0YXRlSnNvbi5jdXJyZW50U3RlcDtcbiAgICAgICAgc3RhdGUuX29yaWdpbmFsSW5wdXQgPSBzdGF0ZUpzb24ub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgc3RhdGUuX21vZGVsUmVzcG9uc2VzID0gc3RhdGVKc29uLm1vZGVsUmVzcG9uc2VzLm1hcChkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2UpO1xuICAgICAgICBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSA9IHN0YXRlSnNvbi5sYXN0TW9kZWxSZXNwb25zZVxuICAgICAgICAgICAgPyBkZXNlcmlhbGl6ZU1vZGVsUmVzcG9uc2Uoc3RhdGVKc29uLmxhc3RNb2RlbFJlc3BvbnNlKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHN0YXRlSnNvbi5nZW5lcmF0ZWRJdGVtcy5tYXAoKGl0ZW0pID0+IGRlc2VyaWFsaXplSXRlbShpdGVtLCBhZ2VudE1hcCkpO1xuICAgICAgICBzdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlID0gc3RhdGVKc29uLmxhc3RQcm9jZXNzZWRSZXNwb25zZVxuICAgICAgICAgICAgPyBhd2FpdCBkZXNlcmlhbGl6ZVByb2Nlc3NlZFJlc3BvbnNlKGFnZW50TWFwLCBzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fY29udGV4dCwgc3RhdGVKc29uLmxhc3RQcm9jZXNzZWRSZXNwb25zZSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc3RhdGVKc29uLmN1cnJlbnRTdGVwPy50eXBlID09PSAnbmV4dF9zdGVwX2hhbmRvZmYnKSB7XG4gICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ25leHRfc3RlcF9oYW5kb2ZmJyxcbiAgICAgICAgICAgICAgICBuZXdBZ2VudDogYWdlbnRNYXAuZ2V0KHN0YXRlSnNvbi5jdXJyZW50U3RlcC5uZXdBZ2VudC5uYW1lKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEFnZW50TWFwKGluaXRpYWxBZ2VudCkge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBxdWV1ZSA9IFtpbml0aWFsQWdlbnRdO1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRBZ2VudCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChtYXAuaGFzKGN1cnJlbnRBZ2VudC5uYW1lKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbWFwLnNldChjdXJyZW50QWdlbnQubmFtZSwgY3VycmVudEFnZW50KTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kb2ZmIG9mIGN1cnJlbnRBZ2VudC5oYW5kb2Zmcykge1xuICAgICAgICAgICAgaWYgKGhhbmRvZmYgaW5zdGFuY2VvZiBBZ2VudCkge1xuICAgICAgICAgICAgICAgIGlmICghbWFwLmhhcyhoYW5kb2ZmLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goaGFuZG9mZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFuZG9mZi5hZ2VudCkge1xuICAgICAgICAgICAgICAgIGlmICghbWFwLmhhcyhoYW5kb2ZmLmFnZW50Lm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goaGFuZG9mZi5hZ2VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVTcGFuKHRyYWNlLCBzZXJpYWxpemVkU3Bhbikge1xuICAgIGNvbnN0IHNwYW5EYXRhID0gc2VyaWFsaXplZFNwYW4uc3Bhbl9kYXRhO1xuICAgIGNvbnN0IHByZXZpb3VzU3BhbiA9IHNlcmlhbGl6ZWRTcGFuLnByZXZpb3VzX3NwYW5cbiAgICAgICAgPyBkZXNlcmlhbGl6ZVNwYW4odHJhY2UsIHNlcmlhbGl6ZWRTcGFuLnByZXZpb3VzX3NwYW4pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHNwYW4gPSBnZXRHbG9iYWxUcmFjZVByb3ZpZGVyKCkuY3JlYXRlU3Bhbih7XG4gICAgICAgIHNwYW5JZDogc2VyaWFsaXplZFNwYW4uaWQsXG4gICAgICAgIHRyYWNlSWQ6IHNlcmlhbGl6ZWRTcGFuLnRyYWNlX2lkLFxuICAgICAgICBwYXJlbnRJZDogc2VyaWFsaXplZFNwYW4ucGFyZW50X2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgc3RhcnRlZEF0OiBzZXJpYWxpemVkU3Bhbi5zdGFydGVkX2F0ID8/IHVuZGVmaW5lZCxcbiAgICAgICAgZW5kZWRBdDogc2VyaWFsaXplZFNwYW4uZW5kZWRfYXQgPz8gdW5kZWZpbmVkLFxuICAgICAgICBkYXRhOiBzcGFuRGF0YSxcbiAgICB9LCB0cmFjZSk7XG4gICAgc3Bhbi5wcmV2aW91c1NwYW4gPSBwcmV2aW91c1NwYW47XG4gICAgcmV0dXJuIHNwYW47XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVNb2RlbFJlc3BvbnNlKHNlcmlhbGl6ZWRNb2RlbFJlc3BvbnNlKSB7XG4gICAgY29uc3QgdXNhZ2UgPSBuZXcgVXNhZ2UoKTtcbiAgICB1c2FnZS5yZXF1ZXN0cyA9IHNlcmlhbGl6ZWRNb2RlbFJlc3BvbnNlLnVzYWdlLnJlcXVlc3RzO1xuICAgIHVzYWdlLmlucHV0VG9rZW5zID0gc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UudXNhZ2UuaW5wdXRUb2tlbnM7XG4gICAgdXNhZ2Uub3V0cHV0VG9rZW5zID0gc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UudXNhZ2Uub3V0cHV0VG9rZW5zO1xuICAgIHVzYWdlLnRvdGFsVG9rZW5zID0gc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UudXNhZ2UudG90YWxUb2tlbnM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXNhZ2UsXG4gICAgICAgIG91dHB1dDogc2VyaWFsaXplZE1vZGVsUmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4gcHJvdG9jb2wuT3V0cHV0TW9kZWxJdGVtLnBhcnNlKGl0ZW0pKSxcbiAgICAgICAgcmVzcG9uc2VJZDogc2VyaWFsaXplZE1vZGVsUmVzcG9uc2UucmVzcG9uc2VJZCxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiBzZXJpYWxpemVkTW9kZWxSZXNwb25zZS5wcm92aWRlckRhdGEsXG4gICAgfTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZUl0ZW0oc2VyaWFsaXplZEl0ZW0sIGFnZW50TWFwKSB7XG4gICAgc3dpdGNoIChzZXJpYWxpemVkSXRlbS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ21lc3NhZ2Vfb3V0cHV0X2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5NZXNzYWdlT3V0cHV0SXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSkpO1xuICAgICAgICBjYXNlICd0b29sX2NhbGxfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1blRvb2xDYWxsSXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSkpO1xuICAgICAgICBjYXNlICd0b29sX2NhbGxfb3V0cHV0X2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpLCBzZXJpYWxpemVkSXRlbS5vdXRwdXQpO1xuICAgICAgICBjYXNlICdyZWFzb25pbmdfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1blJlYXNvbmluZ0l0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAnaGFuZG9mZl9jYWxsX2l0ZW0nOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSdW5IYW5kb2ZmQ2FsbEl0ZW0oc2VyaWFsaXplZEl0ZW0ucmF3SXRlbSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLmFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAnaGFuZG9mZl9vdXRwdXRfaXRlbSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJ1bkhhbmRvZmZPdXRwdXRJdGVtKHNlcmlhbGl6ZWRJdGVtLnJhd0l0ZW0sIGFnZW50TWFwLmdldChzZXJpYWxpemVkSXRlbS5zb3VyY2VBZ2VudC5uYW1lKSwgYWdlbnRNYXAuZ2V0KHNlcmlhbGl6ZWRJdGVtLnRhcmdldEFnZW50Lm5hbWUpKTtcbiAgICAgICAgY2FzZSAndG9vbF9hcHByb3ZhbF9pdGVtJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgUnVuVG9vbEFwcHJvdmFsSXRlbShzZXJpYWxpemVkSXRlbS5yYXdJdGVtLCBhZ2VudE1hcC5nZXQoc2VyaWFsaXplZEl0ZW0uYWdlbnQubmFtZSkpO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRlc2VyaWFsaXplUHJvY2Vzc2VkUmVzcG9uc2UoYWdlbnRNYXAsIGN1cnJlbnRBZ2VudCwgY29udGV4dCwgc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlKSB7XG4gICAgY29uc3QgYWxsVG9vbHMgPSBhd2FpdCBjdXJyZW50QWdlbnQuZ2V0QWxsVG9vbHMoY29udGV4dCk7XG4gICAgY29uc3QgdG9vbHMgPSBuZXcgTWFwKGFsbFRvb2xzXG4gICAgICAgIC5maWx0ZXIoKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgLm1hcCgodG9vbCkgPT4gW3Rvb2wubmFtZSwgdG9vbF0pKTtcbiAgICBjb25zdCBjb21wdXRlclRvb2xzID0gbmV3IE1hcChhbGxUb29sc1xuICAgICAgICAuZmlsdGVyKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdjb21wdXRlcicpXG4gICAgICAgIC5tYXAoKHRvb2wpID0+IFt0b29sLm5hbWUsIHRvb2xdKSk7XG4gICAgY29uc3QgaGFuZG9mZnMgPSBuZXcgTWFwKGN1cnJlbnRBZ2VudC5oYW5kb2Zmcy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIEFnZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gW2VudHJ5Lm5hbWUsIGhhbmRvZmYoZW50cnkpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2VudHJ5LnRvb2xOYW1lLCBlbnRyeV07XG4gICAgfSkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgbmV3SXRlbXM6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5uZXdJdGVtcy5tYXAoKGl0ZW0pID0+IGRlc2VyaWFsaXplSXRlbShpdGVtLCBhZ2VudE1hcCkpLFxuICAgICAgICB0b29sc1VzZWQ6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQsXG4gICAgICAgIGhhbmRvZmZzOiBzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UuaGFuZG9mZnMubWFwKChoYW5kb2ZmKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhhbmRvZmZzLmhhcyhoYW5kb2ZmLmhhbmRvZmYudG9vbE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgSGFuZG9mZiAke2hhbmRvZmYuaGFuZG9mZi50b29sTmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBoYW5kb2ZmLnRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIGhhbmRvZmY6IGhhbmRvZmZzLmdldChoYW5kb2ZmLmhhbmRvZmYudG9vbE5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGZ1bmN0aW9uczogYXdhaXQgUHJvbWlzZS5hbGwoc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLmZ1bmN0aW9ucy5tYXAoYXN5bmMgKGZ1bmN0aW9uQ2FsbCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0b29scy5oYXMoZnVuY3Rpb25DYWxsLnRvb2wubmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBUb29sICR7ZnVuY3Rpb25DYWxsLnRvb2wubmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvb2xDYWxsOiBmdW5jdGlvbkNhbGwudG9vbENhbGwsXG4gICAgICAgICAgICAgICAgdG9vbDogdG9vbHMuZ2V0KGZ1bmN0aW9uQ2FsbC50b29sLm5hbWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpLFxuICAgICAgICBjb21wdXRlckFjdGlvbnM6IHNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZS5jb21wdXRlckFjdGlvbnMubWFwKChjb21wdXRlckFjdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9vbE5hbWUgPSBjb21wdXRlckFjdGlvbi5jb21wdXRlci5uYW1lO1xuICAgICAgICAgICAgaWYgKCFjb21wdXRlclRvb2xzLmhhcyh0b29sTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBDb21wdXRlciB0b29sICR7dG9vbE5hbWV9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b29sQ2FsbDogY29tcHV0ZXJBY3Rpb24udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgY29tcHV0ZXI6IGNvbXB1dGVyVG9vbHMuZ2V0KHRvb2xOYW1lKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBtY3BBcHByb3ZhbFJlcXVlc3RzOiAoc2VyaWFsaXplZFByb2Nlc3NlZFJlc3BvbnNlLm1jcEFwcHJvdmFsUmVxdWVzdHMgPz8gW10pLm1hcCgoYXBwcm92YWxSZXF1ZXN0KSA9PiAoe1xuICAgICAgICAgICAgcmVxdWVzdEl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKGFwcHJvdmFsUmVxdWVzdC5yZXF1ZXN0SXRlbVxuICAgICAgICAgICAgICAgIC5yYXdJdGVtLCBjdXJyZW50QWdlbnQpLFxuICAgICAgICAgICAgbWNwVG9vbDogYXBwcm92YWxSZXF1ZXN0Lm1jcFRvb2wsXG4gICAgICAgIH0pKSxcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgaGFzVG9vbHNPckFwcHJvdmFsc1RvUnVuKCkge1xuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQuaGFuZG9mZnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJlc3VsdC5mdW5jdGlvbnMubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgIHJlc3VsdC5tY3BBcHByb3ZhbFJlcXVlc3RzLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgICAgICAgICByZXN1bHQuY29tcHV0ZXJBY3Rpb25zLmxlbmd0aCA+IDApO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5TdGF0ZS5tanMubWFwIiwiaW1wb3J0IHsgQWdlbnQgfSBmcm9tIFwiLi9hZ2VudC5tanNcIjtcbmltcG9ydCB7IGRlZmluZUlucHV0R3VhcmRyYWlsLCBkZWZpbmVPdXRwdXRHdWFyZHJhaWwsIH0gZnJvbSBcIi4vZ3VhcmRyYWlsLm1qc1wiO1xuaW1wb3J0IHsgZ2V0SGFuZG9mZiB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0TW9kZWxQcm92aWRlciB9IGZyb20gXCIuL3Byb3ZpZGVycy5tanNcIjtcbmltcG9ydCB7IFJ1bkNvbnRleHQgfSBmcm9tIFwiLi9ydW5Db250ZXh0Lm1qc1wiO1xuaW1wb3J0IHsgUnVuUmVzdWx0LCBTdHJlYW1lZFJ1blJlc3VsdCB9IGZyb20gXCIuL3Jlc3VsdC5tanNcIjtcbmltcG9ydCB7IFJ1bkhvb2tzIH0gZnJvbSBcIi4vbGlmZWN5Y2xlLm1qc1wiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXIubWpzXCI7XG5pbXBvcnQgeyBzZXJpYWxpemVUb29sLCBzZXJpYWxpemVIYW5kb2ZmIH0gZnJvbSBcIi4vdXRpbHMvc2VyaWFsaXplLm1qc1wiO1xuaW1wb3J0IHsgR3VhcmRyYWlsRXhlY3V0aW9uRXJyb3IsIElucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIE1heFR1cm5zRXhjZWVkZWRFcnJvciwgTW9kZWxCZWhhdmlvckVycm9yLCBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCwgVXNlckVycm9yLCB9IGZyb20gXCIuL2Vycm9ycy5tanNcIjtcbmltcG9ydCB7IGFkZFN0ZXBUb1J1blJlc3VsdCwgZXhlY3V0ZUludGVycnVwdGVkVG9vbHNBbmRTaWRlRWZmZWN0cywgZXhlY3V0ZVRvb2xzQW5kU2lkZUVmZmVjdHMsIG1heWJlUmVzZXRUb29sQ2hvaWNlLCBwcm9jZXNzTW9kZWxSZXNwb25zZSwgfSBmcm9tIFwiLi9ydW5JbXBsZW1lbnRhdGlvbi5tanNcIjtcbmltcG9ydCB7IGdldE9yQ3JlYXRlVHJhY2UsIHJlc2V0Q3VycmVudFNwYW4sIHNldEN1cnJlbnRTcGFuLCB3aXRoTmV3U3BhbkNvbnRleHQsIHdpdGhUcmFjZSwgfSBmcm9tIFwiLi90cmFjaW5nL2NvbnRleHQubWpzXCI7XG5pbXBvcnQgeyBjcmVhdGVBZ2VudFNwYW4sIHdpdGhHdWFyZHJhaWxTcGFuIH0gZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmltcG9ydCB7IFVzYWdlIH0gZnJvbSBcIi4vdXNhZ2UubWpzXCI7XG5pbXBvcnQgeyBSdW5BZ2VudFVwZGF0ZWRTdHJlYW1FdmVudCwgUnVuUmF3TW9kZWxTdHJlYW1FdmVudCB9IGZyb20gXCIuL2V2ZW50cy5tanNcIjtcbmltcG9ydCB7IFJ1blN0YXRlIH0gZnJvbSBcIi4vcnVuU3RhdGUubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW1FdmVudFJlc3BvbnNlQ29tcGxldGVkIH0gZnJvbSBcIi4vdHlwZXMvcHJvdG9jb2wubWpzXCI7XG5pbXBvcnQgeyBjb252ZXJ0QWdlbnRPdXRwdXRUeXBlVG9TZXJpYWxpemFibGUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkLCBpc0dwdDVEZWZhdWx0IH0gZnJvbSBcIi4vZGVmYXVsdE1vZGVsLm1qc1wiO1xuY29uc3QgREVGQVVMVF9NQVhfVFVSTlMgPSAxMDtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFjaW5nKHRyYWNpbmdEaXNhYmxlZCwgdHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSkge1xuICAgIGlmICh0cmFjaW5nRGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICdlbmFibGVkX3dpdGhvdXRfZGF0YSc7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VHVybklucHV0KG9yaWdpbmFsSW5wdXQsIGdlbmVyYXRlZEl0ZW1zKSB7XG4gICAgY29uc3QgcmF3SXRlbXMgPSBnZW5lcmF0ZWRJdGVtc1xuICAgICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtLnR5cGUgIT09ICd0b29sX2FwcHJvdmFsX2l0ZW0nKSAvLyBkb24ndCBpbmNsdWRlIGFwcHJvdmFsIGl0ZW1zIHRvIGF2b2lkIGRvdWJsZSBmdW5jdGlvbiBjYWxsc1xuICAgICAgICAubWFwKChpdGVtKSA9PiBpdGVtLnJhd0l0ZW0pO1xuICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxJbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgb3JpZ2luYWxJbnB1dCA9IFt7IHR5cGU6ICdtZXNzYWdlJywgcm9sZTogJ3VzZXInLCBjb250ZW50OiBvcmlnaW5hbElucHV0IH1dO1xuICAgIH1cbiAgICByZXR1cm4gWy4uLm9yaWdpbmFsSW5wdXQsIC4uLnJhd0l0ZW1zXTtcbn1cbi8qKlxuICogQSBSdW5uZXIgaXMgcmVzcG9uc2libGUgZm9yIHJ1bm5pbmcgYW4gYWdlbnQgd29ya2Zsb3cuXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5uZXIgZXh0ZW5kcyBSdW5Ib29rcyB7XG4gICAgY29uZmlnO1xuICAgIGlucHV0R3VhcmRyYWlsRGVmcztcbiAgICBvdXRwdXRHdWFyZHJhaWxEZWZzO1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgbW9kZWxQcm92aWRlcjogY29uZmlnLm1vZGVsUHJvdmlkZXIgPz8gZ2V0RGVmYXVsdE1vZGVsUHJvdmlkZXIoKSxcbiAgICAgICAgICAgIG1vZGVsOiBjb25maWcubW9kZWwsXG4gICAgICAgICAgICBtb2RlbFNldHRpbmdzOiBjb25maWcubW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgIGhhbmRvZmZJbnB1dEZpbHRlcjogY29uZmlnLmhhbmRvZmZJbnB1dEZpbHRlcixcbiAgICAgICAgICAgIGlucHV0R3VhcmRyYWlsczogY29uZmlnLmlucHV0R3VhcmRyYWlscyxcbiAgICAgICAgICAgIG91dHB1dEd1YXJkcmFpbHM6IGNvbmZpZy5vdXRwdXRHdWFyZHJhaWxzLFxuICAgICAgICAgICAgdHJhY2luZ0Rpc2FibGVkOiBjb25maWcudHJhY2luZ0Rpc2FibGVkID8/IGZhbHNlLFxuICAgICAgICAgICAgdHJhY2VJbmNsdWRlU2Vuc2l0aXZlRGF0YTogY29uZmlnLnRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEgPz8gdHJ1ZSxcbiAgICAgICAgICAgIHdvcmtmbG93TmFtZTogY29uZmlnLndvcmtmbG93TmFtZSA/PyAnQWdlbnQgd29ya2Zsb3cnLFxuICAgICAgICAgICAgdHJhY2VJZDogY29uZmlnLnRyYWNlSWQsXG4gICAgICAgICAgICBncm91cElkOiBjb25maWcuZ3JvdXBJZCxcbiAgICAgICAgICAgIHRyYWNlTWV0YWRhdGE6IGNvbmZpZy50cmFjZU1ldGFkYXRhLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlucHV0R3VhcmRyYWlsRGVmcyA9IChjb25maWcuaW5wdXRHdWFyZHJhaWxzID8/IFtdKS5tYXAoZGVmaW5lSW5wdXRHdWFyZHJhaWwpO1xuICAgICAgICB0aGlzLm91dHB1dEd1YXJkcmFpbERlZnMgPSAoY29uZmlnLm91dHB1dEd1YXJkcmFpbHMgPz8gW10pLm1hcChkZWZpbmVPdXRwdXRHdWFyZHJhaWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBhc3luYyAjcnVuSW5kaXZpZHVhbE5vblN0cmVhbShzdGFydGluZ0FnZW50LCBpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gd2l0aE5ld1NwYW5Db250ZXh0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSBzYXZlZCBzdGF0ZSB3ZSB1c2UgdGhhdCBvbmUsIG90aGVyd2lzZSB3ZSBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGlucHV0IGluc3RhbmNlb2YgUnVuU3RhdGVcbiAgICAgICAgICAgICAgICA/IGlucHV0XG4gICAgICAgICAgICAgICAgOiBuZXcgUnVuU3RhdGUob3B0aW9ucy5jb250ZXh0IGluc3RhbmNlb2YgUnVuQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuY29udGV4dFxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBSdW5Db250ZXh0KG9wdGlvbnMuY29udGV4dCksIGlucHV0LCBzdGFydGluZ0FnZW50LCBvcHRpb25zLm1heFR1cm5zID8/IERFRkFVTFRfTUFYX1RVUk5TKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwbGljdGx5TW9kZWxTZXQgPSAoc3RhdGUuX2N1cnJlbnRBZ2VudC5tb2RlbCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50Lm1vZGVsICE9PSAnJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmNvbmZpZy5tb2RlbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY29uZmlnLm1vZGVsICE9PSAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHNlbGVjdE1vZGVsKHN0YXRlLl9jdXJyZW50QWdlbnQubW9kZWwsIHRoaXMuY29uZmlnLm1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2RlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0gYXdhaXQgdGhpcy5jb25maWcubW9kZWxQcm92aWRlci5nZXRNb2RlbChtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgZG9uJ3QgaGF2ZSBhIGN1cnJlbnQgc3RlcCwgd2UgdHJlYXQgdGhpcyBhcyBhIG5ldyBydW5cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwID0gc3RhdGUuX2N1cnJlbnRTdGVwID8/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnQ29udGludWluZyBmcm9tIGludGVycnVwdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSB8fCAhc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ05vIG1vZGVsIHJlc3BvbnNlIGZvdW5kIGluIHByZXZpb3VzIHN0YXRlJywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHVyblJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVJbnRlcnJ1cHRlZFRvb2xzQW5kU2lkZUVmZmVjdHMoc3RhdGUuX2N1cnJlbnRBZ2VudCwgc3RhdGUuX29yaWdpbmFsSW5wdXQsIHN0YXRlLl9nZW5lcmF0ZWRJdGVtcywgc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UsIHN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UsIHRoaXMsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl90b29sVXNlVHJhY2tlci5hZGRUb29sVXNlKHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UudG9vbHNVc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9vcmlnaW5hbElucHV0ID0gdHVyblJlc3VsdC5vcmlnaW5hbElucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2dlbmVyYXRlZEl0ZW1zID0gdHVyblJlc3VsdC5nZW5lcmF0ZWRJdGVtcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHR1cm5SZXN1bHQubmV4dFN0ZXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHVyblJlc3VsdC5uZXh0U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgc3RpbGwgaW4gYW4gaW50ZXJydXB0aW9uLCBzbyB3ZSBuZWVkIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJ1blJlc3VsdChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfcnVuX2FnYWluJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZG9mZnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudEFnZW50LmhhbmRvZmZzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hpbGUgdGhpcyBhcnJheSB1c3VhbGx5IG11c3Qgbm90IGJlIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBhZGRlZCB0aGlzIGNoZWNrIHRvIHByZXZlbnQgdW5leHBlY3RlZCBydW50aW1lIGVycm9ycyBsaWtlIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuYWkvb3BlbmFpLWFnZW50cy1qcy9pc3N1ZXMvMTM4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZG9mZnMucHVzaCguLi5zdGF0ZS5fY3VycmVudEFnZW50LmhhbmRvZmZzLm1hcChnZXRIYW5kb2ZmKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFuZG9mZk5hbWVzID0gaGFuZG9mZnMubWFwKChoKSA9PiBoLmFnZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4gPSBjcmVhdGVBZ2VudFNwYW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdGF0ZS5fY3VycmVudEFnZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kb2ZmczogaGFuZG9mZk5hbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3R5cGU6IHN0YXRlLl9jdXJyZW50QWdlbnQub3V0cHV0U2NoZW1hTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5zdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRTcGFuKHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xzID0gYXdhaXQgc3RhdGUuX2N1cnJlbnRBZ2VudC5nZXRBbGxUb29scyhzdGF0ZS5fY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkVG9vbHMgPSB0b29scy5tYXAoKHQpID0+IHNlcmlhbGl6ZVRvb2wodCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZEhhbmRvZmZzID0gaGFuZG9mZnMubWFwKChoKSA9PiBzZXJpYWxpemVIYW5kb2ZmKGgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnNwYW5EYXRhLnRvb2xzID0gdG9vbHMubWFwKCh0KSA9PiB0Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRUdXJuKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRUdXJuID4gc3RhdGUuX21heFR1cm5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4/LnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ01heCB0dXJucyBleGNlZWRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgbWF4X3R1cm5zOiBzdGF0ZS5fbWF4VHVybnMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWF4VHVybnNFeGNlZWRlZEVycm9yKGBNYXggdHVybnMgKCR7c3RhdGUuX21heFR1cm5zfSkgZXhjZWVkZWRgLCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFJ1bm5pbmcgYWdlbnQgJHtzdGF0ZS5fY3VycmVudEFnZW50Lm5hbWV9ICh0dXJuICR7c3RhdGUuX2N1cnJlbnRUdXJufSlgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudFR1cm4gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNydW5JbnB1dEd1YXJkcmFpbHMoc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHVybklucHV0ID0gZ2V0VHVybklucHV0KHN0YXRlLl9vcmlnaW5hbElucHV0LCBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9zdGFydCcsIHN0YXRlLl9jb250ZXh0LCBzdGF0ZS5fY3VycmVudEFnZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0Jywgc3RhdGUuX2NvbnRleHQsIHN0YXRlLl9jdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGVsU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5jb25maWcubW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZS5fY3VycmVudEFnZW50Lm1vZGVsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWdlbnRNb2RlbFNldHRpbmdzID0gc3RhdGUuX2N1cnJlbnRBZ2VudC5tb2RlbFNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxTZXR0aW5ncyA9IGFkanVzdE1vZGVsU2V0dGluZ3NGb3JOb25HUFQ1UnVubmVyTW9kZWwoZXhwbGljdGx5TW9kZWxTZXQsIGFnZW50TW9kZWxTZXR0aW5ncywgbW9kZWwsIG1vZGVsU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxTZXR0aW5ncyA9IG1heWJlUmVzZXRUb29sQ2hvaWNlKHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl90b29sVXNlVHJhY2tlciwgbW9kZWxTZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSA9IGF3YWl0IG1vZGVsLmdldFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbnM6IGF3YWl0IHN0YXRlLl9jdXJyZW50QWdlbnQuZ2V0U3lzdGVtUHJvbXB0KHN0YXRlLl9jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IGF3YWl0IHN0YXRlLl9jdXJyZW50QWdlbnQuZ2V0UHJvbXB0KHN0YXRlLl9jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogdHVybklucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzUmVzcG9uc2VJZDogb3B0aW9ucy5wcmV2aW91c1Jlc3BvbnNlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IG9wdGlvbnMuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sczogc2VyaWFsaXplZFRvb2xzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFR5cGU6IGNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZShzdGF0ZS5fY3VycmVudEFnZW50Lm91dHB1dFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRvZmZzOiBzZXJpYWxpemVkSGFuZG9mZnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2luZzogZ2V0VHJhY2luZyh0aGlzLmNvbmZpZy50cmFjaW5nRGlzYWJsZWQsIHRoaXMuY29uZmlnLnRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9tb2RlbFJlc3BvbnNlcy5wdXNoKHN0YXRlLl9sYXN0VHVyblJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jb250ZXh0LnVzYWdlLmFkZChzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZS51c2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkUmVzcG9uc2UgPSBwcm9jZXNzTW9kZWxSZXNwb25zZShzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgc3RhdGUuX2N1cnJlbnRBZ2VudCwgdG9vbHMsIGhhbmRvZmZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UgPSBwcm9jZXNzZWRSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5SZXN1bHQgPSBhd2FpdCBleGVjdXRlVG9vbHNBbmRTaWRlRWZmZWN0cyhzdGF0ZS5fY3VycmVudEFnZW50LCBzdGF0ZS5fb3JpZ2luYWxJbnB1dCwgc3RhdGUuX2dlbmVyYXRlZEl0ZW1zLCBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSwgdGhpcywgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2Uoc3RhdGUuX2N1cnJlbnRBZ2VudCwgc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX29yaWdpbmFsSW5wdXQgPSB0dXJuUmVzdWx0Lm9yaWdpbmFsSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fZ2VuZXJhdGVkSXRlbXMgPSB0dXJuUmVzdWx0LmdlbmVyYXRlZEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRTdGVwID0gdHVyblJlc3VsdC5uZXh0U3RlcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRTdGVwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNydW5PdXRwdXRHdWFyZHJhaWxzKHN0YXRlLCBzdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfZW5kJywgc3RhdGUuX2NvbnRleHQsIHN0YXRlLl9jdXJyZW50QWdlbnQsIHN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9lbmQnLCBzdGF0ZS5fY29udGV4dCwgc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJ1blJlc3VsdChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuX2N1cnJlbnRTdGVwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9oYW5kb2ZmJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudCA9IHN0YXRlLl9jdXJyZW50U3RlcC5uZXdBZ2VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Q3VycmVudFNwYW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3BhbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIHByb2Nlc3NlZCB0aGUgaGFuZG9mZiwgc28gd2UgbmVlZCB0byBydW4gdGhlIGxvb3AgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50U3RlcCA9IHsgdHlwZTogJ25leHRfc3RlcF9ydW5fYWdhaW4nIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuX2N1cnJlbnRTdGVwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcnJ1cHRlZC4gRG9uJ3QgcnVuIGFueSBndWFyZHJhaWxzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJ1blJlc3VsdChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ1J1bm5pbmcgbmV4dCBsb29wJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBpbiBhZ2VudCBydW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvcjogU3RyaW5nKGVycikgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRTdGVwPy50eXBlICE9PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGVuZCB0aGUgc3BhbiBpZiB0aGUgcnVuIHdhcyBpbnRlcnJ1cHRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzZXRDdXJyZW50U3BhbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jICNydW5JbnB1dEd1YXJkcmFpbHMoc3RhdGUpIHtcbiAgICAgICAgY29uc3QgZ3VhcmRyYWlscyA9IHRoaXMuaW5wdXRHdWFyZHJhaWxEZWZzLmNvbmNhdChzdGF0ZS5fY3VycmVudEFnZW50LmlucHV0R3VhcmRyYWlscy5tYXAoZGVmaW5lSW5wdXRHdWFyZHJhaWwpKTtcbiAgICAgICAgaWYgKGd1YXJkcmFpbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZ3VhcmRyYWlsQXJncyA9IHtcbiAgICAgICAgICAgICAgICBhZ2VudDogc3RhdGUuX2N1cnJlbnRBZ2VudCxcbiAgICAgICAgICAgICAgICBpbnB1dDogc3RhdGUuX29yaWdpbmFsSW5wdXQsXG4gICAgICAgICAgICAgICAgY29udGV4dDogc3RhdGUuX2NvbnRleHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoZ3VhcmRyYWlscy5tYXAoYXN5bmMgKGd1YXJkcmFpbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2l0aEd1YXJkcmFpbFNwYW4oYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGd1YXJkcmFpbC5ydW4oZ3VhcmRyYWlsQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuLnNwYW5EYXRhLnRyaWdnZXJlZCA9IHJlc3VsdC5vdXRwdXQudHJpcHdpcmVUcmlnZ2VyZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9LCB7IGRhdGE6IHsgbmFtZTogZ3VhcmRyYWlsLm5hbWUgfSB9LCBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbik7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5vdXRwdXQudHJpcHdpcmVUcmlnZ2VyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0d1YXJkcmFpbCB0cmlwd2lyZSB0cmlnZ2VyZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGd1YXJkcmFpbDogcmVzdWx0Lmd1YXJkcmFpbC5uYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW5wdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZChgSW5wdXQgZ3VhcmRyYWlsIHRyaWdnZXJlZDogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQub3V0cHV0Lm91dHB1dEluZm8pfWAsIHJlc3VsdCwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIElucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcm9sbCBiYWNrIHRoZSBjdXJyZW50IHR1cm4gdG8gZW5hYmxlIHJlcnVuc1xuICAgICAgICAgICAgICAgIHN0YXRlLl9jdXJyZW50VHVybi0tO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHdWFyZHJhaWxFeGVjdXRpb25FcnJvcihgSW5wdXQgZ3VhcmRyYWlsIGZhaWxlZCB0byBjb21wbGV0ZTogJHtlfWAsIGUsIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyAjcnVuT3V0cHV0R3VhcmRyYWlscyhzdGF0ZSwgb3V0cHV0KSB7XG4gICAgICAgIGNvbnN0IGd1YXJkcmFpbHMgPSB0aGlzLm91dHB1dEd1YXJkcmFpbERlZnMuY29uY2F0KHN0YXRlLl9jdXJyZW50QWdlbnQub3V0cHV0R3VhcmRyYWlscy5tYXAoZGVmaW5lT3V0cHV0R3VhcmRyYWlsKSk7XG4gICAgICAgIGlmIChndWFyZHJhaWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGFnZW50T3V0cHV0ID0gc3RhdGUuX2N1cnJlbnRBZ2VudC5wcm9jZXNzRmluYWxPdXRwdXQob3V0cHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGd1YXJkcmFpbEFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgYWdlbnQ6IHN0YXRlLl9jdXJyZW50QWdlbnQsXG4gICAgICAgICAgICAgICAgYWdlbnRPdXRwdXQsXG4gICAgICAgICAgICAgICAgY29udGV4dDogc3RhdGUuX2NvbnRleHQsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogeyBtb2RlbFJlc3BvbnNlOiBzdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKGd1YXJkcmFpbHMubWFwKGFzeW5jIChndWFyZHJhaWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpdGhHdWFyZHJhaWxTcGFuKGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBndWFyZHJhaWwucnVuKGd1YXJkcmFpbEFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5zcGFuRGF0YS50cmlnZ2VyZWQgPSByZXN1bHQub3V0cHV0LnRyaXB3aXJlVHJpZ2dlcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBkYXRhOiB7IG5hbWU6IGd1YXJkcmFpbC5uYW1lIH0gfSwgc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQub3V0cHV0LnRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5fY3VycmVudEFnZW50U3Bhbi5zZXRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdHdWFyZHJhaWwgdHJpcHdpcmUgdHJpZ2dlcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBndWFyZHJhaWw6IHJlc3VsdC5ndWFyZHJhaWwubmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkKGBPdXRwdXQgZ3VhcmRyYWlsIHRyaWdnZXJlZDogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQub3V0cHV0Lm91dHB1dEluZm8pfWAsIHJlc3VsdCwgc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBHdWFyZHJhaWxFeGVjdXRpb25FcnJvcihgT3V0cHV0IGd1YXJkcmFpbCBmYWlsZWQgdG8gY29tcGxldGU6ICR7ZX1gLCBlLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgI3J1blN0cmVhbUxvb3AocmVzdWx0LCBvcHRpb25zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBZ2VudCA9IHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRvZmZzID0gY3VycmVudEFnZW50LmhhbmRvZmZzLm1hcChnZXRIYW5kb2ZmKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29scyA9IGF3YWl0IGN1cnJlbnRBZ2VudC5nZXRBbGxUb29scyhyZXN1bHQuc3RhdGUuX2NvbnRleHQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRUb29scyA9IHRvb2xzLm1hcCgodCkgPT4gc2VyaWFsaXplVG9vbCh0KSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZEhhbmRvZmZzID0gaGFuZG9mZnMubWFwKChoKSA9PiBzZXJpYWxpemVIYW5kb2ZmKGgpKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwID0gcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA/PyB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaW50ZXJydXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoJ0NvbnRpbnVpbmcgZnJvbSBpbnRlcnJ1cHRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFyZXN1bHQuc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignTm8gbW9kZWwgcmVzcG9uc2UgZm91bmQgaW4gcHJldmlvdXMgc3RhdGUnLCByZXN1bHQuc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR1cm5SZXN1bHQgPSBhd2FpdCBleGVjdXRlSW50ZXJydXB0ZWRUb29sc0FuZFNpZGVFZmZlY3RzKHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50LCByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQsIHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsIHJlc3VsdC5zdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgcmVzdWx0LnN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UsIHRoaXMsIHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN0ZXBUb1J1blJlc3VsdChyZXN1bHQsIHR1cm5SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2UocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fbGFzdFByb2Nlc3NlZFJlc3BvbnNlLnRvb2xzVXNlZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fb3JpZ2luYWxJbnB1dCA9IHR1cm5SZXN1bHQub3JpZ2luYWxJbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9nZW5lcmF0ZWRJdGVtcyA9IHR1cm5SZXN1bHQuZ2VuZXJhdGVkSXRlbXM7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAgPSB0dXJuUmVzdWx0Lm5leHRTdGVwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHVyblJlc3VsdC5uZXh0U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBzdGlsbCBpbiBhbiBpbnRlcnJ1cHRpb24sIHNvIHdlIG5lZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcC50eXBlID09PSAnbmV4dF9zdGVwX3J1bl9hZ2FpbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRvZmZOYW1lcyA9IGhhbmRvZmZzLm1hcCgoaCkgPT4gaC5hZ2VudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuID0gY3JlYXRlQWdlbnRTcGFuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGN1cnJlbnRBZ2VudC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kb2ZmczogaGFuZG9mZk5hbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sczogdG9vbHMubWFwKCh0KSA9PiB0Lm5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRfdHlwZTogY3VycmVudEFnZW50Lm91dHB1dFNjaGVtYU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50U3BhbihyZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fY3VycmVudFR1cm4rKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFR1cm4gPiByZXN1bHQuc3RhdGUuX21heFR1cm5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4/LnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWF4IHR1cm5zIGV4Y2VlZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IG1heF90dXJuczogcmVzdWx0LnN0YXRlLl9tYXhUdXJucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWF4VHVybnNFeGNlZWRlZEVycm9yKGBNYXggdHVybnMgKCR7cmVzdWx0LnN0YXRlLl9tYXhUdXJuc30pIGV4Y2VlZGVkYCwgcmVzdWx0LnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFJ1bm5pbmcgYWdlbnQgJHtjdXJyZW50QWdlbnQubmFtZX0gKHR1cm4gJHtyZXN1bHQuc3RhdGUuX2N1cnJlbnRUdXJufSlgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwbGljdGx5TW9kZWxTZXQgPSAoY3VycmVudEFnZW50Lm1vZGVsICE9PSB1bmRlZmluZWQgJiYgY3VycmVudEFnZW50Lm1vZGVsICE9PSAnJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmNvbmZpZy5tb2RlbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY29uZmlnLm1vZGVsICE9PSAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHNlbGVjdE1vZGVsKGN1cnJlbnRBZ2VudC5tb2RlbCwgdGhpcy5jb25maWcubW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZGVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBhd2FpdCB0aGlzLmNvbmZpZy5tb2RlbFByb3ZpZGVyLmdldE1vZGVsKG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50VHVybiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jcnVuSW5wdXRHdWFyZHJhaWxzKHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGVsU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmNvbmZpZy5tb2RlbFNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudEFnZW50Lm1vZGVsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFnZW50TW9kZWxTZXR0aW5ncyA9IGN1cnJlbnRBZ2VudC5tb2RlbFNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBtb2RlbFNldHRpbmdzID0gYWRqdXN0TW9kZWxTZXR0aW5nc0Zvck5vbkdQVDVSdW5uZXJNb2RlbChleHBsaWN0bHlNb2RlbFNldCwgYWdlbnRNb2RlbFNldHRpbmdzLCBtb2RlbCwgbW9kZWxTZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsU2V0dGluZ3MgPSBtYXliZVJlc2V0VG9vbENob2ljZShjdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fdG9vbFVzZVRyYWNrZXIsIG1vZGVsU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuSW5wdXQgPSBnZXRUdXJuSW5wdXQocmVzdWx0LmlucHV0LCByZXN1bHQubmV3SXRlbXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9ub0FjdGl2ZUFnZW50UnVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfc3RhcnQnLCByZXN1bHQuc3RhdGUuX2NvbnRleHQsIGN1cnJlbnRBZ2VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0JywgcmVzdWx0LnN0YXRlLl9jb250ZXh0LCBjdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbFJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIG1vZGVsLmdldFN0cmVhbWVkUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtSW5zdHJ1Y3Rpb25zOiBhd2FpdCBjdXJyZW50QWdlbnQuZ2V0U3lzdGVtUHJvbXB0KHJlc3VsdC5zdGF0ZS5fY29udGV4dCksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IGF3YWl0IGN1cnJlbnRBZ2VudC5nZXRQcm9tcHQocmVzdWx0LnN0YXRlLl9jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiB0dXJuSW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1Jlc3BvbnNlSWQ6IG9wdGlvbnMucHJldmlvdXNSZXNwb25zZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IG9wdGlvbnMuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFNldHRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHNlcmlhbGl6ZWRUb29scyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRvZmZzOiBzZXJpYWxpemVkSGFuZG9mZnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUeXBlOiBjb252ZXJ0QWdlbnRPdXRwdXRUeXBlVG9TZXJpYWxpemFibGUoY3VycmVudEFnZW50Lm91dHB1dFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2luZzogZ2V0VHJhY2luZyh0aGlzLmNvbmZpZy50cmFjaW5nRGlzYWJsZWQsIHRoaXMuY29uZmlnLnRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAncmVzcG9uc2VfZG9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBTdHJlYW1FdmVudFJlc3BvbnNlQ29tcGxldGVkLnBhcnNlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2FnZTogbmV3IFVzYWdlKHBhcnNlZC5yZXNwb25zZS51c2FnZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogcGFyc2VkLnJlc3BvbnNlLm91dHB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZDogcGFyc2VkLnJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHVzZXIncyBjb2RlIGV4aXRzIGEgbG9vcCB0byBjb25zdW1lIHRoZSBzdHJlYW0sIHdlIG5lZWQgdG8gYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGxvb3AgdG8gcHJldmVudCBpbnRlcm5hbCBmYWxzZSBlcnJvcnMgYW5kIHVubmVjZXNzYXJ5IHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuX2FkZEl0ZW0obmV3IFJ1blJhd01vZGVsU3RyZWFtRXZlbnQoZXZlbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX25vQWN0aXZlQWdlbnRSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaW5hbFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKCdNb2RlbCBkaWQgbm90IHByb2R1Y2UgYSBmaW5hbCByZXNwb25zZSEnLCByZXN1bHQuc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSA9IGZpbmFsUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fbW9kZWxSZXNwb25zZXMucHVzaChyZXN1bHQuc3RhdGUuX2xhc3RUdXJuUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRSZXNwb25zZSA9IHByb2Nlc3NNb2RlbFJlc3BvbnNlKHJlc3VsdC5zdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgY3VycmVudEFnZW50LCB0b29scywgaGFuZG9mZnMpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2xhc3RQcm9jZXNzZWRSZXNwb25zZSA9IHByb2Nlc3NlZFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0dXJuUmVzdWx0ID0gYXdhaXQgZXhlY3V0ZVRvb2xzQW5kU2lkZUVmZmVjdHMoY3VycmVudEFnZW50LCByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQsIHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMsIHJlc3VsdC5zdGF0ZS5fbGFzdFR1cm5SZXNwb25zZSwgcmVzdWx0LnN0YXRlLl9sYXN0UHJvY2Vzc2VkUmVzcG9uc2UsIHRoaXMsIHJlc3VsdC5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN0ZXBUb1J1blJlc3VsdChyZXN1bHQsIHR1cm5SZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX3Rvb2xVc2VUcmFja2VyLmFkZFRvb2xVc2UoY3VycmVudEFnZW50LCBwcm9jZXNzZWRSZXNwb25zZS50b29sc1VzZWQpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX29yaWdpbmFsSW5wdXQgPSB0dXJuUmVzdWx0Lm9yaWdpbmFsSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fZ2VuZXJhdGVkSXRlbXMgPSB0dXJuUmVzdWx0LmdlbmVyYXRlZEl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwID0gdHVyblJlc3VsdC5uZXh0U3RlcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9maW5hbF9vdXRwdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3J1bk91dHB1dEd1YXJkcmFpbHMocmVzdWx0LnN0YXRlLCByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLm91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfZW5kJywgcmVzdWx0LnN0YXRlLl9jb250ZXh0LCBjdXJyZW50QWdlbnQsIHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAub3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X2VuZCcsIHJlc3VsdC5zdGF0ZS5fY29udGV4dCwgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcC5vdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudFN0ZXAudHlwZSA9PT0gJ25leHRfc3RlcF9pbnRlcnJ1cHRpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBkb25lIGZvciBub3cuIERvbid0IHJ1biBhbnkgb3V0cHV0IGd1YXJkcmFpbHNcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwLnR5cGUgPT09ICduZXh0X3N0ZXBfaGFuZG9mZicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnQgPSByZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwXG4gICAgICAgICAgICAgICAgICAgICAgICA/Lm5ld0FnZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdGUuX2N1cnJlbnRBZ2VudFNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuX2FkZEl0ZW0obmV3IFJ1bkFnZW50VXBkYXRlZFN0cmVhbUV2ZW50KHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0ZS5fbm9BY3RpdmVBZ2VudFJ1biA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIHByb2Nlc3NlZCB0aGUgaGFuZG9mZiwgc28gd2UgbmVlZCB0byBydW4gdGhlIGxvb3AgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50U3RlcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICduZXh0X3N0ZXBfcnVuX2FnYWluJyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnUnVubmluZyBuZXh0IGxvb3AnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLnNldEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGluIGFnZW50IHJ1bicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3I6IFN0cmluZyhlcnJvcikgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0ZS5fY3VycmVudEFnZW50U3Bhbikge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdGUuX2N1cnJlbnRTdGVwPy50eXBlICE9PSAnbmV4dF9zdGVwX2ludGVycnVwdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlLl9jdXJyZW50QWdlbnRTcGFuLmVuZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNldEN1cnJlbnRTcGFuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXN5bmMgI3J1bkluZGl2aWR1YWxTdHJlYW0oYWdlbnQsIGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zID8/IHt9O1xuICAgICAgICByZXR1cm4gd2l0aE5ld1NwYW5Db250ZXh0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgb3IgcmV1c2UgZXhpc3Rpbmcgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gaW5wdXQgaW5zdGFuY2VvZiBSdW5TdGF0ZVxuICAgICAgICAgICAgICAgID8gaW5wdXRcbiAgICAgICAgICAgICAgICA6IG5ldyBSdW5TdGF0ZShvcHRpb25zLmNvbnRleHQgaW5zdGFuY2VvZiBSdW5Db250ZXh0XG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5jb250ZXh0XG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFJ1bkNvbnRleHQob3B0aW9ucy5jb250ZXh0KSwgaW5wdXQsIGFnZW50LCBvcHRpb25zLm1heFR1cm5zID8/IERFRkFVTFRfTUFYX1RVUk5TKTtcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHN0cmVhbWVkIHJlc3VsdCB3aXRoIGV4aXN0aW5nIHN0YXRlXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU3RyZWFtZWRSdW5SZXN1bHQoe1xuICAgICAgICAgICAgICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFNldHVwIGRlZmF1bHRzXG4gICAgICAgICAgICByZXN1bHQubWF4VHVybnMgPSBvcHRpb25zLm1heFR1cm5zID8/IHN0YXRlLl9tYXhUdXJucztcbiAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBzdHJlYW0gbG9vcCB3aXRob3V0IGJsb2NraW5nXG4gICAgICAgICAgICB0aGlzLiNydW5TdHJlYW1Mb29wKHJlc3VsdCwgb3B0aW9ucykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0Ll9kb25lKCk7XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0Ll9yYWlzZUVycm9yKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBydW4oYWdlbnQsIGlucHV0LCBvcHRpb25zID0ge1xuICAgICAgICBzdHJlYW06IGZhbHNlLFxuICAgICAgICBjb250ZXh0OiB1bmRlZmluZWQsXG4gICAgfSkge1xuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSdW5TdGF0ZSAmJiBpbnB1dC5fdHJhY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB3aXRoVHJhY2UoaW5wdXQuX3RyYWNlLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0Ll9jdXJyZW50QWdlbnRTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRTcGFuKGlucHV0Ll9jdXJyZW50QWdlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnM/LnN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4jcnVuSW5kaXZpZHVhbFN0cmVhbShhZ2VudCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3J1bkluZGl2aWR1YWxOb25TdHJlYW0oYWdlbnQsIGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0T3JDcmVhdGVUcmFjZShhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucz8uc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuI3J1bkluZGl2aWR1YWxTdHJlYW0oYWdlbnQsIGlucHV0LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiNydW5JbmRpdmlkdWFsTm9uU3RyZWFtKGFnZW50LCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRyYWNlSWQ6IHRoaXMuY29uZmlnLnRyYWNlSWQsXG4gICAgICAgICAgICBuYW1lOiB0aGlzLmNvbmZpZy53b3JrZmxvd05hbWUsXG4gICAgICAgICAgICBncm91cElkOiB0aGlzLmNvbmZpZy5ncm91cElkLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHRoaXMuY29uZmlnLnRyYWNlTWV0YWRhdGEsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmxldCBfZGVmYXVsdFJ1bm5lciA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIGdldERlZmF1bHRSdW5uZXIoKSB7XG4gICAgaWYgKF9kZWZhdWx0UnVubmVyKSB7XG4gICAgICAgIHJldHVybiBfZGVmYXVsdFJ1bm5lcjtcbiAgICB9XG4gICAgX2RlZmF1bHRSdW5uZXIgPSBuZXcgUnVubmVyKCk7XG4gICAgcmV0dXJuIF9kZWZhdWx0UnVubmVyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE1vZGVsKGFnZW50TW9kZWwsIHJ1bkNvbmZpZ01vZGVsKSB7XG4gICAgLy8gV2hlbiBpbml0aWFsaXppbmcgYW4gYWdlbnQgd2l0aG91dCBtb2RlbCBuYW1lLCB0aGUgbW9kZWwgcHJvcGVydHkgaXMgc2V0IHRvIGFuIGVtcHR5IHN0cmluZy4gU28sXG4gICAgLy8gKiBhZ2VudE1vZGVsID09PSAnJyAmIHJ1bkNvbmZpZ01vZGVsIGV4aXN0cywgcnVuQ29uZmlnTW9kZWwgd2lsbCBiZSB1c2VkXG4gICAgLy8gKiBhZ2VudE1vZGVsIGlzIHNldCwgdGhlIGFnZW50TW9kZWwgd2lsbCBiZSB1c2VkIG92ZXIgcnVuQ29uZmlnTW9kZWxcbiAgICBpZiAoKHR5cGVvZiBhZ2VudE1vZGVsID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBhZ2VudE1vZGVsICE9PSBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSKSB8fFxuICAgICAgICBhZ2VudE1vZGVsIC8vIGFueSB0cnV0aHkgdmFsdWVcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIGFnZW50TW9kZWw7XG4gICAgfVxuICAgIHJldHVybiBydW5Db25maWdNb2RlbCA/PyBhZ2VudE1vZGVsID8/IEFnZW50LkRFRkFVTFRfTU9ERUxfUExBQ0VIT0xERVI7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuKGFnZW50LCBpbnB1dCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJ1bm5lciA9IGdldERlZmF1bHRSdW5uZXIoKTtcbiAgICBpZiAob3B0aW9ucz8uc3RyZWFtKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBydW5uZXIucnVuKGFnZW50LCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYXdhaXQgcnVubmVyLnJ1bihhZ2VudCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH1cbn1cbi8qKlxuICogV2hlbiB0aGUgZGVmYXVsdCBtb2RlbCBpcyBhIEdQVC01IHZhcmlhbnQsIGFnZW50cyBtYXkgY2FycnkgR1BULTUtc3BlY2lmaWMgcHJvdmlkZXJEYXRhXG4gKiAoZS5nLiwgcmVhc29uaW5nIGVmZm9ydCwgdGV4dCB2ZXJib3NpdHkpLiBJZiBhIHJ1biByZXNvbHZlcyB0byBhIG5vbi1HUFQtNSBtb2RlbCBhbmQgdGhlXG4gKiBhZ2VudCByZWxpZWQgb24gdGhlIGRlZmF1bHQgbW9kZWwgKGkuZS4sIG5vIGV4cGxpY2l0IG1vZGVsIHNldCksIHRoZXNlIEdQVC01LW9ubHkgc2V0dGluZ3NcbiAqIGFyZSBpbmNvbXBhdGlibGUgYW5kIHNob3VsZCBiZSBzdHJpcHBlZCB0byBhdm9pZCBydW50aW1lIGVycm9ycy5cbiAqL1xuZnVuY3Rpb24gYWRqdXN0TW9kZWxTZXR0aW5nc0Zvck5vbkdQVDVSdW5uZXJNb2RlbChleHBsaWN0bHlNb2RlbFNldCwgYWdlbnRNb2RlbFNldHRpbmdzLCBydW5uZXJNb2RlbCwgbW9kZWxTZXR0aW5ncykge1xuICAgIGlmIChcbiAgICAvLyBncHQtNSBpcyBlbmFibGVkIGZvciB0aGUgZGVmYXVsdCBtb2RlbCBmb3IgYWdlbnRzXG4gICAgaXNHcHQ1RGVmYXVsdCgpICYmXG4gICAgICAgIC8vIGV4cGxpY2l0bHkgc2V0IG1vZGVsIGZvciB0aGUgYWdlbnRcbiAgICAgICAgZXhwbGljdGx5TW9kZWxTZXQgJiZcbiAgICAgICAgLy8gdGhpcyBydW5uZXIgdXNlcyBhIG5vbi1ncHQtNSBtb2RlbFxuICAgICAgICAodHlwZW9mIHJ1bm5lck1vZGVsICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgIWdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkKHJ1bm5lck1vZGVsKSkgJiZcbiAgICAgICAgKGFnZW50TW9kZWxTZXR0aW5ncy5wcm92aWRlckRhdGE/LnJlYXNvbmluZyB8fFxuICAgICAgICAgICAgYWdlbnRNb2RlbFNldHRpbmdzLnByb3ZpZGVyRGF0YT8udGV4dD8udmVyYm9zaXR5IHx8XG4gICAgICAgICAgICBhZ2VudE1vZGVsU2V0dGluZ3MucHJvdmlkZXJEYXRhPy5yZWFzb25pbmdfZWZmb3J0KSkge1xuICAgICAgICAvLyB0aGUgaW5jb21wYXRpYmxlIHBhcmFtZXRlcnMgc2hvdWxkIGJlIHJlbW92ZWQgdG8gYXZvaWQgcnVudGltZSBlcnJvcnNcbiAgICAgICAgZGVsZXRlIG1vZGVsU2V0dGluZ3MucHJvdmlkZXJEYXRhPy5yZWFzb25pbmc7XG4gICAgICAgIGRlbGV0ZSBtb2RlbFNldHRpbmdzLnByb3ZpZGVyRGF0YT8udGV4dD8udmVyYm9zaXR5O1xuICAgICAgICBkZWxldGUgbW9kZWxTZXR0aW5ncy5wcm92aWRlckRhdGE/LnJlYXNvbmluZ19lZmZvcnQ7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbFNldHRpbmdzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVuLm1qcy5tYXAiLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IEFnZW50SG9va3MgfSBmcm9tIFwiLi9saWZlY3ljbGUubWpzXCI7XG5pbXBvcnQgeyBnZXRBbGxNY3BUb29scyB9IGZyb20gXCIuL21jcC5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRNb2RlbFNldHRpbmdzLCBncHQ1UmVhc29uaW5nU2V0dGluZ3NSZXF1aXJlZCwgaXNHcHQ1RGVmYXVsdCwgfSBmcm9tIFwiLi9kZWZhdWx0TW9kZWwubWpzXCI7XG5pbXBvcnQgeyB0b29sLCB9IGZyb20gXCIuL3Rvb2wubWpzXCI7XG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tIFwiLi9ydW4ubWpzXCI7XG5pbXBvcnQgeyB0b0Z1bmN0aW9uVG9vbE5hbWUgfSBmcm9tIFwiLi91dGlscy90b29scy5tanNcIjtcbmltcG9ydCB7IGdldE91dHB1dFRleHQgfSBmcm9tIFwiLi91dGlscy9tZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IGlzQWdlbnRUb29sSW5wdXQgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgaXNab2RPYmplY3QgfSBmcm9tIFwiLi91dGlscy90eXBlR3VhcmRzLm1qc1wiO1xuaW1wb3J0IHsgTW9kZWxCZWhhdmlvckVycm9yLCBVc2VyRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbi8vIFBlci1wcm9jZXNzLCBlcGhlbWVyYWwgbWFwIGxpbmtpbmcgYSBmdW5jdGlvbiB0b29sIGNhbGwgdG8gaXRzIG5lc3RlZFxuLy8gQWdlbnQgcnVuIHJlc3VsdCB3aXRoaW4gdGhlIHNhbWUgcnVuOyBlbnRyeSBpcyByZW1vdmVkIGFmdGVyIGNvbnN1bXB0aW9uLlxuY29uc3QgYWdlbnRUb29sUnVuUmVzdWx0cyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gc2F2ZUFnZW50VG9vbFJ1blJlc3VsdCh0b29sQ2FsbCwgcnVuUmVzdWx0KSB7XG4gICAgaWYgKHRvb2xDYWxsKSB7XG4gICAgICAgIGFnZW50VG9vbFJ1blJlc3VsdHMuc2V0KHRvb2xDYWxsLCBydW5SZXN1bHQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25zdW1lQWdlbnRUb29sUnVuUmVzdWx0KHRvb2xDYWxsKSB7XG4gICAgY29uc3QgcnVuUmVzdWx0ID0gYWdlbnRUb29sUnVuUmVzdWx0cy5nZXQodG9vbENhbGwpO1xuICAgIGlmIChydW5SZXN1bHQpIHtcbiAgICAgICAgYWdlbnRUb29sUnVuUmVzdWx0cy5kZWxldGUodG9vbENhbGwpO1xuICAgIH1cbiAgICByZXR1cm4gcnVuUmVzdWx0O1xufVxuLy8gVGhlIHBhcmFtZXRlciB0eXBlIGZvIG5lZWRBcHByb3ZhbCBmdW5jdGlvbiBmb3IgdGhlIHRvb2wgY3JlYXRlZCBieSBBZ2VudC5hc1Rvb2woKSBtZXRob2RcbmNvbnN0IEFnZW50QXNUb29sTmVlZEFwcHJvdmFsU2NoYW1lID0gei5vYmplY3QoeyBpbnB1dDogei5zdHJpbmcoKSB9KTtcbi8qKlxuICogVGhlIGNsYXNzIHJlcHJlc2VudGluZyBhbiBBSSBhZ2VudCBjb25maWd1cmVkIHdpdGggaW5zdHJ1Y3Rpb25zLCB0b29scywgZ3VhcmRyYWlscywgaGFuZG9mZnMgYW5kIG1vcmUuXG4gKlxuICogV2Ugc3Ryb25nbHkgcmVjb21tZW5kIHBhc3NpbmcgYGluc3RydWN0aW9uc2AsIHdoaWNoIGlzIHRoZSBcInN5c3RlbSBwcm9tcHRcIiBmb3IgdGhlIGFnZW50LiBJblxuICogYWRkaXRpb24sIHlvdSBjYW4gcGFzcyBgaGFuZG9mZkRlc2NyaXB0aW9uYCwgd2hpY2ggaXMgYSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGVcbiAqIGFnZW50LCB1c2VkIHdoZW4gdGhlIGFnZW50IGlzIHVzZWQgaW5zaWRlIHRvb2xzL2hhbmRvZmZzLlxuICpcbiAqIEFnZW50cyBhcmUgZ2VuZXJpYyBvbiB0aGUgY29udGV4dCB0eXBlLiBUaGUgY29udGV4dCBpcyBhIChtdXRhYmxlKSBvYmplY3QgeW91IGNyZWF0ZS4gSXQgaXNcbiAqIHBhc3NlZCB0byB0b29sIGZ1bmN0aW9ucywgaGFuZG9mZnMsIGd1YXJkcmFpbHMsIGV0Yy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50IGV4dGVuZHMgQWdlbnRIb29rcyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIEFnZW50IHdpdGggaGFuZG9mZnMgYW5kIGF1dG9tYXRpY2FsbHkgaW5mZXIgdGhlIHVuaW9uIHR5cGUgZm9yIFRPdXRwdXQgZnJvbSB0aGUgaGFuZG9mZiBhZ2VudHMnIG91dHB1dCB0eXBlcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IEFnZW50KHtcbiAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgIGhhbmRvZmZzOiBjb25maWcuaGFuZG9mZnMsXG4gICAgICAgICAgICBvdXRwdXRUeXBlOiBjb25maWcub3V0cHV0VHlwZSxcbiAgICAgICAgICAgIGhhbmRvZmZPdXRwdXRUeXBlV2FybmluZ0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIERFRkFVTFRfTU9ERUxfUExBQ0VIT0xERVIgPSAnJztcbiAgICBuYW1lO1xuICAgIGluc3RydWN0aW9ucztcbiAgICBwcm9tcHQ7XG4gICAgaGFuZG9mZkRlc2NyaXB0aW9uO1xuICAgIGhhbmRvZmZzO1xuICAgIG1vZGVsO1xuICAgIG1vZGVsU2V0dGluZ3M7XG4gICAgdG9vbHM7XG4gICAgbWNwU2VydmVycztcbiAgICBpbnB1dEd1YXJkcmFpbHM7XG4gICAgb3V0cHV0R3VhcmRyYWlscztcbiAgICBvdXRwdXRUeXBlID0gJ3RleHQnO1xuICAgIHRvb2xVc2VCZWhhdmlvcjtcbiAgICByZXNldFRvb2xDaG9pY2U7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm5hbWUgIT09ICdzdHJpbmcnIHx8IGNvbmZpZy5uYW1lLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ0FnZW50IG11c3QgaGF2ZSBhIG5hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gY29uZmlnLm5hbWU7XG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gY29uZmlnLmluc3RydWN0aW9ucyA/PyBBZ2VudC5ERUZBVUxUX01PREVMX1BMQUNFSE9MREVSO1xuICAgICAgICB0aGlzLnByb21wdCA9IGNvbmZpZy5wcm9tcHQ7XG4gICAgICAgIHRoaXMuaGFuZG9mZkRlc2NyaXB0aW9uID0gY29uZmlnLmhhbmRvZmZEZXNjcmlwdGlvbiA/PyAnJztcbiAgICAgICAgdGhpcy5oYW5kb2ZmcyA9IGNvbmZpZy5oYW5kb2ZmcyA/PyBbXTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IGNvbmZpZy5tb2RlbCA/PyAnJztcbiAgICAgICAgdGhpcy5tb2RlbFNldHRpbmdzID0gY29uZmlnLm1vZGVsU2V0dGluZ3MgPz8gZ2V0RGVmYXVsdE1vZGVsU2V0dGluZ3MoKTtcbiAgICAgICAgdGhpcy50b29scyA9IGNvbmZpZy50b29scyA/PyBbXTtcbiAgICAgICAgdGhpcy5tY3BTZXJ2ZXJzID0gY29uZmlnLm1jcFNlcnZlcnMgPz8gW107XG4gICAgICAgIHRoaXMuaW5wdXRHdWFyZHJhaWxzID0gY29uZmlnLmlucHV0R3VhcmRyYWlscyA/PyBbXTtcbiAgICAgICAgdGhpcy5vdXRwdXRHdWFyZHJhaWxzID0gY29uZmlnLm91dHB1dEd1YXJkcmFpbHMgPz8gW107XG4gICAgICAgIGlmIChjb25maWcub3V0cHV0VHlwZSkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRUeXBlID0gY29uZmlnLm91dHB1dFR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b29sVXNlQmVoYXZpb3IgPSBjb25maWcudG9vbFVzZUJlaGF2aW9yID8/ICdydW5fbGxtX2FnYWluJztcbiAgICAgICAgdGhpcy5yZXNldFRvb2xDaG9pY2UgPSBjb25maWcucmVzZXRUb29sQ2hvaWNlID8/IHRydWU7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gVGhlIHVzZXIgc2V0cyBhIG5vbi1kZWZhdWx0IG1vZGVsXG4gICAgICAgIGNvbmZpZy5tb2RlbCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBtb2RlbCBpcyBncHQtNVxuICAgICAgICAgICAgaXNHcHQ1RGVmYXVsdCgpICYmXG4gICAgICAgICAgICAvLyBIb3dldmVyLCB0aGUgc3BlY2lmaWVkIG1vZGVsIGlzIG5vdCBhIGdwdC01IG1vZGVsXG4gICAgICAgICAgICAodHlwZW9mIGNvbmZpZy5tb2RlbCAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgICAgICAhZ3B0NVJlYXNvbmluZ1NldHRpbmdzUmVxdWlyZWQoY29uZmlnLm1vZGVsKSkgJiZcbiAgICAgICAgICAgIC8vIFRoZSBtb2RlbCBzZXR0aW5ncyBhcmUgbm90IGN1c3RvbWl6ZWQgZm9yIHRoZSBzcGVjaWZpZWQgbW9kZWxcbiAgICAgICAgICAgIGNvbmZpZy5tb2RlbFNldHRpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEluIHRoaXMgc2NlbmFyaW8sIHdlIHNob3VsZCB1c2UgYSBnZW5lcmljIG1vZGVsIHNldHRpbmdzXG4gICAgICAgICAgICAvLyBiZWNhdXNlIG5vbi1ncHQtNSBtb2RlbHMgYXJlIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIGRlZmF1bHQgZ3B0LTUgbW9kZWwgc2V0dGluZ3MuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgYmVzdC1lZmZvcnQgYXR0ZW1wdCB0byBtYWtlIHRoZSBhZ2VudCB3b3JrIHdpdGggbm9uLWdwdC01IG1vZGVscy5cbiAgICAgICAgICAgIHRoaXMubW9kZWxTZXR0aW5ncyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIC0tLSBSdW50aW1lIHdhcm5pbmcgZm9yIGhhbmRvZmYgb3V0cHV0IHR5cGUgY29tcGF0aWJpbGl0eSAtLS1cbiAgICAgICAgaWYgKGNvbmZpZy5oYW5kb2ZmT3V0cHV0VHlwZVdhcm5pbmdFbmFibGVkID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGNvbmZpZy5oYW5kb2ZmT3V0cHV0VHlwZVdhcm5pbmdFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYW5kb2ZmcyAmJiB0aGlzLm91dHB1dFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXRUeXBlcyA9IG5ldyBTZXQoW0pTT04uc3RyaW5naWZ5KHRoaXMub3V0cHV0VHlwZSldKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGggb2YgdGhpcy5oYW5kb2Zmcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJ291dHB1dFR5cGUnIGluIGggJiYgaC5vdXRwdXRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUeXBlcy5hZGQoSlNPTi5zdHJpbmdpZnkoaC5vdXRwdXRUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoJ2FnZW50JyBpbiBoICYmIGguYWdlbnQub3V0cHV0VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0VHlwZXMuYWRkKEpTT04uc3RyaW5naWZ5KGguYWdlbnQub3V0cHV0VHlwZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXRUeXBlcy5zaXplID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihgW0FnZW50XSBXYXJuaW5nOiBIYW5kb2ZmIGFnZW50cyBoYXZlIGRpZmZlcmVudCBvdXRwdXQgdHlwZXM6ICR7QXJyYXkuZnJvbShvdXRwdXRUeXBlcykuam9pbignLCAnKX0uIFlvdSBjYW4gbWFrZSBpdCB0eXBlLXNhZmUgYnkgdXNpbmcgQWdlbnQuY3JlYXRlKHsgLi4uIH0pIG1ldGhvZCBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdXRwdXQgc2NoZW1hIG5hbWUuXG4gICAgICovXG4gICAgZ2V0IG91dHB1dFNjaGVtYU5hbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuICd0ZXh0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1pvZE9iamVjdCh0aGlzLm91dHB1dFR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1pvZE91dHB1dCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRoaXMub3V0cHV0VHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm91dHB1dFR5cGUubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IHR5cGU6ICR7dGhpcy5vdXRwdXRUeXBlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIGNvcHkgb2YgdGhlIGFnZW50LCB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMgY2hhbmdlZC4gRm9yIGV4YW1wbGUsIHlvdSBjb3VsZCBkbzpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIGNvbnN0IG5ld0FnZW50ID0gYWdlbnQuY2xvbmUoeyBpbnN0cnVjdGlvbnM6ICdOZXcgaW5zdHJ1Y3Rpb25zJyB9KVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyAtIEEgcGFydGlhbCBjb25maWd1cmF0aW9uIHRvIGNoYW5nZS5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBhZ2VudCB3aXRoIHRoZSBnaXZlbiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGNsb25lKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IEFnZW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMsXG4gICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gdGhpcyBhZ2VudCBpbnRvIGEgdG9vbCwgY2FsbGFibGUgYnkgb3RoZXIgYWdlbnRzLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBkaWZmZXJlbnQgZnJvbSBoYW5kb2ZmcyBpbiB0d28gd2F5czpcbiAgICAgKiAxLiBJbiBoYW5kb2ZmcywgdGhlIG5ldyBhZ2VudCByZWNlaXZlcyB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnkuIEluIHRoaXMgdG9vbCwgdGhlIG5ldyBhZ2VudFxuICAgICAqICAgIHJlY2VpdmVzIGdlbmVyYXRlZCBpbnB1dC5cbiAgICAgKiAyLiBJbiBoYW5kb2ZmcywgdGhlIG5ldyBhZ2VudCB0YWtlcyBvdmVyIHRoZSBjb252ZXJzYXRpb24uIEluIHRoaXMgdG9vbCwgdGhlIG5ldyBhZ2VudCBpc1xuICAgICAqICAgIGNhbGxlZCBhcyBhIHRvb2wsIGFuZCB0aGUgY29udmVyc2F0aW9uIGlzIGNvbnRpbnVlZCBieSB0aGUgb3JpZ2luYWwgYWdlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoZSB0b29sLlxuICAgICAqIEByZXR1cm5zIEEgdG9vbCB0aGF0IHJ1bnMgdGhlIGFnZW50IGFuZCByZXR1cm5zIHRoZSBvdXRwdXQgdGV4dC5cbiAgICAgKi9cbiAgICBhc1Rvb2wob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHRvb2xOYW1lLCB0b29sRGVzY3JpcHRpb24sIGN1c3RvbU91dHB1dEV4dHJhY3RvciwgbmVlZHNBcHByb3ZhbCwgcnVuQ29uZmlnLCBydW5PcHRpb25zLCB9ID0gb3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHRvb2woe1xuICAgICAgICAgICAgbmFtZTogdG9vbE5hbWUgPz8gdG9GdW5jdGlvblRvb2xOYW1lKHRoaXMubmFtZSksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbERlc2NyaXB0aW9uID8/ICcnLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogQWdlbnRBc1Rvb2xOZWVkQXBwcm92YWxTY2hhbWUsXG4gICAgICAgICAgICBzdHJpY3Q6IHRydWUsXG4gICAgICAgICAgICBuZWVkc0FwcHJvdmFsLFxuICAgICAgICAgICAgZXhlY3V0ZTogYXN5bmMgKGRhdGEsIGNvbnRleHQsIGRldGFpbHMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQWdlbnRUb29sSW5wdXQoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1vZGVsQmVoYXZpb3JFcnJvcignQWdlbnQgdG9vbCBjYWxsZWQgd2l0aCBpbnZhbGlkIGlucHV0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBSdW5uZXIocnVuQ29uZmlnID8/IHt9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBydW5uZXIucnVuKHRoaXMsIGRhdGEuaW5wdXQsIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgLi4uKHJ1bk9wdGlvbnMgPz8ge30pLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dFRleHQgPSB0eXBlb2YgY3VzdG9tT3V0cHV0RXh0cmFjdG9yID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gYXdhaXQgY3VzdG9tT3V0cHV0RXh0cmFjdG9yKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRPdXRwdXRUZXh0KHJlc3VsdC5yYXdSZXNwb25zZXNbcmVzdWx0LnJhd1Jlc3BvbnNlcy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFpbHM/LnRvb2xDYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNhdmVBZ2VudFRvb2xSdW5SZXN1bHQoZGV0YWlscy50b29sQ2FsbCwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dFRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3lzdGVtIHByb21wdCBmb3IgdGhlIGFnZW50LlxuICAgICAqXG4gICAgICogSWYgdGhlIGFnZW50IGhhcyBhIGZ1bmN0aW9uIGFzIGl0cyBpbnN0cnVjdGlvbnMsIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICAgKiBydW5Db250ZXh0IGFuZCB0aGUgYWdlbnQgaW5zdGFuY2UuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0U3lzdGVtUHJvbXB0KHJ1bkNvbnRleHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmluc3RydWN0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaW5zdHJ1Y3Rpb25zKHJ1bkNvbnRleHQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvbXB0IHRlbXBsYXRlIGZvciB0aGUgYWdlbnQsIGlmIGRlZmluZWQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYWdlbnQgaGFzIGEgZnVuY3Rpb24gYXMgaXRzIHByb21wdCwgdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgICAqIHJ1bkNvbnRleHQgYW5kIHRoZSBhZ2VudCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRQcm9tcHQocnVuQ29udGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvbXB0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wcm9tcHQocnVuQ29udGV4dCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbXB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBhdmFpbGFibGUgdG9vbHMgZnJvbSB0aGUgTUNQIHNlcnZlcnMuXG4gICAgICogQHJldHVybnMgdGhlIE1DUCBwb3dlcmVkIHRvb2xzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0TWNwVG9vbHMocnVuQ29udGV4dCkge1xuICAgICAgICBpZiAodGhpcy5tY3BTZXJ2ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRBbGxNY3BUb29scyh7XG4gICAgICAgICAgICAgICAgbWNwU2VydmVyczogdGhpcy5tY3BTZXJ2ZXJzLFxuICAgICAgICAgICAgICAgIHJ1bkNvbnRleHQsXG4gICAgICAgICAgICAgICAgYWdlbnQ6IHRoaXMsXG4gICAgICAgICAgICAgICAgY29udmVydFNjaGVtYXNUb1N0cmljdDogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFMbCBhZ2VudCB0b29scywgaW5jbHVkaW5nIHRoZSBNQ1BsIGFuZCBmdW5jdGlvbiB0b29scy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGFsbCBjb25maWd1cmVkIHRvb2xzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QWxsVG9vbHMocnVuQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gWy4uLihhd2FpdCB0aGlzLmdldE1jcFRvb2xzKHJ1bkNvbnRleHQpKSwgLi4udGhpcy50b29sc107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgZmluYWwgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgb3V0cHV0IG9mIHRoZSBhZ2VudC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcGFyc2VkIG91dC5cbiAgICAgKi9cbiAgICBwcm9jZXNzRmluYWxPdXRwdXQob3V0cHV0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dFR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3V0cHV0VHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uob3V0cHV0KTtcbiAgICAgICAgICAgIGlmIChpc1pvZE9iamVjdCh0aGlzLm91dHB1dFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0VHlwZS5wYXJzZShwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3V0cHV0IHR5cGU6ICR7dGhpcy5vdXRwdXRUeXBlfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgYWdlbnQsIHdoaWNoIGlzIHNlcmlhbGl6YWJsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgSlNPTiBvYmplY3QgY29udGFpbmluZyB0aGUgYWdlbnQncyBuYW1lLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZ2VudC5tanMubWFwIiwiaW1wb3J0IHsgYWRkVHJhY2VQcm9jZXNzb3IgfSBmcm9tIFwiLi90cmFjaW5nL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdFByb2Nlc3NvciB9IGZyb20gXCIuL3RyYWNpbmcvcHJvY2Vzc29yLm1qc1wiO1xuZXhwb3J0IHsgUnVudGltZUV2ZW50RW1pdHRlciB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvX3NoaW1zJztcbmV4cG9ydCB7IEFnZW50LCB9IGZyb20gXCIuL2FnZW50Lm1qc1wiO1xuZXhwb3J0IHsgQWdlbnRzRXJyb3IsIEd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yLCBJbnB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkLCBNYXhUdXJuc0V4Y2VlZGVkRXJyb3IsIE1vZGVsQmVoYXZpb3JFcnJvciwgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQsIFRvb2xDYWxsRXJyb3IsIFVzZXJFcnJvciwgU3lzdGVtRXJyb3IsIH0gZnJvbSBcIi4vZXJyb3JzLm1qc1wiO1xuZXhwb3J0IHsgUnVuQWdlbnRVcGRhdGVkU3RyZWFtRXZlbnQsIFJ1blJhd01vZGVsU3RyZWFtRXZlbnQsIFJ1bkl0ZW1TdHJlYW1FdmVudCwgfSBmcm9tIFwiLi9ldmVudHMubWpzXCI7XG5leHBvcnQgeyBkZWZpbmVPdXRwdXRHdWFyZHJhaWwsIH0gZnJvbSBcIi4vZ3VhcmRyYWlsLm1qc1wiO1xuZXhwb3J0IHsgZ2V0SGFuZG9mZiwgZ2V0VHJhbnNmZXJNZXNzYWdlLCBIYW5kb2ZmLCBoYW5kb2ZmLCB9IGZyb20gXCIuL2hhbmRvZmYubWpzXCI7XG5leHBvcnQgeyBhc3Npc3RhbnQsIHN5c3RlbSwgdXNlciB9IGZyb20gXCIuL2hlbHBlcnMvbWVzc2FnZS5tanNcIjtcbmV4cG9ydCB7IGV4dHJhY3RBbGxUZXh0T3V0cHV0LCBSdW5IYW5kb2ZmQ2FsbEl0ZW0sIFJ1bkhhbmRvZmZPdXRwdXRJdGVtLCBSdW5NZXNzYWdlT3V0cHV0SXRlbSwgUnVuUmVhc29uaW5nSXRlbSwgUnVuVG9vbEFwcHJvdmFsSXRlbSwgUnVuVG9vbENhbGxJdGVtLCBSdW5Ub29sQ2FsbE91dHB1dEl0ZW0sIH0gZnJvbSBcIi4vaXRlbXMubWpzXCI7XG5leHBvcnQgeyBBZ2VudEhvb2tzIH0gZnJvbSBcIi4vbGlmZWN5Y2xlLm1qc1wiO1xuZXhwb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuZXhwb3J0IHsgZ2V0QWxsTWNwVG9vbHMsIGludmFsaWRhdGVTZXJ2ZXJUb29sc0NhY2hlLCBtY3BUb0Z1bmN0aW9uVG9vbCwgTUNQU2VydmVyU3RkaW8sIE1DUFNlcnZlclN0cmVhbWFibGVIdHRwLCBNQ1BTZXJ2ZXJTU0UsIH0gZnJvbSBcIi4vbWNwLm1qc1wiO1xuZXhwb3J0IHsgY3JlYXRlTUNQVG9vbFN0YXRpY0ZpbHRlciwgfSBmcm9tIFwiLi9tY3BVdGlsLm1qc1wiO1xuZXhwb3J0IHsgT1BFTkFJX0RFRkFVTFRfTU9ERUxfRU5WX1ZBUklBQkxFX05BTUUsIGdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkLCBnZXREZWZhdWx0TW9kZWwsIGdldERlZmF1bHRNb2RlbFNldHRpbmdzLCBpc0dwdDVEZWZhdWx0LCB9IGZyb20gXCIuL2RlZmF1bHRNb2RlbC5tanNcIjtcbmV4cG9ydCB7IHNldERlZmF1bHRNb2RlbFByb3ZpZGVyIH0gZnJvbSBcIi4vcHJvdmlkZXJzLm1qc1wiO1xuZXhwb3J0IHsgUnVuUmVzdWx0LCBTdHJlYW1lZFJ1blJlc3VsdCB9IGZyb20gXCIuL3Jlc3VsdC5tanNcIjtcbmV4cG9ydCB7IHJ1biwgUnVubmVyLCB9IGZyb20gXCIuL3J1bi5tanNcIjtcbmV4cG9ydCB7IFJ1bkNvbnRleHQgfSBmcm9tIFwiLi9ydW5Db250ZXh0Lm1qc1wiO1xuZXhwb3J0IHsgUnVuU3RhdGUgfSBmcm9tIFwiLi9ydW5TdGF0ZS5tanNcIjtcbmV4cG9ydCB7IGNvbXB1dGVyVG9vbCwgaG9zdGVkTWNwVG9vbCwgdG9vbCwgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHJhY2luZy9pbmRleC5tanNcIjtcbmV4cG9ydCB7IGdldEdsb2JhbFRyYWNlUHJvdmlkZXIsIFRyYWNlUHJvdmlkZXIgfSBmcm9tIFwiLi90cmFjaW5nL3Byb3ZpZGVyLm1qc1wiO1xuZXhwb3J0IHsgVXNhZ2UgfSBmcm9tIFwiLi91c2FnZS5tanNcIjtcbmV4cG9ydCAqIGFzIHByb3RvY29sIGZyb20gXCIuL3R5cGVzL3Byb3RvY29sLm1qc1wiO1xuLyoqXG4gKiBBZGQgdGhlIGRlZmF1bHQgcHJvY2Vzc29yLCB3aGljaCBleHBvcnRzIHRyYWNlcyBhbmQgc3BhbnMgdG8gdGhlIGJhY2tlbmQgaW4gYmF0Y2hlcy4gWW91IGNhblxuICogY2hhbmdlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGJ5IGVpdGhlcjpcbiAqIDEuIGNhbGxpbmcgYWRkVHJhY2VQcm9jZXNzb3IsIHdoaWNoIGFkZHMgYWRkaXRpb25hbCBwcm9jZXNzb3JzLCBvclxuICogMi4gY2FsbGluZyBzZXRUcmFjZVByb2Nlc3NvcnMsIHdoaWNoIHNldHMgdGhlIHByb2Nlc3NvcnMgYW5kIGRpc2NhcmRzIHRoZSBkZWZhdWx0IG9uZVxuICovXG5hZGRUcmFjZVByb2Nlc3NvcihkZWZhdWx0UHJvY2Vzc29yKCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCIsImltcG9ydCBNRVRBREFUQSBmcm9tIFwiLi9tZXRhZGF0YS5tanNcIjtcbmltcG9ydCB7IFJ1blRvb2xBcHByb3ZhbEl0ZW0gfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbi8qKlxuICogQ29udmVydHMgYSBiYXNlNjQgc3RyaW5nIHRvIGFuIEFycmF5QnVmZmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZTY0XG4gKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NCkge1xuICAgIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoYmFzZTY0KTtcbiAgICBjb25zdCBsZW4gPSBiaW5hcnlTdHJpbmcubGVuZ3RoO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGJ5dGVzW2ldID0gYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBieXRlcy5idWZmZXI7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIEFycmF5QnVmZmVyIHRvIGEgYmFzZTY0IHN0cmluZ1xuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmFzZTY0KGFycmF5QnVmZmVyKSB7XG4gICAgY29uc3QgYmluYXJ5U3RyaW5nID0gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgIHJldHVybiBidG9hKGJpbmFyeVN0cmluZyk7XG59XG4vKipcbiAqIEdldCB0aGUgbGFzdCB0ZXh0IGZyb20gYW4gYXVkaW8gb3V0cHV0IG1lc3NhZ2VcbiAqIEBwYXJhbSBpdGVtXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlKGl0ZW0pIHtcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIGl0ZW0gPT09IG51bGwgfHxcbiAgICAgICAgdHlwZW9mIGl0ZW0gIT09ICdvYmplY3QnIHx8XG4gICAgICAgICEoJ3R5cGUnIGluIGl0ZW0pIHx8XG4gICAgICAgIHR5cGVvZiBpdGVtLnR5cGUgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICFpdGVtLnR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGl0ZW0udHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICghKCdjb250ZW50JyBpbiBpdGVtKSB8fFxuICAgICAgICAhQXJyYXkuaXNBcnJheShpdGVtLmNvbnRlbnQpIHx8XG4gICAgICAgIGl0ZW0uY29udGVudC5sZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IGxhc3RDb250ZW50SXRlbSA9IGl0ZW0uY29udGVudFtpdGVtLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgaWYgKCEoJ3R5cGUnIGluIGxhc3RDb250ZW50SXRlbSkgfHxcbiAgICAgICAgdHlwZW9mIGxhc3RDb250ZW50SXRlbS50eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAobGFzdENvbnRlbnRJdGVtLnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBsYXN0Q29udGVudEl0ZW0udGV4dCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gbGFzdENvbnRlbnRJdGVtLnRleHRcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAobGFzdENvbnRlbnRJdGVtLnR5cGUgPT09ICdvdXRwdXRfYXVkaW8nKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgbGFzdENvbnRlbnRJdGVtLnRyYW5zY3JpcHQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGxhc3RDb250ZW50SXRlbS50cmFuc2NyaXB0XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQ29tcGFyZSB0d28gY29udmVyc2F0aW9uIGhpc3RvcmllcyB0byBkZXRlcm1pbmUgdGhlIHJlbW92YWxzLCBhZGRpdGlvbnMsIGFuZCB1cGRhdGVzLlxuICogQHBhcmFtIG9sZEhpc3RvcnkgLSBUaGUgb2xkIGhpc3RvcnkuXG4gKiBAcGFyYW0gbmV3SGlzdG9yeSAtIFRoZSBuZXcgaGlzdG9yeS5cbiAqIEByZXR1cm5zIEEgZGlmZiBvZiB0aGUgdHdvIGhpc3Rvcmllcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZSZWFsdGltZUhpc3Rvcnkob2xkSGlzdG9yeSwgbmV3SGlzdG9yeSkge1xuICAgIGNvbnN0IHJlbW92YWxzID0gb2xkSGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+ICFuZXdIaXN0b3J5LnNvbWUoKG5ld0l0ZW0pID0+IG5ld0l0ZW0uaXRlbUlkID09PSBpdGVtLml0ZW1JZCkpO1xuICAgIGNvbnN0IGFkZGl0aW9ucyA9IG5ld0hpc3RvcnkuZmlsdGVyKChpdGVtKSA9PiAhb2xkSGlzdG9yeS5zb21lKChvbGRJdGVtKSA9PiBvbGRJdGVtLml0ZW1JZCA9PT0gaXRlbS5pdGVtSWQpKTtcbiAgICBjb25zdCB1cGRhdGVzID0gbmV3SGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+IG9sZEhpc3Rvcnkuc29tZSgob2xkSXRlbSkgPT4gb2xkSXRlbS5pdGVtSWQgPT09IGl0ZW0uaXRlbUlkICYmXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KG9sZEl0ZW0pICE9PSBKU09OLnN0cmluZ2lmeShpdGVtKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92YWxzLFxuICAgICAgICBhZGRpdGlvbnMsXG4gICAgICAgIHVwZGF0ZXMsXG4gICAgfTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgV2ViUlRDLlxuICogQHJldHVybnMgVHJ1ZSBpZiBXZWJSVEMgaXMgc3VwcG9ydGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNXZWJSVENTdXBwb3J0KCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2Ygd2luZG93WydSVENQZWVyQ29ubmVjdGlvbiddICE9PSAndW5kZWZpbmVkJztcbn1cbi8qKlxuICogUmVtb3ZlcyB0aGUgYXVkaW8gZGF0YSBmcm9tIGFsbCBjb250ZW50IGluIGEgbWVzc2FnZSBieSBzZXR0aW5nIGl0IHRvIG51bGwuXG4gKiBAcGFyYW0gaXRlbVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUF1ZGlvRnJvbUNvbnRlbnQoaXRlbSkge1xuICAgIGlmIChpdGVtLnJvbGUgPT09ICdzeXN0ZW0nKSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgICBpZiAoaXRlbS5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdvdXRwdXRfYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGl0ZW0ucm9sZSA9PT0gJ3VzZXInKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgY29udGVudDogaXRlbS5jb250ZW50Lm1hcCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2lucHV0X2F1ZGlvJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpbzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xufVxuLyoqXG4gKiBVcGRhdGVzIHRoZSByZWFsdGltZSBoaXN0b3J5IGFycmF5IGJhc2VkIG9uIHRoZSBpbmNvbWluZyBldmVudCBhbmQgb3B0aW9ucy5cbiAqIEBwYXJhbSBoaXN0b3J5IC0gVGhlIGN1cnJlbnQgaGlzdG9yeSBhcnJheS5cbiAqIEBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0byBwcm9jZXNzIChSZWFsdGltZUl0ZW0pLlxuICogQHBhcmFtIHNob3VsZEluY2x1ZGVBdWRpb0RhdGEgLSBXaGV0aGVyIHRvIGluY2x1ZGUgYXVkaW8gZGF0YSBpbiBtZXNzYWdlIGl0ZW1zLlxuICogQHJldHVybnMgVGhlIHVwZGF0ZWQgaGlzdG9yeSBhcnJheS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJlYWx0aW1lSGlzdG9yeShoaXN0b3J5LCBldmVudCwgc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSkge1xuICAgIC8vIE1lcmdlIHRyYW5zY3JpcHQgaW50byBwbGFjZWhvbGRlciBpbnB1dF9hdWRpbyBtZXNzYWdlXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmNvbXBsZXRlZCcpIHtcbiAgICAgICAgcmV0dXJuIGhpc3RvcnkubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5pdGVtSWQgPT09IGV2ZW50Lml0ZW1faWQgJiZcbiAgICAgICAgICAgICAgICBpdGVtLnR5cGUgPT09ICdtZXNzYWdlJyAmJlxuICAgICAgICAgICAgICAgICdyb2xlJyBpbiBpdGVtICYmXG4gICAgICAgICAgICAgICAgaXRlbS5yb2xlID09PSAndXNlcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ29udGVudCA9IGl0ZW0uY29udGVudC5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS50eXBlID09PSAnaW5wdXRfYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHQ6IGV2ZW50LnRyYW5zY3JpcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB1cGRhdGVkQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBuZXdFdmVudCA9ICFzaG91bGRJbmNsdWRlQXVkaW9EYXRhICYmIGV2ZW50LnR5cGUgPT09ICdtZXNzYWdlJ1xuICAgICAgICA/IHJlbW92ZUF1ZGlvRnJvbUNvbnRlbnQoZXZlbnQpXG4gICAgICAgIDogZXZlbnQ7XG4gICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IGhpc3RvcnkuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLml0ZW1JZCA9PT0gZXZlbnQuaXRlbUlkKTtcbiAgICBpZiAoZXhpc3RpbmdJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGl0ZW1cbiAgICAgICAgcmV0dXJuIGhpc3RvcnkubWFwKChpdGVtLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGlmIChpZHggPT09IGV4aXN0aW5nSW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3RXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNob3VsZEluY2x1ZGVBdWRpb0RhdGEgJiYgaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlQXVkaW9Gcm9tQ29udGVudChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnQucHJldmlvdXNJdGVtSWQpIHtcbiAgICAgICAgLy8gSW5zZXJ0IGFmdGVyIHByZXZpb3VzSXRlbUlkIGlmIGZvdW5kLCBlbHNlIGF0IGVuZFxuICAgICAgICBjb25zdCBwcmV2SW5kZXggPSBoaXN0b3J5LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pdGVtSWQgPT09IGV2ZW50LnByZXZpb3VzSXRlbUlkKTtcbiAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgLi4uaGlzdG9yeS5zbGljZSgwLCBwcmV2SW5kZXggKyAxKSxcbiAgICAgICAgICAgICAgICBuZXdFdmVudCxcbiAgICAgICAgICAgICAgICAuLi5oaXN0b3J5LnNsaWNlKHByZXZJbmRleCArIDEpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbLi4uaGlzdG9yeSwgbmV3RXZlbnRdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gWy4uLmhpc3RvcnksIG5ld0V2ZW50XTtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBoZWFkZXJzIHRvIHVzZSBmb3IgdGhlIFJlYWx0aW1lIEFQSS5cbiAqL1xuZXhwb3J0IGNvbnN0IEhFQURFUlMgPSB7XG4gICAgJ1VzZXItQWdlbnQnOiBgQWdlbnRzL0phdmFTY3JpcHQgJHtNRVRBREFUQS52ZXJzaW9ufWAsXG4gICAgJ1gtT3BlbkFJLUFnZW50cy1TREsnOiBgb3BlbmFpLWFnZW50cy1zZGsuJHtNRVRBREFUQS52ZXJzaW9ufWAsXG59O1xuLyoqXG4gKiBCcm93c2VyIHdlYnNvY2tldCBoZWFkZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFdFQlNPQ0tFVF9NRVRBID0gYG9wZW5haS1hZ2VudHMtc2RrLiR7TUVUQURBVEEudmVyc2lvbn1gO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWx0aW1lQXBwcm92YWxJdGVtVG9BcHByb3ZhbEl0ZW0oYWdlbnQsIGl0ZW0pIHtcbiAgICBjb25zdCB7IG5hbWUsIGFyZ3VtZW50czogYXJncywgLi4ucmVzdCB9ID0gaXRlbTtcbiAgICByZXR1cm4gbmV3IFJ1blRvb2xBcHByb3ZhbEl0ZW0oe1xuICAgICAgICB0eXBlOiAnaG9zdGVkX3Rvb2xfY2FsbCcsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkoYXJncyksXG4gICAgICAgIHN0YXR1czogJ2luX3Byb2dyZXNzJyxcbiAgICAgICAgcHJvdmlkZXJEYXRhOiB7XG4gICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICB9LFxuICAgIH0sIGFnZW50KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcHByb3ZhbEl0ZW1Ub1JlYWx0aW1lQXBwcm92YWxJdGVtKGl0ZW0pIHtcbiAgICBjb25zdCB7IG5hbWUsIGFyZ3VtZW50czogYXJncywgcHJvdmlkZXJEYXRhIH0gPSBpdGVtLnJhd0l0ZW07XG4gICAgY29uc3QgeyBpdGVtSWQsIHNlcnZlckxhYmVsLCAuLi5yZXN0IH0gPSBwcm92aWRlckRhdGEgPz8ge307XG4gICAgaWYgKCFpdGVtSWQgfHwgIXNlcnZlckxhYmVsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhcHByb3ZhbCBpdGVtIGZvciBSZWFsdGltZSBNQ1AgYXBwcm92YWwgcmVxdWVzdCcpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnbWNwX2FwcHJvdmFsX3JlcXVlc3QnLFxuICAgICAgICBpdGVtSWQsXG4gICAgICAgIHNlcnZlckxhYmVsLFxuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBuYW1lLFxuICAgICAgICBhcmd1bWVudHM6IGFyZ3MgPyBKU09OLnBhcnNlKGFyZ3MpIDoge30sXG4gICAgICAgIGFwcHJvdmVkOiBudWxsLFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5tanMubWFwIiwiaW1wb3J0IHsgQWdlbnQsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgYWdlbnQgaW5zdGFuY2UgdGhhdCBpcyBtZWFudCB0byBiZSB1c2VkIHdpdGhpbiBhIGBSZWFsdGltZVNlc3Npb25gIHRvIGJ1aWxkXG4gKiB2b2ljZSBhZ2VudHMuIER1ZSB0byB0aGUgbmF0dXJlIG9mIHRoaXMgYWdlbnQsIHNvbWUgY29uZmlndXJhdGlvbiBvcHRpb25zIGFyZSBub3Qgc3VwcG9ydGVkXG4gKiB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcmVndWxhciBgQWdlbnRgIGluc3RhbmNlcy4gRm9yIGV4YW1wbGU6XG4gKiAtIGBtb2RlbGAgY2hvaWNlIGlzIG5vdCBzdXBwb3J0ZWQgYXMgYWxsIFJlYWx0aW1lQWdlbnRzIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgc2FtZSBtb2RlbCB3aXRoaW5cbiAqICAgYSBgUmVhbHRpbWVTZXNzaW9uYFxuICogLSBgbW9kZWxTZXR0aW5nc2AgaXMgbm90IHN1cHBvcnRlZCBhcyBhbGwgUmVhbHRpbWVBZ2VudHMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBzYW1lIG1vZGVsIHdpdGhpblxuICogICBhIGBSZWFsdGltZVNlc3Npb25gXG4gKiAtIGBvdXRwdXRUeXBlYCBpcyBub3Qgc3VwcG9ydGVkIGFzIFJlYWx0aW1lQWdlbnRzIGRvIG5vdCBzdXBwb3J0IHN0cnVjdHVyZWQgb3V0cHV0c1xuICogLSBgdG9vbFVzZUJlaGF2aW9yYCBpcyBub3Qgc3VwcG9ydGVkIGFzIGFsbCBSZWFsdGltZUFnZW50cyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHNhbWUgbW9kZWwgd2l0aGluXG4gKiAgIGEgYFJlYWx0aW1lU2Vzc2lvbmBcbiAqIC0gYHZvaWNlYCBjYW4gYmUgY29uZmlndXJlZCBvbiBhbiBgQWdlbnRgIGxldmVsIGhvd2V2ZXIgaXQgY2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXIgdGhlIGZpcnN0XG4gKiAgICBhZ2VudCB3aXRoaW4gYSBgUmVhbHRpbWVTZXNzaW9uYCBzcG9rZVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogY29uc3QgYWdlbnQgPSBuZXcgUmVhbHRpbWVBZ2VudCh7XG4gKiAgIG5hbWU6ICdteS1hZ2VudCcsXG4gKiAgIGluc3RydWN0aW9uczogJ1lvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudCB0aGF0IGNhbiBhbnN3ZXIgcXVlc3Rpb25zIGFuZCBoZWxwIHdpdGggdGFza3MuJyxcbiAqIH0pXG4gKlxuICogY29uc3Qgc2Vzc2lvbiA9IG5ldyBSZWFsdGltZVNlc3Npb24oYWdlbnQpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFsdGltZUFnZW50IGV4dGVuZHMgQWdlbnQge1xuICAgIC8qKlxuICAgICAqIFRoZSB2b2ljZSBpbnRlbmRlZCB0byBiZSB1c2VkIGJ5IHRoZSBhZ2VudC4gSWYgYW5vdGhlciBhZ2VudCBhbHJlYWR5IHNwb2tlIGR1cmluZyB0aGVcbiAgICAgKiBSZWFsdGltZVNlc3Npb24sIGNoYW5naW5nIHRoZSB2b2ljZSBkdXJpbmcgYSBoYW5kb2ZmIHdpbGwgZmFpbC5cbiAgICAgKi9cbiAgICB2b2ljZTtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgdGhpcy52b2ljZSA9IGNvbmZpZy52b2ljZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFsdGltZUFnZW50Lm1qcy5tYXAiLCJpbXBvcnQgeyBkZWZpbmVPdXRwdXRHdWFyZHJhaWwsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVhbHRpbWVHdWFyZHJhaWxTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlYm91bmNlVGV4dExlbmd0aDogc2V0dGluZ3MuZGVib3VuY2VUZXh0TGVuZ3RoID8/IDEwMCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVJlYWx0aW1lT3V0cHV0R3VhcmRyYWlsKHsgcG9saWN5SGludDogcG9saWN5SGludElucHV0LCAuLi5vcHRpb25zIH0pIHtcbiAgICBjb25zdCBiYXNlR3VhcmRyYWlsID0gZGVmaW5lT3V0cHV0R3VhcmRyYWlsKG9wdGlvbnMpO1xuICAgIGNvbnN0IHBvbGljeUhpbnQgPSBwb2xpY3lIaW50SW5wdXQgPz8gYmFzZUd1YXJkcmFpbC5uYW1lO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VHdWFyZHJhaWwsXG4gICAgICAgIHBvbGljeUhpbnQsXG4gICAgICAgIHJ1bjogYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGJhc2VHdWFyZHJhaWwucnVuKGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICAgICAgZ3VhcmRyYWlsOiB7IC4uLnJlc3VsdC5ndWFyZHJhaWwsIHBvbGljeUhpbnQgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbWVzc2FnZSB0aGF0IGluZm9ybXMgdGhlIG1vZGVsIGFib3V0IHdoeSB0aGUgZ3VhcmRyYWlsIHdhcyB0cmlnZ2VyZWQgYW5kIHRvXG4gKiBjb3JyZWN0IHRoZSBiZWhhdmlvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlYWx0aW1lR3VhcmRyYWlsRmVlZGJhY2tNZXNzYWdlKHJlc3VsdCkge1xuICAgIHJldHVybiBgXG7imqDvuI8gWW91ciBsYXN0IGFuc3dlciB3YXMgYmxvY2tlZC4gXG5GYWlsZWQgR3VhcmRyYWlsIFJlYXNvbjogJHtyZXN1bHQuZ3VhcmRyYWlsLnBvbGljeUhpbnR9LiBcbkZhaWx1cmUgRGV0YWlsczogJHtKU09OLnN0cmluZ2lmeShyZXN1bHQub3V0cHV0Lm91dHB1dEluZm8gPz8ge30pfS4gXG5QbGVhc2UgcmVzcG9uZCBhZ2FpbiBmb2xsb3dpbmcgcG9saWN5LiBBcG9sb2dpemUgZm9yIG5vdCBiZWluZyBhYmxlIHRvIGFuc3dlciB0aGUgcXVlc3Rpb24gKHdoaWxlIGF2b2lkaW5nIHRoZSBzcGVjaWZpYyByZWFzb24pIGFuZCBkaXZlcnQgZGlzY3Vzc2lvbiBiYWNrIHRvIGFuIGFwcHJvdmVkIHRvcGljIGltbWVkaWF0ZWx5IGFuZCBub3QgaW52aXRlIG1vcmUgZGlzY3Vzc2lvbi5cbmAudHJpbSgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3VhcmRyYWlsLm1qcy5tYXAiLCJpbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcignb3BlbmFpLWFnZW50czpyZWFsdGltZScpO1xuZXhwb3J0IGRlZmF1bHQgbG9nZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2VyLm1qcy5tYXAiLCJmdW5jdGlvbiBpc0RlZmluZWQoa2V5LCBvYmplY3QpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGZ1ZGdpbmcgd2l0aCB0eXBlcyBoZXJlIGZvciB0aGUgaW5kZXggdHlwZXNcbiAgICByZXR1cm4ga2V5IGluIG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gIT09ICd1bmRlZmluZWQnO1xufVxuZnVuY3Rpb24gaXNEZXByZWNhdGVkQ29uZmlnKGNvbmZpZykge1xuICAgIHJldHVybiAoaXNEZWZpbmVkKCdtb2RhbGl0aWVzJywgY29uZmlnKSB8fFxuICAgICAgICBpc0RlZmluZWQoJ2lucHV0QXVkaW9Gb3JtYXQnLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgnb3V0cHV0QXVkaW9Gb3JtYXQnLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgnaW5wdXRBdWRpb1RyYW5zY3JpcHRpb24nLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgndHVybkRldGVjdGlvbicsIGNvbmZpZykgfHxcbiAgICAgICAgaXNEZWZpbmVkKCdpbnB1dEF1ZGlvTm9pc2VSZWR1Y3Rpb24nLCBjb25maWcpIHx8XG4gICAgICAgIGlzRGVmaW5lZCgnc3BlZWQnLCBjb25maWcpKTtcbn1cbi8qKlxuICogQ29udmVydCBhbnkgZ2l2ZW4gY29uZmlnIChvbGQgb3IgbmV3KSB0byB0aGUgbmV3IEdBIGNvbmZpZyBzaGFwZS5cbiAqIElmIGEgbmV3IGNvbmZpZyBpcyBwcm92aWRlZCwgaXQgd2lsbCBiZSByZXR1cm5lZCBhcy1pcyAobm9ybWFsaXplZCBzaGFsbG93bHkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9OZXdTZXNzaW9uQ29uZmlnKGNvbmZpZykge1xuICAgIGlmICghaXNEZXByZWNhdGVkQ29uZmlnKGNvbmZpZykpIHtcbiAgICAgICAgY29uc3QgaW5wdXRDb25maWcgPSBjb25maWcuYXVkaW8/LmlucHV0XG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG5vcm1hbGl6ZUF1ZGlvRm9ybWF0KGNvbmZpZy5hdWRpby5pbnB1dC5mb3JtYXQpLFxuICAgICAgICAgICAgICAgIG5vaXNlUmVkdWN0aW9uOiBjb25maWcuYXVkaW8uaW5wdXQubm9pc2VSZWR1Y3Rpb24gPz8gbnVsbCxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiBjb25maWcuYXVkaW8uaW5wdXQudHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICB0dXJuRGV0ZWN0aW9uOiBjb25maWcuYXVkaW8uaW5wdXQudHVybkRldGVjdGlvbixcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRPdXRwdXRWb2ljZSA9IGNvbmZpZy5hdWRpbz8ub3V0cHV0Py52b2ljZSA/PyBjb25maWcudm9pY2U7XG4gICAgICAgIGNvbnN0IG91dHB1dENvbmZpZyA9IGNvbmZpZy5hdWRpbz8ub3V0cHV0IHx8IHR5cGVvZiByZXF1ZXN0ZWRPdXRwdXRWb2ljZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogbm9ybWFsaXplQXVkaW9Gb3JtYXQoY29uZmlnLmF1ZGlvPy5vdXRwdXQ/LmZvcm1hdCksXG4gICAgICAgICAgICAgICAgdm9pY2U6IHJlcXVlc3RlZE91dHB1dFZvaWNlLFxuICAgICAgICAgICAgICAgIHNwZWVkOiBjb25maWcuYXVkaW8/Lm91dHB1dD8uc3BlZWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGVsOiBjb25maWcubW9kZWwsXG4gICAgICAgICAgICBpbnN0cnVjdGlvbnM6IGNvbmZpZy5pbnN0cnVjdGlvbnMsXG4gICAgICAgICAgICB0b29sQ2hvaWNlOiBjb25maWcudG9vbENob2ljZSxcbiAgICAgICAgICAgIHRvb2xzOiBjb25maWcudG9vbHMsXG4gICAgICAgICAgICB0cmFjaW5nOiBjb25maWcudHJhY2luZyxcbiAgICAgICAgICAgIHByb3ZpZGVyRGF0YTogY29uZmlnLnByb3ZpZGVyRGF0YSxcbiAgICAgICAgICAgIHByb21wdDogY29uZmlnLnByb21wdCxcbiAgICAgICAgICAgIG91dHB1dE1vZGFsaXRpZXM6IGNvbmZpZy5vdXRwdXRNb2RhbGl0aWVzLFxuICAgICAgICAgICAgYXVkaW86IGlucHV0Q29uZmlnIHx8IG91dHB1dENvbmZpZ1xuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogaW5wdXRDb25maWcsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogb3V0cHV0Q29uZmlnLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbW9kZWw6IGNvbmZpZy5tb2RlbCxcbiAgICAgICAgaW5zdHJ1Y3Rpb25zOiBjb25maWcuaW5zdHJ1Y3Rpb25zLFxuICAgICAgICB0b29sQ2hvaWNlOiBjb25maWcudG9vbENob2ljZSxcbiAgICAgICAgdG9vbHM6IGNvbmZpZy50b29scyxcbiAgICAgICAgdHJhY2luZzogY29uZmlnLnRyYWNpbmcsXG4gICAgICAgIHByb3ZpZGVyRGF0YTogY29uZmlnLnByb3ZpZGVyRGF0YSxcbiAgICAgICAgcHJvbXB0OiBjb25maWcucHJvbXB0LFxuICAgICAgICBvdXRwdXRNb2RhbGl0aWVzOiBjb25maWcubW9kYWxpdGllcyxcbiAgICAgICAgYXVkaW86IHtcbiAgICAgICAgICAgIGlucHV0OiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBub3JtYWxpemVBdWRpb0Zvcm1hdChjb25maWcuaW5wdXRBdWRpb0Zvcm1hdCksXG4gICAgICAgICAgICAgICAgbm9pc2VSZWR1Y3Rpb246IGNvbmZpZy5pbnB1dEF1ZGlvTm9pc2VSZWR1Y3Rpb24gPz8gbnVsbCxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uOiBjb25maWcuaW5wdXRBdWRpb1RyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgdHVybkRldGVjdGlvbjogY29uZmlnLnR1cm5EZXRlY3Rpb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBub3JtYWxpemVBdWRpb0Zvcm1hdChjb25maWcub3V0cHV0QXVkaW9Gb3JtYXQpLFxuICAgICAgICAgICAgICAgIHZvaWNlOiBjb25maWcudm9pY2UsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IGNvbmZpZy5zcGVlZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVBdWRpb0Zvcm1hdChmb3JtYXQpIHtcbiAgICBpZiAoIWZvcm1hdClcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgY29uc3QgZiA9IFN0cmluZyhmb3JtYXQpO1xuICAgIGlmIChmID09PSAncGNtMTYnKVxuICAgICAgICByZXR1cm4geyB0eXBlOiAnYXVkaW8vcGNtJywgcmF0ZTogMjQwMDAgfTtcbiAgICBpZiAoZiA9PT0gJ2c3MTFfdWxhdycpXG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdhdWRpby9wY211JyB9O1xuICAgIGlmIChmID09PSAnZzcxMV9hbGF3JylcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2F1ZGlvL3BjbWEnIH07XG4gICAgLy8gRGVmYXVsdCBmYWxsYmFjazogYXNzdW1lIDI0a0h6IFBDTSBpZiB1bmtub3duIHN0cmluZ1xuICAgIHJldHVybiB7IHR5cGU6ICdhdWRpby9wY20nLCByYXRlOiAyNDAwMCB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50TWVzc2FnZXMubWpzLm1hcCIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuZXhwb3J0IGNvbnN0IGJhc2VJdGVtU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lTWVzc2FnZUl0ZW1TY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigncm9sZScsIFtcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbiAgICAgICAgcHJldmlvdXNJdGVtSWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKSxcbiAgICAgICAgcm9sZTogei5saXRlcmFsKCdzeXN0ZW0nKSxcbiAgICAgICAgY29udGVudDogei5hcnJheSh6Lm9iamVjdCh7IHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfdGV4dCcpLCB0ZXh0OiB6LnN0cmluZygpIH0pKSxcbiAgICB9KSxcbiAgICB6Lm9iamVjdCh7XG4gICAgICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbiAgICAgICAgcHJldmlvdXNJdGVtSWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ21lc3NhZ2UnKSxcbiAgICAgICAgcm9sZTogei5saXRlcmFsKCd1c2VyJyksXG4gICAgICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJ10pLFxuICAgICAgICBjb250ZW50OiB6LmFycmF5KHoub2JqZWN0KHsgdHlwZTogei5saXRlcmFsKCdpbnB1dF90ZXh0JyksIHRleHQ6IHouc3RyaW5nKCkgfSkub3Ioei5vYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpbycpLFxuICAgICAgICAgICAgYXVkaW86IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxuICAgICAgICB9KSkpLFxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgICAgICBwcmV2aW91c0l0ZW1JZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnbWVzc2FnZScpLFxuICAgICAgICByb2xlOiB6LmxpdGVyYWwoJ2Fzc2lzdGFudCcpLFxuICAgICAgICBzdGF0dXM6IHouZW51bShbJ2luX3Byb2dyZXNzJywgJ2NvbXBsZXRlZCcsICdpbmNvbXBsZXRlJ10pLFxuICAgICAgICBjb250ZW50OiB6LmFycmF5KHoub2JqZWN0KHsgdHlwZTogei5saXRlcmFsKCdvdXRwdXRfdGV4dCcpLCB0ZXh0OiB6LnN0cmluZygpIH0pLm9yKHoub2JqZWN0KHtcbiAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnb3V0cHV0X2F1ZGlvJyksXG4gICAgICAgICAgICBhdWRpbzogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSkpKSxcbiAgICB9KSxcbl0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lVG9vbENhbGxJdGVtID0gei5vYmplY3Qoe1xuICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbiAgICBwcmV2aW91c0l0ZW1JZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdHlwZTogei5saXRlcmFsKCdmdW5jdGlvbl9jYWxsJyksXG4gICAgc3RhdHVzOiB6LmVudW0oWydpbl9wcm9ncmVzcycsICdjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZSddKSxcbiAgICBhcmd1bWVudHM6IHouc3RyaW5nKCksXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lTWNwQ2FsbEl0ZW0gPSB6Lm9iamVjdCh7XG4gICAgaXRlbUlkOiB6LnN0cmluZygpLFxuICAgIHByZXZpb3VzSXRlbUlkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6LmVudW0oWydtY3BfY2FsbCcsICdtY3BfdG9vbF9jYWxsJ10pLFxuICAgIHN0YXR1czogei5lbnVtKFsnaW5fcHJvZ3Jlc3MnLCAnY29tcGxldGVkJywgJ2luY29tcGxldGUnXSksXG4gICAgYXJndW1lbnRzOiB6LnN0cmluZygpLFxuICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0OiB6LnN0cmluZygpLm51bGxhYmxlKCksXG59KTtcbmV4cG9ydCBjb25zdCByZWFsdGltZU1jcENhbGxBcHByb3ZhbFJlcXVlc3RJdGVtID0gei5vYmplY3Qoe1xuICAgIGl0ZW1JZDogei5zdHJpbmcoKSxcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyksXG4gICAgc2VydmVyTGFiZWw6IHouc3RyaW5nKCksXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICBhcmd1bWVudHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLFxuICAgIGFwcHJvdmVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1zLm1qcy5tYXAiLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbi8vIEV2ZW50IHNjaGVtYXMgbWlycm9yaW5nIHRoZSBzdHJ1Y3R1cmVzIGRlZmluZWQgaW4gdGhlIE9wZW5BSSBTREsgdHlwaW5ncy5cbi8vIE1vc3QgZmllbGRzIGZyb20gdGhlIGludGVyZmFjZXMgaW4gYHJlYWx0aW1lLmQudHNgIGFyZSBjYXB0dXJlZCBoZXJlIHRvXG4vLyBwcm92aWRlIGJldHRlciBydW50aW1lIHZhbGlkYXRpb24gd2hlbiBwYXJzaW5nIGV2ZW50cyBmcm9tIHRoZSBzZXJ2ZXIuXG5leHBvcnQgY29uc3QgcmVhbHRpbWVSZXNwb25zZSA9IHoub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgY29udmVyc2F0aW9uX2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICBtYXhfb3V0cHV0X3Rva2Vuczogei5udW1iZXIoKS5vcih6LmxpdGVyYWwoJ2luZicpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgbWV0YWRhdGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAvLyBHQSByZW5hbWU6IG1vZGFsaXRpZXMgLT4gb3V0cHV0X21vZGFsaXRpZXNcbiAgICBvdXRwdXRfbW9kYWxpdGllczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgb2JqZWN0OiB6LmxpdGVyYWwoJ3JlYWx0aW1lLnJlc3BvbnNlJykub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgIG91dHB1dDogei5hcnJheSh6LmFueSgpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgLy8gR0EgZ3JvdXBpbmc6IGF1ZGlvLm91dHB1dC57Zm9ybWF0LHZvaWNlfVxuICAgIGF1ZGlvOiB6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICBvdXRwdXQ6IHpcbiAgICAgICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAgICAgZm9ybWF0OiB6LmFueSgpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgICAgICAgIHZvaWNlOiB6LnN0cmluZygpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgICAgICAubnVsbGFibGUoKSxcbiAgICB9KVxuICAgICAgICAub3B0aW9uYWwoKVxuICAgICAgICAubnVsbGFibGUoKSxcbiAgICBzdGF0dXM6IHpcbiAgICAgICAgLmVudW0oWydjb21wbGV0ZWQnLCAnaW5jb21wbGV0ZScsICdmYWlsZWQnLCAnY2FuY2VsbGVkJywgJ2luX3Byb2dyZXNzJ10pXG4gICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgIC5udWxsYWJsZSgpLFxuICAgIHN0YXR1c19kZXRhaWxzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gICAgdXNhZ2U6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIGlucHV0X3Rva2Vuczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICBpbnB1dF90b2tlbnNfZGV0YWlsczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuICAgICAgICBvdXRwdXRfdG9rZW5zOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgIG91dHB1dF90b2tlbnNfZGV0YWlsczogelxuICAgICAgICAgICAgLnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKVxuICAgICAgICAgICAgLm9wdGlvbmFsKClcbiAgICAgICAgICAgIC5udWxsYWJsZSgpLFxuICAgIH0pXG4gICAgICAgIC5vcHRpb25hbCgpXG4gICAgICAgIC5udWxsYWJsZSgpLFxufSk7XG4vLyBCYXNpYyBjb250ZW50IHNjaGVtYSB1c2VkIGJ5IENvbnZlcnNhdGlvbkl0ZW0uXG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbUNvbnRlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBhdWRpbzogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdGV4dDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgdHlwZTogei51bmlvbihbXG4gICAgICAgIHoubGl0ZXJhbCgnaW5wdXRfdGV4dCcpLFxuICAgICAgICB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvJyksXG4gICAgICAgIHoubGl0ZXJhbCgnaXRlbV9yZWZlcmVuY2UnKSxcbiAgICAgICAgei5saXRlcmFsKCdvdXRwdXRfdGV4dCcpLFxuICAgICAgICB6LmxpdGVyYWwoJ291dHB1dF9hdWRpbycpLFxuICAgIF0pLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGFyZ3VtZW50czogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGNhbGxfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBjb250ZW50OiB6LmFycmF5KGNvbnZlcnNhdGlvbkl0ZW1Db250ZW50U2NoZW1hKS5vcHRpb25hbCgpLFxuICAgIG5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBvdXRwdXQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHJvbGU6IHouZW51bShbJ3VzZXInLCAnYXNzaXN0YW50JywgJ3N5c3RlbSddKS5vcHRpb25hbCgpLFxuICAgIHN0YXR1czogei5lbnVtKFsnY29tcGxldGVkJywgJ2luY29tcGxldGUnLCAnaW5fcHJvZ3Jlc3MnXSkub3B0aW9uYWwoKSxcbiAgICB0eXBlOiB6XG4gICAgICAgIC5lbnVtKFtcbiAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICAnZnVuY3Rpb25fY2FsbCcsXG4gICAgICAgICdmdW5jdGlvbl9jYWxsX291dHB1dCcsXG4gICAgICAgICdtY3BfbGlzdF90b29scycsXG4gICAgICAgICdtY3BfdG9vbF9jYWxsJyxcbiAgICAgICAgJ21jcF9jYWxsJyxcbiAgICAgICAgJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JyxcbiAgICAgICAgJ21jcF9hcHByb3ZhbF9yZXNwb25zZScsXG4gICAgXSlcbiAgICAgICAgLm9wdGlvbmFsKCksXG4gICAgYXBwcm92YWxfcmVxdWVzdF9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgYXBwcm92ZTogei5ib29sZWFuKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHJlYXNvbjogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG4gICAgc2VydmVyX2xhYmVsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZXJyb3I6IHouYW55KCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxuICAgIHRvb2xzOiB6XG4gICAgICAgIC5hcnJheSh6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgICAgICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKSxcbiAgICAgICAgaW5wdXRfc2NoZW1hOiB6LnJlY29yZCh6LmFueSgpKS5vcHRpb25hbCgpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKVxuICAgICAgICAub3B0aW9uYWwoKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLmNyZWF0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBjb252ZXJzYXRpb246IHoub2JqZWN0KHtcbiAgICAgICAgaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgb2JqZWN0OiB6LmxpdGVyYWwoJ3JlYWx0aW1lLmNvbnZlcnNhdGlvbicpLm9wdGlvbmFsKCksXG4gICAgfSksXG59KTtcbi8vIEdBIHJlbmFtZTogY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlZCAtPiBjb252ZXJzYXRpb24uaXRlbS5hZGRlZFxuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1BZGRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uYWRkZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtOiBjb252ZXJzYXRpb25JdGVtU2NoZW1hLFxuICAgIHByZXZpb3VzX2l0ZW1faWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG4vLyBHQSBhZGRpdGlvbjogY29udmVyc2F0aW9uLml0ZW0uZG9uZVxuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBwcmV2aW91c19pdGVtX2lkOiB6LnN0cmluZygpLm51bGxhYmxlKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1EZWxldGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kZWxldGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkNvbXBsZXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgdHJhbnNjcmlwdDogei5zdHJpbmcoKSxcbiAgICBsb2dwcm9iczogei5hcnJheSh6LmFueSgpKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25EZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5kZWx0YScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgbG9ncHJvYnM6IHouYXJyYXkoei5hbnkoKSkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5pbnB1dF9hdWRpb190cmFuc2NyaXB0aW9uLmZhaWxlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBlcnJvcjogei5vYmplY3Qoe1xuICAgICAgICBjb2RlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIG1lc3NhZ2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcGFyYW06IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHlwZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVJldHJpZXZlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbn0pO1xuZXhwb3J0IGNvbnN0IGNvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fZW5kX21zOiB6Lm51bWJlcigpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtQ3JlYXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnKSxcbiAgICBpdGVtOiBjb252ZXJzYXRpb25JdGVtU2NoZW1hLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcHJldmlvdXNfaXRlbV9pZDogei5zdHJpbmcoKS5udWxsYWJsZSgpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtRGVsZXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS5kZWxldGUnKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBjb252ZXJzYXRpb25JdGVtUmV0cmlldmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlJyksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgY29udmVyc2F0aW9uSXRlbVRydW5jYXRlRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZScpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fZW5kX21zOiB6Lm51bWJlcigpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGVycm9yRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdlcnJvcicpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZXJyb3I6IHouYW55KCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGlucHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuY2xlYXJlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlckFwcGVuZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfYXVkaW9fYnVmZmVyLmFwcGVuZCcpLFxuICAgIGF1ZGlvOiB6LnN0cmluZygpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5jbGVhcicpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdpbnB1dF9hdWRpb19idWZmZXIuY29tbWl0JyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IGlucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5jb21taXR0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIHByZXZpb3VzX2l0ZW1faWQ6IHouc3RyaW5nKCkubnVsbGFibGUoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgaW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0YXJ0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2lucHV0X2F1ZGlvX2J1ZmZlci5zcGVlY2hfc3RhcnRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgYXVkaW9fc3RhcnRfbXM6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RvcHBlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnaW5wdXRfYXVkaW9fYnVmZmVyLnNwZWVjaF9zdG9wcGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBhdWRpb19lbmRfbXM6IHoubnVtYmVyKCksXG59KTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlclN0YXJ0ZWRFdmVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuc3RhcnRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlclN0b3BwZWRFdmVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuc3RvcHBlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCBvdXRwdXRBdWRpb0J1ZmZlckNsZWFyZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ291dHB1dF9hdWRpb19idWZmZXIuY2xlYXJlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmF0ZUxpbWl0c1VwZGF0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JhdGVfbGltaXRzLnVwZGF0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByYXRlX2xpbWl0czogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIGxpbWl0OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgIG5hbWU6IHouZW51bShbJ3JlcXVlc3RzJywgJ3Rva2VucyddKS5vcHRpb25hbCgpLFxuICAgICAgICByZW1haW5pbmc6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcmVzZXRfc2Vjb25kczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIH0pKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQXVkaW9EZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X2F1ZGlvLmRlbHRhJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQXVkaW9Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW8uZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kZWx0YScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvLyAgR0EgbWF5IGludHJvZHVjZSByZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kb25lXG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VDb250ZW50UGFydEFkZGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jb250ZW50X3BhcnQuYWRkZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxuICAgIHBhcnQ6IHoub2JqZWN0KHtcbiAgICAgICAgYXVkaW86IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdGV4dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB0cmFuc2NyaXB0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHR5cGU6IHouZW51bShbJ3RleHQnLCAnYXVkaW8nXSkub3B0aW9uYWwoKSxcbiAgICB9KSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ29udGVudFBhcnREb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jb250ZW50X3BhcnQuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudF9pbmRleDogei5udW1iZXIoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG4gICAgcGFydDogei5vYmplY3Qoe1xuICAgICAgICBhdWRpbzogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB0ZXh0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIHRyYW5zY3JpcHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgdHlwZTogei5lbnVtKFsndGV4dCcsICdhdWRpbyddKS5vcHRpb25hbCgpLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VDcmVhdGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jcmVhdGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmVzcG9uc2U6IHJlYWx0aW1lUmVzcG9uc2UsXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZURvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLmRvbmUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByZXNwb25zZTogcmVhbHRpbWVSZXNwb25zZSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjYWxsX2lkOiB6LnN0cmluZygpLFxuICAgIGRlbHRhOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZG9uZScpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG4gICAgY2FsbF9pZDogei5zdHJpbmcoKSxcbiAgICBhcmd1bWVudHM6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VPdXRwdXRJdGVtQWRkZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm91dHB1dF9pdGVtLmFkZGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZU91dHB1dEl0ZW1Eb25lRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbTogY29udmVyc2F0aW9uSXRlbVNjaGVtYSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgZGVsdGE6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VUZXh0RG9uZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC8vIE5vIHJlbmFtZSBzcGVjaWZpZWQgZm9yIGRvbmU7IGtlZXAgcmVzcG9uc2UudGV4dC5kb25lXG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5vdXRwdXRfdGV4dC5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBjb250ZW50X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHRleHQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3Qgc2Vzc2lvbkNyZWF0ZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Nlc3Npb24uY3JlYXRlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLFxuICAgIHNlc3Npb246IHouYW55KCksXG59KTtcbmV4cG9ydCBjb25zdCBzZXNzaW9uVXBkYXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc2Vzc2lvbi51cGRhdGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgc2Vzc2lvbjogei5hbnkoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlQ2FuY2VsRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5jYW5jZWwnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHJlc3BvbnNlX2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcbmV4cG9ydCBjb25zdCByZXNwb25zZUNyZWF0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UuY3JlYXRlJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICByZXNwb25zZTogei5hbnkoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3Qgc2Vzc2lvblVwZGF0ZUV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnc2Vzc2lvbi51cGRhdGUnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHNlc3Npb246IHouYW55KCksXG59KTtcbmV4cG9ydCBjb25zdCBtY3BMaXN0VG9vbHNJblByb2dyZXNzRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdtY3BfbGlzdF90b29scy5pbl9wcm9ncmVzcycpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5leHBvcnQgY29uc3QgbWNwTGlzdFRvb2xzQ29tcGxldGVkRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdtY3BfbGlzdF90b29scy5jb21wbGV0ZWQnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNwb25zZS5tY3BfY2FsbF9hcmd1bWVudHMuZGVsdGEnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICByZXNwb25zZV9pZDogei5zdHJpbmcoKSxcbiAgICBpdGVtX2lkOiB6LnN0cmluZygpLFxuICAgIG91dHB1dF9pbmRleDogei5udW1iZXIoKSxcbiAgICBkZWx0YTogei5zdHJpbmcoKSxcbiAgICBvYmZ1c2NhdGlvbjogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc3BvbnNlLm1jcF9jYWxsX2FyZ3VtZW50cy5kb25lJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgcmVzcG9uc2VfaWQ6IHouc3RyaW5nKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgYXJndW1lbnRzOiB6LnN0cmluZygpLFxufSk7XG5leHBvcnQgY29uc3QgcmVzcG9uc2VNY3BDYWxsSW5Qcm9ncmVzc0V2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UubWNwX2NhbGwuaW5fcHJvZ3Jlc3MnKSxcbiAgICBldmVudF9pZDogei5zdHJpbmcoKSxcbiAgICBvdXRwdXRfaW5kZXg6IHoubnVtYmVyKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlc3BvbnNlTWNwQ2FsbENvbXBsZXRlZEV2ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVzcG9uc2UubWNwX2NhbGwuY29tcGxldGVkJyksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCksXG4gICAgb3V0cHV0X2luZGV4OiB6Lm51bWJlcigpLFxuICAgIGl0ZW1faWQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBtY3BMaXN0VG9vbHNGYWlsZWRFdmVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ21jcF9saXN0X3Rvb2xzLmZhaWxlZCcpLFxuICAgIGV2ZW50X2lkOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaXRlbV9pZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG4vKipcbiAqIFRoaXMgc2NoZW1hIGlzIHVzZWQgaWYgYW4gZXZlbnQgaXMgdW5rbm93biB0byB0aGUgY2xpZW50LiBUaGUgUmVhbHRpbWUgQVBJIG1pZ2h0IGludHJvZHVjZVxuICogbmV3IGV2ZW50cyBhdCBzb21lIHBvaW50IGFuZCB3ZSBzaG91bGQgaGFuZGxlIHRoZW0gZ3JhY2VmdWxseSBieSB0cmVhdGluZyB0aGVtIGFzIGdlbmVyaWMgZXZlbnRzXG4gKiBvbmx5IHJlcXVpcmluZyBhIHR5cGUgYW5kIGFuIG9wdGlvbmFsIGV2ZW50X2lkLlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJpY0V2ZW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIHR5cGU6IHouc3RyaW5nKCksXG4gICAgZXZlbnRfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCByZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbXG4gICAgY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1BZGRlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1Eb25lRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbURlbGV0ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25Db21wbGV0ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtSW5wdXRBdWRpb1RyYW5zY3JpcHRpb25EZWx0YUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1SZXRyaWV2ZWRFdmVudFNjaGVtYSxcbiAgICBjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVkRXZlbnRTY2hlbWEsXG4gICAgZXJyb3JFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJDb21taXR0ZWRFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RhcnRlZEV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJTcGVlY2hTdG9wcGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJTdGFydGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJTdG9wcGVkRXZlbnRTY2hlbWEsXG4gICAgb3V0cHV0QXVkaW9CdWZmZXJDbGVhcmVkRXZlbnRTY2hlbWEsXG4gICAgcmF0ZUxpbWl0c1VwZGF0ZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvRGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlQXVkaW9UcmFuc2NyaXB0RGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNvbnRlbnRQYXJ0QWRkZWRFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNvbnRlbnRQYXJ0RG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlRnVuY3Rpb25DYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU91dHB1dEl0ZW1BZGRlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlT3V0cHV0SXRlbURvbmVFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlVGV4dERvbmVFdmVudFNjaGVtYSxcbiAgICBzZXNzaW9uQ3JlYXRlZEV2ZW50U2NoZW1hLFxuICAgIHNlc3Npb25VcGRhdGVkRXZlbnRTY2hlbWEsXG4gICAgbWNwTGlzdFRvb2xzSW5Qcm9ncmVzc0V2ZW50U2NoZW1hLFxuICAgIG1jcExpc3RUb29sc0NvbXBsZXRlZEV2ZW50U2NoZW1hLFxuICAgIG1jcExpc3RUb29sc0ZhaWxlZEV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VNY3BDYWxsQXJndW1lbnRzRG9uZUV2ZW50U2NoZW1hLFxuICAgIHJlc3BvbnNlTWNwQ2FsbEluUHJvZ3Jlc3NFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZU1jcENhbGxDb21wbGV0ZWRFdmVudFNjaGVtYSxcbl0pO1xuZXhwb3J0IGNvbnN0IHJlYWx0aW1lQ2xpZW50RXZlbnRTY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbigndHlwZScsIFtcbiAgICBjb252ZXJzYXRpb25JdGVtQ3JlYXRlRXZlbnRTY2hlbWEsXG4gICAgY29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1SZXRyaWV2ZUV2ZW50U2NoZW1hLFxuICAgIGNvbnZlcnNhdGlvbkl0ZW1UcnVuY2F0ZUV2ZW50U2NoZW1hLFxuICAgIGlucHV0QXVkaW9CdWZmZXJBcHBlbmRFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJFdmVudFNjaGVtYSxcbiAgICBpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEsXG4gICAgcmVzcG9uc2VDYW5jZWxFdmVudFNjaGVtYSxcbiAgICByZXNwb25zZUNyZWF0ZUV2ZW50U2NoZW1hLFxuICAgIHNlc3Npb25VcGRhdGVFdmVudFNjaGVtYSxcbl0pO1xuLyoqXG4gKiBQYXJzZXMgYSByZWFsdGltZSBldmVudCBmcm9tIHRoZSBzZXJ2ZXIuIElmIHRoZSBldmVudCBpcyB1bmtub3duIHRvIHRoZSBjbGllbnQsIGl0IHdpbGwgYmUgdHJlYXRlZCBhcyBhIGdlbmVyaWMgZXZlbnQuXG4gKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyBUaGUgcGFyc2VkIGV2ZW50IG9yIG51bGwgaWYgdGhlIGV2ZW50IGlzIHVua25vd24gdG8gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVhbHRpbWVFdmVudChldmVudCkge1xuICAgIGNvbnN0IHJhdyA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YS50b1N0cmluZygpKTtcbiAgICBjb25zdCBwYXJzZWQgPSByZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hLnNhZmVQYXJzZShyYXcpO1xuICAgIGlmICghcGFyc2VkLnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgZ2VuZXJpY1BhcnNlZCA9IGdlbmVyaWNFdmVudFNjaGVtYS5zYWZlUGFyc2UocmF3KTtcbiAgICAgICAgaWYgKGdlbmVyaWNQYXJzZWQuc3VjY2Vzcykge1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZ2VuZXJpY1BhcnNlZC5kYXRhLCBpc0dlbmVyaWM6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBpc0dlbmVyaWM6IHRydWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZGF0YTogcGFyc2VkLmRhdGEsIGlzR2VuZXJpYzogZmFsc2UgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5haVJlYWx0aW1lRXZlbnRzLm1qcy5tYXAiLCJpbXBvcnQgeyBSdW50aW1lRXZlbnRFbWl0dGVyLCBVc2FnZSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUnO1xuaW1wb3J0IHsgdG9OZXdTZXNzaW9uQ29uZmlnLCB9IGZyb20gXCIuL2NsaWVudE1lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgcmVhbHRpbWVNY3BDYWxsQXBwcm92YWxSZXF1ZXN0SXRlbSwgcmVhbHRpbWVNY3BDYWxsSXRlbSwgcmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYSwgcmVhbHRpbWVUb29sQ2FsbEl0ZW0sIH0gZnJvbSBcIi4vaXRlbXMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVhbHRpbWVFdmVudCwgcmVzcG9uc2VEb25lRXZlbnRTY2hlbWEsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVFdmVudHMubWpzXCI7XG5pbXBvcnQgeyBhcnJheUJ1ZmZlclRvQmFzZTY0LCBkaWZmUmVhbHRpbWVIaXN0b3J5IH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvdXRpbHMnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBtb2RlbCB0aGF0IGlzIHVzZWQgZHVyaW5nIHRoZSBjb25uZWN0aW9uIGlmIG5vIG1vZGVsIGlzIHByb3ZpZGVkLlxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfTU9ERUwgPSAnZ3B0LXJlYWx0aW1lJztcbi8qKlxuICogVGhlIGRlZmF1bHQgc2Vzc2lvbiBjb25maWcgdGhhdCBnZXRzIHNlbmQgb3ZlciBkdXJpbmcgc2Vzc2lvbiBjb25uZWN0aW9uIHVubGVzcyBvdmVycmlkZGVuXG4gKiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHID0ge1xuICAgIG91dHB1dE1vZGFsaXRpZXM6IFsnYXVkaW8nXSxcbiAgICBhdWRpbzoge1xuICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgZm9ybWF0OiB7IHR5cGU6ICdhdWRpby9wY20nLCByYXRlOiAyNDAwMCB9LFxuICAgICAgICAgICAgdHJhbnNjcmlwdGlvbjogeyBtb2RlbDogJ2dwdC00by1taW5pLXRyYW5zY3JpYmUnIH0sXG4gICAgICAgICAgICB0dXJuRGV0ZWN0aW9uOiB7IHR5cGU6ICdzZW1hbnRpY192YWQnIH0sXG4gICAgICAgICAgICBub2lzZVJlZHVjdGlvbjogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgb3V0cHV0OiB7XG4gICAgICAgICAgICBmb3JtYXQ6IHsgdHlwZTogJ2F1ZGlvL3BjbScsIHJhdGU6IDI0MDAwIH0sXG4gICAgICAgICAgICBzcGVlZDogMSxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjbGFzcyBPcGVuQUlSZWFsdGltZUJhc2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXJEZWxlZ2F0ZSB7XG4gICAgI21vZGVsO1xuICAgICNhcGlLZXk7XG4gICAgI3RyYWNpbmdDb25maWcgPSBudWxsO1xuICAgICNyYXdTZXNzaW9uQ29uZmlnID0gbnVsbDtcbiAgICBldmVudEVtaXR0ZXIgPSBuZXcgUnVudGltZUV2ZW50RW1pdHRlcigpO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLiNtb2RlbCA9IG9wdGlvbnMubW9kZWwgPz8gREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfTU9ERUw7XG4gICAgICAgIHRoaXMuI2FwaUtleSA9IG9wdGlvbnMuYXBpS2V5O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBtb2RlbCB0aGF0IGlzIGJlaW5nIHVzZWQgYnkgdGhlIHRyYW5zcG9ydCBsYXllci5cbiAgICAgKi9cbiAgICBnZXQgY3VycmVudE1vZGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbW9kZWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IG1vZGVsIHRoYXQgaXMgYmVpbmcgdXNlZCBieSB0aGUgdHJhbnNwb3J0IGxheWVyLlxuICAgICAqICoqTm90ZSoqOiBUaGUgbW9kZWwgY2Fubm90IGJlIGNoYW5nZWQgbWlkIGNvbnZlcnNhdGlvbi5cbiAgICAgKi9cbiAgICBzZXQgY3VycmVudE1vZGVsKG1vZGVsKSB7XG4gICAgICAgIHRoaXMuI21vZGVsID0gbW9kZWw7XG4gICAgfVxuICAgIGdldCBfcmF3U2Vzc2lvbkNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Jhd1Nlc3Npb25Db25maWcgPz8gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgX2dldEFwaUtleShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IG9wdGlvbnMuYXBpS2V5ID8/IHRoaXMuI2FwaUtleTtcbiAgICAgICAgaWYgKHR5cGVvZiBhcGlLZXkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBhcGlLZXkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBpS2V5O1xuICAgIH1cbiAgICBfb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcGFyc2VkLCBpc0dlbmVyaWMgfSA9IHBhcnNlUmVhbHRpbWVFdmVudChldmVudCk7XG4gICAgICAgIGlmIChwYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJyonLCBwYXJzZWQpO1xuICAgICAgICBpZiAoaXNHZW5lcmljKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgeyB0eXBlOiAnZXJyb3InLCBlcnJvcjogcGFyc2VkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbWl0KHBhcnNlZC50eXBlLCBwYXJzZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3R1cm5fc3RhcnRlZCcsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVzcG9uc2Vfc3RhcnRlZCcsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcnNlZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnc2Vzc2lvbi51cGRhdGVkJykge1xuICAgICAgICAgICAgdGhpcy4jcmF3U2Vzc2lvbkNvbmZpZyA9IHBhcnNlZC5zZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmRvbmUnKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlRG9uZUV2ZW50U2NoZW1hLnNhZmVQYXJzZShwYXJzZWQpO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBwYXJzaW5nIHJlc3BvbnNlIGRvbmUgZXZlbnQnLCByZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5wdXRUb2tlbnMgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbnMgPz8gMDtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dFRva2VucyA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/Lm91dHB1dF90b2tlbnMgPz8gMDtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsVG9rZW5zID0gaW5wdXRUb2tlbnMgKyBvdXRwdXRUb2tlbnM7XG4gICAgICAgICAgICBjb25zdCB1c2FnZSA9IG5ldyBVc2FnZSh7XG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgaW5wdXRUb2tlbnNEZXRhaWxzOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbnNfZGV0YWlscyA/PyB7fSxcbiAgICAgICAgICAgICAgICBvdXRwdXRUb2tlbnMsXG4gICAgICAgICAgICAgICAgb3V0cHV0VG9rZW5zRGV0YWlsczogcmVzcG9uc2UuZGF0YS5yZXNwb25zZS51c2FnZT8ub3V0cHV0X3Rva2Vuc19kZXRhaWxzID8/IHt9LFxuICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VzYWdlX3VwZGF0ZScsIHVzYWdlKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndHVybl9kb25lJywge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZV9kb25lJyxcbiAgICAgICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAgICAgICBpZDogcmVzcG9uc2UuZGF0YS5yZXNwb25zZS5pZCA/PyAnJyxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLm91dHB1dCA/PyBbXSxcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUb2tlbnNEZXRhaWxzOiByZXNwb25zZS5kYXRhLnJlc3BvbnNlLnVzYWdlPy5pbnB1dF90b2tlbnNfZGV0YWlscyA/PyB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFRva2Vuc0RldGFpbHM6IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UudXNhZ2U/Lm91dHB1dF90b2tlbnNfZGV0YWlscyA/PyB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfYXVkaW8uZG9uZScpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnYXVkaW9fZG9uZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRlbGV0ZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fZGVsZXRlZCcsIHtcbiAgICAgICAgICAgICAgICBpdGVtSWQ6IHBhcnNlZC5pdGVtX2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLnRydW5jYXRlZCcpIHtcbiAgICAgICAgICAgIC8vIHJpZ2h0IG5vdyByYXRoZXIgdGhhbiBrZWVwaW5nIHRyYWNrIG9mIHBhcnRpYWxzIGFuZCByZWJ1aWxkaW5nIHRoZSBpdGVtIHdlXG4gICAgICAgICAgICAvLyB3aWxsIHJldHJpZXZlIGl0IGluc3RlYWQgd2hpY2ggdHJpZ2dlcnMgdGhlIGBjb252ZXJzYXRpb24uaXRlbS5yZXRyaWV2ZWRgIGV2ZW50IGJlbG93XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlJyxcbiAgICAgICAgICAgICAgICBpdGVtX2lkOiBwYXJzZWQuaXRlbV9pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmlucHV0X2F1ZGlvX3RyYW5zY3JpcHRpb24uZGVsdGEnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJyB8fFxuICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kZWx0YScgfHxcbiAgICAgICAgICAgIHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGEnKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfYXVkaW9fdHJhbnNjcmlwdC5kZWx0YScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvX3RyYW5zY3JpcHRfZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0cmFuc2NyaXB0X2RlbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IHBhcnNlZC5kZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBwYXJzZWQuaXRlbV9pZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VJZDogcGFyc2VkLnJlc3BvbnNlX2lkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbm8gc3VwcG9ydCBmb3IgcGFydGlhbCB0cmFuc2NyaXB0cyB5ZXQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uYWRkZWQnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRvbmUnIHx8XG4gICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLnJldHJpZXZlZCcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBNQ1AgbGlzdCB0b29scyBpdGVtcyAob25seSBhY3Qgd2hlbiBkb25lIHRvIGVuc3VyZSB0b29scyBhcmUgcHJlc2VudClcbiAgICAgICAgICAgIGlmIChwYXJzZWQuaXRlbS50eXBlID09PSAnbWNwX2xpc3RfdG9vbHMnICYmXG4gICAgICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5kb25lJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckxhYmVsID0gcGFyc2VkLml0ZW0uc2VydmVyX2xhYmVsID8/ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xzID0gKHBhcnNlZC5pdGVtLnRvb2xzID8/IFtdKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ21jcF90b29sc19saXN0ZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJMYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGVtaXR0aW5nIG1jcF90b29sc19saXN0ZWQnLCBlcnIsIHBhcnNlZC5pdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgZG8gbm90IGFkZCB0aGlzIGl0ZW0gdG8gaGlzdG9yeTsgaXQncyBhIHRyYW5zcG9ydC1sZXZlbCBzaWRlLWNoYW5uZWwuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlZC5pdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzSXRlbUlkID0gcGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5hZGRlZCcgfHxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdjb252ZXJzYXRpb24uaXRlbS5kb25lJ1xuICAgICAgICAgICAgICAgICAgICA/IHBhcnNlZC5wcmV2aW91c19pdGVtX2lkXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gcmVhbHRpbWVNZXNzYWdlSXRlbVNjaGVtYS5wYXJzZSh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogcGFyc2VkLml0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzSXRlbUlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXJzZWQuaXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICByb2xlOiBwYXJzZWQuaXRlbS5yb2xlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBwYXJzZWQuaXRlbS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHBhcnNlZC5pdGVtLnN0YXR1cyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2l0ZW1fdXBkYXRlJywgaXRlbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlZC5pdGVtLnR5cGUgPT09ICdtY3BfYXBwcm92YWxfcmVxdWVzdCcgJiZcbiAgICAgICAgICAgICAgICBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRvbmUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBhcnNlZC5pdGVtO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1jcEFwcHJvdmFsUmVxdWVzdCA9IHJlYWx0aW1lTWNwQ2FsbEFwcHJvdmFsUmVxdWVzdEl0ZW0ucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyTGFiZWw6IGl0ZW0uc2VydmVyX2xhYmVsLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogSlNPTi5wYXJzZShpdGVtLmFyZ3VtZW50cyB8fCAne30nKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwcm92ZWQ6IGl0ZW0uYXBwcm92ZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX3VwZGF0ZScsIG1jcEFwcHJvdmFsUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfYXBwcm92YWxfcmVxdWVzdCcsIG1jcEFwcHJvdmFsUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlZC5pdGVtLnR5cGUgPT09ICdtY3BfdG9vbF9jYWxsJyB8fFxuICAgICAgICAgICAgICAgIHBhcnNlZC5pdGVtLnR5cGUgPT09ICdtY3BfY2FsbCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRvbmUnXG4gICAgICAgICAgICAgICAgICAgID8gJ2NvbXBsZXRlZCdcbiAgICAgICAgICAgICAgICAgICAgOiAnaW5fcHJvZ3Jlc3MnO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1jcENhbGwgPSByZWFsdGltZU1jcENhbGxJdGVtLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBwYXJzZWQuaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogcGFyc2VkLml0ZW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHBhcnNlZC5pdGVtLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcGFyc2VkLml0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBwYXJzZWQuaXRlbS5vdXRwdXQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX3VwZGF0ZScsIG1jcENhbGwpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ2NvbnZlcnNhdGlvbi5pdGVtLmRvbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbWNwX3Rvb2xfY2FsbF9jb21wbGV0ZWQnLCBtY3BDYWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLm1jcF9jYWxsLmluX3Byb2dyZXNzJykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBhcnNlZDtcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0ucmV0cmlldmUnLFxuICAgICAgICAgICAgICAgIGl0ZW1faWQ6IGl0ZW0uaXRlbV9pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ21jcF9saXN0X3Rvb2xzLmluX3Byb2dyZXNzJykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHBhcnNlZDtcbiAgICAgICAgICAgIGlmIChpdGVtLml0ZW1faWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5yZXRyaWV2ZScsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1faWQ6IGl0ZW0uaXRlbV9pZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lJyB8fFxuICAgICAgICAgICAgcGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBwYXJzZWQuaXRlbTtcbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJyAmJiBpdGVtLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sQ2FsbCA9IHJlYWx0aW1lVG9vbENhbGxJdGVtLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2luX3Byb2dyZXNzJywgLy8gd2Ugc2V0IGl0IHRvIGluX3Byb2dyZXNzIGZvciB0aGUgVUkgYXMgaXQgd2lsbCBvbmx5IGJlIGNvbXBsZXRlZCB3aXRoIHRoZSBvdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBpdGVtLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX3VwZGF0ZScsIHRvb2xDYWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Z1bmN0aW9uX2NhbGwnLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fY2FsbCcsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxJZDogaXRlbS5jYWxsX2lkID8/ICcnLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGl0ZW0uYXJndW1lbnRzID8/ICcnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUgPz8gJycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ21jcF90b29sX2NhbGwnIHx8IGl0ZW0udHlwZSA9PT0gJ21jcF9jYWxsJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1jcENhbGwgPSByZWFsdGltZU1jcENhbGxJdGVtLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfaXRlbS5kb25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnY29tcGxldGVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnaW5fcHJvZ3Jlc3MnLCAvLyB3ZSBzZXQgaXQgdG8gaW5fcHJvZ3Jlc3MgZm9yIHRoZSBVSSBhcyBpdCB3aWxsIG9ubHkgYmUgY29tcGxldGVkIHdpdGggdGhlIG91dHB1dFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGl0ZW0uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dDogaXRlbS5vdXRwdXQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX3VwZGF0ZScsIG1jcENhbGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWx0aW1lSXRlbSA9IHJlYWx0aW1lTWVzc2FnZUl0ZW1TY2hlbWEucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IHBhcnNlZC5pdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwYXJzZWQuaXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICByb2xlOiBwYXJzZWQuaXRlbS5yb2xlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBwYXJzZWQuaXRlbS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHBhcnNlZC50eXBlID09PSAncmVzcG9uc2Uub3V0cHV0X2l0ZW0uZG9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGl0ZW0uc3RhdHVzID8/ICdjb21wbGV0ZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAoaXRlbS5zdGF0dXMgPz8gJ2luX3Byb2dyZXNzJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX3VwZGF0ZScsIHJlYWx0aW1lSXRlbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9vbkVycm9yKGVycm9yKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfb25PcGVuKCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgIH1cbiAgICBfb25DbG9zZSgpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdkaXNjb25uZWN0ZWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIFJlYWx0aW1lIEFQSS4gVGhpcyB3aWxsIGNyZWF0ZSBhIG5ldyBpdGVtIGluIHRoZSBjb252ZXJzYXRpb24gYW5kXG4gICAgICogdHJpZ2dlciBhIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvdGhlckV2ZW50RGF0YSAtIEFkZGl0aW9uYWwgZXZlbnQgZGF0YSB0byBzZW5kLlxuICAgICAqL1xuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UsIG90aGVyRXZlbnREYXRhLCB7IHRyaWdnZXJSZXNwb25zZSA9IHRydWUgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2lucHV0X3RleHQnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IG1lc3NhZ2UuY29udGVudC5tYXAoKGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnaW5wdXRfaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5wdXRfaW1hZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VfdXJsOiBjb250ZW50LmltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGNvbnRlbnQucHJvdmlkZXJEYXRhID8/IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ2NvbnZlcnNhdGlvbi5pdGVtLmNyZWF0ZScsXG4gICAgICAgICAgICBpdGVtOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ21lc3NhZ2UnLFxuICAgICAgICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLm90aGVyRXZlbnREYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyaWdnZXJSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZS5jcmVhdGUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkSW1hZ2UoaW1hZ2UsIHsgdHJpZ2dlclJlc3BvbnNlID0gdHJ1ZSB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgICBjb250ZW50OiBbeyB0eXBlOiAnaW5wdXRfaW1hZ2UnLCBpbWFnZSB9XSxcbiAgICAgICAgfSwge30sIHsgdHJpZ2dlclJlc3BvbnNlIH0pO1xuICAgIH1cbiAgICBfZ2V0TWVyZ2VkU2Vzc2lvbkNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgY29uc3QgbmV3Q29uZmlnID0gdG9OZXdTZXNzaW9uQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0ge1xuICAgICAgICAgICAgdHlwZTogJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgIGluc3RydWN0aW9uczogbmV3Q29uZmlnLmluc3RydWN0aW9ucyxcbiAgICAgICAgICAgIG1vZGVsOiBuZXdDb25maWcubW9kZWwgPz8gdGhpcy4jbW9kZWwsXG4gICAgICAgICAgICBvdXRwdXRfbW9kYWxpdGllczogbmV3Q29uZmlnLm91dHB1dE1vZGFsaXRpZXMgPz9cbiAgICAgICAgICAgICAgICBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9TRVNTSU9OX0NPTkZJRy5vdXRwdXRNb2RhbGl0aWVzLFxuICAgICAgICAgICAgYXVkaW86IHtcbiAgICAgICAgICAgICAgICBpbnB1dDoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IG5ld0NvbmZpZy5hdWRpbz8uaW5wdXQ/LmZvcm1hdCA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/LmlucHV0Py5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIG5vaXNlX3JlZHVjdGlvbjogbmV3Q29uZmlnLmF1ZGlvPy5pbnB1dD8ubm9pc2VSZWR1Y3Rpb24gPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLmF1ZGlvPy5pbnB1dD8ubm9pc2VSZWR1Y3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb246IG5ld0NvbmZpZy5hdWRpbz8uaW5wdXQ/LnRyYW5zY3JpcHRpb24gPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLmF1ZGlvPy5pbnB1dD8udHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdHVybl9kZXRlY3Rpb246IE9wZW5BSVJlYWx0aW1lQmFzZS5idWlsZFR1cm5EZXRlY3Rpb25Db25maWcobmV3Q29uZmlnLmF1ZGlvPy5pbnB1dD8udHVybkRldGVjdGlvbikgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLmF1ZGlvPy5pbnB1dD8udHVybkRldGVjdGlvbixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG91dHB1dDoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IG5ld0NvbmZpZy5hdWRpbz8ub3V0cHV0Py5mb3JtYXQgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLmF1ZGlvPy5vdXRwdXQ/LmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgdm9pY2U6IG5ld0NvbmZpZy5hdWRpbz8ub3V0cHV0Py52b2ljZSA/P1xuICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcuYXVkaW8/Lm91dHB1dD8udm9pY2UsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiBuZXdDb25maWcuYXVkaW8/Lm91dHB1dD8uc3BlZWQgPz9cbiAgICAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX1NFU1NJT05fQ09ORklHLmF1ZGlvPy5vdXRwdXQ/LnNwZWVkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbF9jaG9pY2U6IG5ld0NvbmZpZy50b29sQ2hvaWNlID8/XG4gICAgICAgICAgICAgICAgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcudG9vbENob2ljZSxcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHNldCB0cmFjaW5nIGhlcmUgdG8gbWFrZSBzdXJlIHRoYXQgd2UgZG9uJ3QgdHJ5IHRvIG92ZXJyaWRlIGl0IG9uIGV2ZXJ5XG4gICAgICAgICAgICAvLyBzZXNzaW9uLnVwZGF0ZSBhcyBpdCBtaWdodCBsZWFkIHRvIGVycm9yc1xuICAgICAgICAgICAgLi4uKG5ld0NvbmZpZy5wcm92aWRlckRhdGEgPz8ge30pLFxuICAgICAgICB9O1xuICAgICAgICBpZiAobmV3Q29uZmlnLnByb21wdCkge1xuICAgICAgICAgICAgc2Vzc2lvbkRhdGEucHJvbXB0ID0ge1xuICAgICAgICAgICAgICAgIGlkOiBuZXdDb25maWcucHJvbXB0LnByb21wdElkLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IG5ld0NvbmZpZy5wcm9tcHQudmVyc2lvbixcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IG5ld0NvbmZpZy5wcm9tcHQudmFyaWFibGVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3Q29uZmlnLnRvb2xzICYmIG5ld0NvbmZpZy50b29scy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXNzaW9uRGF0YS50b29scyA9IG5ld0NvbmZpZy50b29scy5tYXAoKHRvb2wpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udG9vbCxcbiAgICAgICAgICAgICAgICBzdHJpY3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2Vzc2lvbkRhdGE7XG4gICAgfVxuICAgIHN0YXRpYyBidWlsZFR1cm5EZXRlY3Rpb25Db25maWcoYykge1xuICAgICAgICBpZiAodHlwZW9mIGMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgY3JlYXRlUmVzcG9uc2UsIGNyZWF0ZV9yZXNwb25zZSwgZWFnZXJuZXNzLCBpbnRlcnJ1cHRSZXNwb25zZSwgaW50ZXJydXB0X3Jlc3BvbnNlLCBwcmVmaXhQYWRkaW5nTXMsIHByZWZpeF9wYWRkaW5nX21zLCBzaWxlbmNlRHVyYXRpb25Ncywgc2lsZW5jZV9kdXJhdGlvbl9tcywgdGhyZXNob2xkLCBpZGxlVGltZW91dE1zLCBpZGxlX3RpbWVvdXRfbXMsIC4uLnJlc3QgfSA9IGM7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBjcmVhdGVfcmVzcG9uc2U6IGNyZWF0ZVJlc3BvbnNlID8gY3JlYXRlUmVzcG9uc2UgOiBjcmVhdGVfcmVzcG9uc2UsXG4gICAgICAgICAgICBlYWdlcm5lc3MsXG4gICAgICAgICAgICBpbnRlcnJ1cHRfcmVzcG9uc2U6IGludGVycnVwdFJlc3BvbnNlXG4gICAgICAgICAgICAgICAgPyBpbnRlcnJ1cHRSZXNwb25zZVxuICAgICAgICAgICAgICAgIDogaW50ZXJydXB0X3Jlc3BvbnNlLFxuICAgICAgICAgICAgcHJlZml4X3BhZGRpbmdfbXM6IHByZWZpeFBhZGRpbmdNcyA/IHByZWZpeFBhZGRpbmdNcyA6IHByZWZpeF9wYWRkaW5nX21zLFxuICAgICAgICAgICAgc2lsZW5jZV9kdXJhdGlvbl9tczogc2lsZW5jZUR1cmF0aW9uTXNcbiAgICAgICAgICAgICAgICA/IHNpbGVuY2VEdXJhdGlvbk1zXG4gICAgICAgICAgICAgICAgOiBzaWxlbmNlX2R1cmF0aW9uX21zLFxuICAgICAgICAgICAgaWRsZV90aW1lb3V0X21zOiBpZGxlVGltZW91dE1zID8gaWRsZVRpbWVvdXRNcyA6IGlkbGVfdGltZW91dF9tcyxcbiAgICAgICAgICAgIHRocmVzaG9sZCxcbiAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgIH07XG4gICAgICAgIC8vIFJlbW92ZSB1bmRlZmluZWQgdmFsdWVzIGZyb20gdGhlIGNvbmZpZ1xuICAgICAgICBPYmplY3Qua2V5cyhjb25maWcpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvbmZpZ1trZXldID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgZGVsZXRlIGNvbmZpZ1trZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGNvbmZpZykubGVuZ3RoID4gMCA/IGNvbmZpZyA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW50ZXJuYWwgdHJhY2luZyBjb25maWcuIFRoaXMgaXMgdXNlZCB0byB0cmFjayB0aGUgdHJhY2luZyBjb25maWcgdGhhdCBoYXMgYmVlbiBzZXRcbiAgICAgKiBkdXJpbmcgdGhlIHNlc3Npb24uY3JlYXRlIGV2ZW50LlxuICAgICAqL1xuICAgIHNldCBfdHJhY2luZ0NvbmZpZyh0cmFjaW5nQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuI3RyYWNpbmdDb25maWcgPSB0cmFjaW5nQ29uZmlnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0cmFjaW5nIGNvbmZpZyBmb3IgdGhlIHNlc3Npb24uIFRoaXMgd2lsbCBzZW5kIHRoZSB0cmFjaW5nIGNvbmZpZyB0byB0aGUgUmVhbHRpbWUgQVBJLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYWNpbmdDb25maWcgLSBUaGUgdHJhY2luZyBjb25maWcgdG8gc2V0LiBXZSBkb24ndCBzdXBwb3J0ICdhdXRvJyBoZXJlIGFzIHRoZSBTREsgd2lsbCBhbHdheXMgY29uZmlndXJlIGEgV29ya2Zsb3cgTmFtZSB1bmxlc3MgaXQgZXhpc3RzXG4gICAgICovXG4gICAgX3VwZGF0ZVRyYWNpbmdDb25maWcodHJhY2luZ0NvbmZpZykge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuI3RyYWNpbmdDb25maWcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyB0cmVhdGluZyBpdCBhcyBkZWZhdWx0IHZhbHVlXG4gICAgICAgICAgICB0aGlzLiN0cmFjaW5nQ29uZmlnID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2luZ0NvbmZpZyA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICAvLyB0dXJuIG9uIHRyYWNpbmcgaW4gYXV0byBtb2RlXG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Nlc3Npb24udXBkYXRlJyxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWFsdGltZScsXG4gICAgICAgICAgICAgICAgICAgIHRyYWNpbmc6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI3RyYWNpbmdDb25maWcgIT09IG51bGwgJiZcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLiN0cmFjaW5nQ29uZmlnICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdHlwZW9mIHRyYWNpbmdDb25maWcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyB0cmFjaW5nIGlzIGFscmVhZHkgc2V0LCB3ZSBjYW4ndCBjaGFuZ2UgaXRcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdUcmFjaW5nIGNvbmZpZyBpcyBhbHJlYWR5IHNldCwgc2tpcHBpbmcgc2V0dGluZyBpdCBhZ2Fpbi4gVGhpcyBsaWtlbHkgaGFwcGVucyB3aGVuIHlvdSBhbHJlYWR5IHNldCBhIHRyYWNpbmcgY29uZmlnIG9uIHNlc3Npb24gY3JlYXRpb24uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYWNpbmdDb25maWcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZygnRGlzYWJsaW5nIHRyYWNpbmcgZm9yIHRoaXMgc2Vzc2lvbi4gSXQgY2Fubm90IGJlIHR1cm5lZCBvbiBmb3IgdGhpcyBzZXNzaW9uIGZyb20gdGhpcyBwb2ludCBvbi4nKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2luZzogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI3RyYWNpbmdDb25maWcgPT09IG51bGwgfHxcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzLiN0cmFjaW5nQ29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gdHJhY2luZyBpcyBjdXJyZW50bHkgbm90IHNldCBzbyB3ZSBjYW4gc2V0IGl0IHRvIHRoZSBuZXcgdmFsdWVcbiAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhY2luZzogdHJhY2luZ0NvbmZpZyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYWNpbmdDb25maWc/Lmdyb3VwX2lkICE9PSB0aGlzLiN0cmFjaW5nQ29uZmlnPy5ncm91cF9pZCB8fFxuICAgICAgICAgICAgdHJhY2luZ0NvbmZpZz8ubWV0YWRhdGEgIT09IHRoaXMuI3RyYWNpbmdDb25maWc/Lm1ldGFkYXRhIHx8XG4gICAgICAgICAgICB0cmFjaW5nQ29uZmlnPy53b3JrZmxvd19uYW1lICE9PSB0aGlzLiN0cmFjaW5nQ29uZmlnPy53b3JrZmxvd19uYW1lKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignTWlzbWF0Y2ggaW4gdHJhY2luZyBjb25maWcuIElnbm9yaW5nIHRoZSBuZXcgdHJhY2luZyBjb25maWcuIFRoaXMgbGlrZWx5IGhhcHBlbnMgd2hlbiB5b3UgYWxyZWFkeSBzZXQgYSB0cmFjaW5nIGNvbmZpZyBvbiBzZXNzaW9uIGNyZWF0aW9uLiBDdXJyZW50IHRyYWNpbmcgY29uZmlnOiAlcywgbmV3IHRyYWNpbmcgY29uZmlnOiAlcycsIEpTT04uc3RyaW5naWZ5KHRoaXMuI3RyYWNpbmdDb25maWcpLCBKU09OLnN0cmluZ2lmeSh0cmFjaW5nQ29uZmlnKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ3Nlc3Npb24udXBkYXRlJyxcbiAgICAgICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncmVhbHRpbWUnLFxuICAgICAgICAgICAgICAgIHRyYWNpbmc6IHRyYWNpbmdDb25maWcsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc2Vzc2lvbiBjb25maWcuIFRoaXMgd2lsbCBtZXJnZSBpdCB3aXRoIHRoZSBjdXJyZW50IHNlc3Npb24gY29uZmlnIHdpdGggdGhlIGRlZmF1bHRcbiAgICAgKiB2YWx1ZXMgYW5kIHNlbmQgaXQgdG8gdGhlIFJlYWx0aW1lIEFQSS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb25maWcgLSBUaGUgc2Vzc2lvbiBjb25maWcgdG8gdXBkYXRlLlxuICAgICAqL1xuICAgIHVwZGF0ZVNlc3Npb25Db25maWcoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb25EYXRhID0gdGhpcy5fZ2V0TWVyZ2VkU2Vzc2lvbkNvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbi51cGRhdGUnLFxuICAgICAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbkRhdGEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBvdXRwdXQgb2YgYSBmdW5jdGlvbiBjYWxsIHRvIHRoZSBSZWFsdGltZSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9vbENhbGwgLSBUaGUgdG9vbCBjYWxsIHRvIHNlbmQgdGhlIG91dHB1dCBmb3IuXG4gICAgICogQHBhcmFtIG91dHB1dCAtIFRoZSBvdXRwdXQgb2YgdGhlIGZ1bmN0aW9uIGNhbGwuXG4gICAgICogQHBhcmFtIHN0YXJ0UmVzcG9uc2UgLSBXaGV0aGVyIHRvIHN0YXJ0IGEgbmV3IHJlc3BvbnNlIGFmdGVyIHNlbmRpbmcgdGhlIG91dHB1dC5cbiAgICAgKi9cbiAgICBzZW5kRnVuY3Rpb25DYWxsT3V0cHV0KHRvb2xDYWxsLCBvdXRwdXQsIHN0YXJ0UmVzcG9uc2UgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnLFxuICAgICAgICAgICAgaXRlbToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbl9jYWxsX291dHB1dCcsXG4gICAgICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgICAgIGNhbGxfaWQ6IHRvb2xDYWxsLmNhbGxJZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHJlYWx0aW1lVG9vbENhbGxJdGVtLnBhcnNlKHtcbiAgICAgICAgICAgICAgICBpdGVtSWQ6IHRvb2xDYWxsLmlkLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzSXRlbUlkOiB0b29sQ2FsbC5wcmV2aW91c0l0ZW1JZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fY2FsbCcsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHRvb2xDYWxsLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbC5uYW1lLFxuICAgICAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdpdGVtX3VwZGF0ZScsIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBwYXJzaW5nIHRvb2wgY2FsbCBpdGVtJywgZXJyb3IsIHRvb2xDYWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZS5jcmVhdGUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBhdWRpbyBidWZmZXIgdG8gdGhlIFJlYWx0aW1lIEFQSS4gSWYgYHsgY29tbWl0OiB0cnVlIH1gIGlzIHBhc3NlZCwgdGhlIGF1ZGlvIGJ1ZmZlclxuICAgICAqIHdpbGwgYmUgY29tbWl0dGVkIGFuZCB0aGUgbW9kZWwgd2lsbCBzdGFydCBwcm9jZXNzaW5nIGl0LiBUaGlzIGlzIG5lY2Vzc2FyeSBpZiB5b3UgaGF2ZVxuICAgICAqIGRpc2FibGVkIHR1cm4gZGV0ZWN0aW9uIC8gdm9pY2UgYWN0aXZpdHkgZGV0ZWN0aW9uIChWQUQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF1ZGlvIC0gVGhlIGF1ZGlvIGJ1ZmZlciB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBhdWRpbyBidWZmZXIuXG4gICAgICovXG4gICAgc2VuZEF1ZGlvKGF1ZGlvLCB7IGNvbW1pdCA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiAnaW5wdXRfYXVkaW9fYnVmZmVyLmFwcGVuZCcsXG4gICAgICAgICAgICBhdWRpbzogYXJyYXlCdWZmZXJUb0Jhc2U2NChhdWRpbyksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29tbWl0KSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2lucHV0X2F1ZGlvX2J1ZmZlci5jb21taXQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGhpc3Rvcnkgb2YgdGhlIGNvbnZlcnNhdGlvbi4gVGhpcyB3aWxsIGNyZWF0ZSBhIGRpZmYgYmV0d2VlbiB0aGUgb2xkIGFuZCBuZXcgaGlzdG9yeVxuICAgICAqIGFuZCBzZW5kIHRoZSBuZWNlc3NhcnkgZXZlbnRzIHRvIHRoZSBSZWFsdGltZSBBUEkgdG8gdXBkYXRlIHRoZSBoaXN0b3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9sZEhpc3RvcnkgLSBUaGUgb2xkIGhpc3Rvcnkgb2YgdGhlIGNvbnZlcnNhdGlvbi5cbiAgICAgKiBAcGFyYW0gbmV3SGlzdG9yeSAtIFRoZSBuZXcgaGlzdG9yeSBvZiB0aGUgY29udmVyc2F0aW9uLlxuICAgICAqL1xuICAgIHJlc2V0SGlzdG9yeShvbGRIaXN0b3J5LCBuZXdIaXN0b3J5KSB7XG4gICAgICAgIGNvbnN0IHsgcmVtb3ZhbHMsIGFkZGl0aW9ucywgdXBkYXRlcyB9ID0gZGlmZlJlYWx0aW1lSGlzdG9yeShvbGRIaXN0b3J5LCBuZXdIaXN0b3J5KTtcbiAgICAgICAgY29uc3QgcmVtb3ZhbElkcyA9IG5ldyBTZXQocmVtb3ZhbHMubWFwKChpdGVtKSA9PiBpdGVtLml0ZW1JZCkpO1xuICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGFuIHVwZGF0ZSBldmVudCBmb3IgaXRlbXMgc28gd2Ugd2lsbCByZW1vdmUgYW5kIHJlLWFkZCB3aGF0J3MgdGhlcmVcbiAgICAgICAgZm9yIChjb25zdCB1cGRhdGUgb2YgdXBkYXRlcykge1xuICAgICAgICAgICAgcmVtb3ZhbElkcy5hZGQodXBkYXRlLml0ZW1JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92YWxJZHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbUlkIG9mIHJlbW92YWxJZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5kZWxldGUnLFxuICAgICAgICAgICAgICAgICAgICBpdGVtX2lkOiBpdGVtSWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWRkaXRpb25zQW5kVXBkYXRlcyA9IFsuLi5hZGRpdGlvbnMsIC4uLnVwZGF0ZXNdO1xuICAgICAgICBmb3IgKGNvbnN0IGFkZGl0aW9uIG9mIGFkZGl0aW9uc0FuZFVwZGF0ZXMpIHtcbiAgICAgICAgICAgIGlmIChhZGRpdGlvbi50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtRW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtZXNzYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogYWRkaXRpb24ucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogYWRkaXRpb24uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGFkZGl0aW9uLml0ZW1JZCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbi5yb2xlICE9PSAnc3lzdGVtJyAmJiBhZGRpdGlvbi5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbUVudHJ5LnN0YXR1cyA9IGFkZGl0aW9uLnN0YXR1cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udmVyc2F0aW9uLml0ZW0uY3JlYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbUVudHJ5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWRkaXRpb24udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0Z1bmN0aW9uIGNhbGxzIGNhbm5vdCBiZSBtYW51YWxseSBhZGRlZCBvciB1cGRhdGVkIGF0IHRoZSBtb21lbnQuIElnbm9yaW5nLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNlbmRNY3BSZXNwb25zZShhcHByb3ZhbFJlcXVlc3QsIGFwcHJvdmVkKSB7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS5jcmVhdGUnLFxuICAgICAgICAgICAgcHJldmlvdXNfaXRlbV9pZDogYXBwcm92YWxSZXF1ZXN0Lml0ZW1JZCxcbiAgICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbWNwX2FwcHJvdmFsX3Jlc3BvbnNlJyxcbiAgICAgICAgICAgICAgICBhcHByb3ZhbF9yZXF1ZXN0X2lkOiBhcHByb3ZhbFJlcXVlc3QuaXRlbUlkLFxuICAgICAgICAgICAgICAgIGFwcHJvdmU6IGFwcHJvdmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpUmVhbHRpbWVCYXNlLm1qcy5tYXAiLCIvLy8gPHJlZmVyZW5jZSBsaWI9XCJkb21cIiAvPlxuaW1wb3J0IHsgaXNCcm93c2VyRW52aXJvbm1lbnQgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyBVc2VyRXJyb3IgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyLm1qc1wiO1xuaW1wb3J0IHsgT3BlbkFJUmVhbHRpbWVCYXNlLCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lQmFzZS5tanNcIjtcbmltcG9ydCB7IHBhcnNlUmVhbHRpbWVFdmVudCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lRXZlbnRzLm1qc1wiO1xuaW1wb3J0IHsgSEVBREVSUyB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuLyoqXG4gKiBUcmFuc3BvcnQgbGF5ZXIgdGhhdCdzIGhhbmRsaW5nIHRoZSBjb25uZWN0aW9uIGJldHdlZW4gdGhlIGNsaWVudCBhbmQgT3BlbkFJJ3MgUmVhbHRpbWUgQVBJXG4gKiB2aWEgV2ViUlRDLiBXaGlsZSB0aGlzIHRyYW5zcG9ydCBsYXllciBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIHdpdGhpbiBhIFJlYWx0aW1lU2Vzc2lvbiwgaXQgY2FuXG4gKiBhbHNvIGJlIHVzZWQgc3RhbmRhbG9uZSBpZiB5b3Ugd2FudCB0byBoYXZlIGEgZGlyZWN0IGNvbm5lY3Rpb24gdG8gdGhlIFJlYWx0aW1lIEFQSS5cbiAqXG4gKiBVbmxlc3MgeW91IHNwZWNpZnkgYSBgbWVkaWFTdHJlYW1gIG9yIGBhdWRpb0VsZW1lbnRgIG9wdGlvbiwgdGhlIHRyYW5zcG9ydCBsYXllciB3aWxsXG4gKiBhdXRvbWF0aWNhbGx5IGNvbmZpZ3VyZSB0aGUgbWljcm9waG9uZSBhbmQgYXVkaW8gb3V0cHV0IHRvIGJlIHVzZWQgYnkgdGhlIHNlc3Npb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlSZWFsdGltZVdlYlJUQyBleHRlbmRzIE9wZW5BSVJlYWx0aW1lQmFzZSB7XG4gICAgb3B0aW9ucztcbiAgICAjdXJsO1xuICAgICNzdGF0ZSA9IHtcbiAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgcGVlckNvbm5lY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgZGF0YUNoYW5uZWw6IHVuZGVmaW5lZCxcbiAgICAgICAgY2FsbElkOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICAjdXNlSW5zZWN1cmVBcGlLZXk7XG4gICAgI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICNtdXRlZCA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodHlwZW9mIFJUQ1BlZXJDb25uZWN0aW9uID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJSVEMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuI3VybCA9IG9wdGlvbnMuYmFzZVVybCA/PyBgaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9yZWFsdGltZS9jYWxsc2A7XG4gICAgICAgIHRoaXMuI3VzZUluc2VjdXJlQXBpS2V5ID0gb3B0aW9ucy51c2VJbnNlY3VyZUFwaUtleSA/PyBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY2FsbCBJRCBvZiB0aGUgV2ViUlRDIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IGNhbGxJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlLmNhbGxJZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgc3RhdHVzIG9mIHRoZSBXZWJSVEMgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RhdGUuc3RhdHVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBjb25uZWN0aW9uIHN0YXRlIG9mIHRoZSBXZWJSVEMgY29ubmVjdGlvbiBpbmNsdWRpbmcgdGhlIHBlZXIgY29ubmVjdGlvbiBhbmQgZGF0YVxuICAgICAqIGNoYW5uZWwuXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25TdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzZXNzaW9uIGlzIG11dGVkLlxuICAgICAqL1xuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI211dGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgd2lsbCBlc3RhYmxpc2ggdGhlIGNvbm5lY3Rpb24gdG8gdGhlIE9wZW5BSSBSZWFsdGltZSBBUElcbiAgICAgKiB2aWEgV2ViUlRDLlxuICAgICAqXG4gICAgICogSWYgeW91IGFyZSB1c2luZyBhIGJyb3dzZXIsIHRoZSB0cmFuc3BvcnQgbGF5ZXIgd2lsbCBhbHNvIGF1dG9tYXRpY2FsbHkgY29uZmlndXJlIHRoZVxuICAgICAqIG1pY3JvcGhvbmUgYW5kIGF1ZGlvIG91dHB1dCB0byBiZSB1c2VkIGJ5IHRoZSBzZXNzaW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5zdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLnN0YXR1cyA9PT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignUmVhbHRpbWUgY29ubmVjdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzLiBQbGVhc2UgYXdhaXQgb3JpZ2luYWwgcHJvbWlzZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsID0gb3B0aW9ucy5tb2RlbCA/PyB0aGlzLmN1cnJlbnRNb2RlbDtcbiAgICAgICAgdGhpcy5jdXJyZW50TW9kZWwgPSBtb2RlbDtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IG9wdGlvbnMudXJsID8/IHRoaXMuI3VybDtcbiAgICAgICAgY29uc3QgYXBpS2V5ID0gYXdhaXQgdGhpcy5fZ2V0QXBpS2V5KG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBpc0NsaWVudEtleSA9IHR5cGVvZiBhcGlLZXkgPT09ICdzdHJpbmcnICYmIGFwaUtleS5zdGFydHNXaXRoKCdla18nKTtcbiAgICAgICAgaWYgKGlzQnJvd3NlckVudmlyb25tZW50KCkgJiYgIXRoaXMuI3VzZUluc2VjdXJlQXBpS2V5ICYmICFpc0NsaWVudEtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcignVXNpbmcgdGhlIFdlYlJUQyBjb25uZWN0aW9uIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudCByZXF1aXJlcyBhbiBlcGhlbWVyYWwgY2xpZW50IGtleS4gSWYgeW91IG5lZWQgdG8gdXNlIGEgcmVndWxhciBBUEkga2V5LCB1c2UgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQgb3Igc2V0IHRoZSBgdXNlSW5zZWN1cmVBcGlLZXlgIG9wdGlvbiB0byB0cnVlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hc3luYy1wcm9taXNlLWV4ZWN1dG9yXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJTZXNzaW9uQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi4ob3B0aW9ucy5pbml0aWFsU2Vzc2lvbkNvbmZpZyB8fCB7fSksXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB0aGlzLmN1cnJlbnRNb2RlbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25VcmwgPSBuZXcgVVJMKGJhc2VVcmwpO1xuICAgICAgICAgICAgICAgIGxldCBwZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFDaGFubmVsID0gcGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoJ29haS1ldmVudHMnKTtcbiAgICAgICAgICAgICAgICBsZXQgY2FsbElkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb25uZWN0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLFxuICAgICAgICAgICAgICAgICAgICBjYWxsSWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZWVyQ29ubmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbElkLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvLyBTZW5kaW5nIHRoZSBzZXNzaW9uIGNvbmZpZyBhZ2FpbiBoZXJlIG9uY2UgdGhlIGNoYW5uZWwgaXMgY29ubmVjdGVkIHRvIGVuc3VyZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0IHRoZSBzZXNzaW9uIGNvbmZpZyBpcyBzZW50IHRvIHRoZSBzZXJ2ZXIgYmVmb3JlIHRoZSBmaXJzdCByZXNwb25zZSBpcyByZWNlaXZlZFxuICAgICAgICAgICAgICAgICAgICAvLyBTZXR0aW5nIGl0IG9uIGNvbm5lY3Rpb24gc2hvdWxkIHdvcmsgYnV0IHRoZSBjb25maWcgaXMgbm90IGJlaW5nIHZhbGlkYXRlZCBvbiB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VydmVyLiBUaGlzIHRyaWdnZXJzIGEgdmFsaWRhdGlvbiBlcnJvciBpZiB0aGUgY29uZmlnIGlzIG5vdCB2YWxpZC5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTZXNzaW9uQ29uZmlnKHVzZXJTZXNzaW9uQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX2NoYW5nZScsIHRoaXMuI3N0YXRlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTWVzc2FnZShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogcGFyc2VkLCBpc0dlbmVyaWMgfSA9IHBhcnNlUmVhbHRpbWVFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyc2VkIHx8IGlzR2VuZXJpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiNvbmdvaW5nUmVzcG9uc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuZG9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQudHlwZSA9PT0gJ3Nlc3Npb24uY3JlYXRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYWNpbmdDb25maWcgPSBwYXJzZWQuc2Vzc2lvbi50cmFjaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5aW5nIHRvIHR1cm4gb24gdHJhY2luZyBhZnRlciB0aGUgc2Vzc2lvbiBpcyBjcmVhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVUcmFjaW5nQ29uZmlnKHVzZXJTZXNzaW9uQ29uZmlnLnRyYWNpbmcgPz8gJ2F1dG8nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIHNldCB1cCBhdWRpbyBwbGF5YmFja1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvRWxlbWVudCA9IHRoaXMub3B0aW9ucy5hdWRpb0VsZW1lbnQgPz8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICBhdWRpb0VsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLm9udHJhY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9FbGVtZW50LnNyY09iamVjdCA9IGV2ZW50LnN0cmVhbXNbMF07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBnZXQgbWljcm9waG9uZSBzdHJlYW1cbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLm9wdGlvbnMubWVkaWFTdHJlYW0gPz9cbiAgICAgICAgICAgICAgICAgICAgKGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uYWRkVHJhY2soc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2hhbmdlUGVlckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5vcHRpb25zLmNoYW5nZVBlZXJDb25uZWN0aW9uKHBlZXJDb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7IC4uLnRoaXMuI3N0YXRlLCBwZWVyQ29ubmVjdGlvbiB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgcGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG4gICAgICAgICAgICAgICAgaWYgKCFvZmZlci5zZHApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIG9mZmVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNkcFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY29ubmVjdGlvblVybCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogb2ZmZXIuc2RwLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3NkcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAnWC1PcGVuQUktQWdlbnRzLVNESyc6IEhFQURFUlNbJ1gtT3BlbkFJLUFnZW50cy1TREsnXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjYWxsSWQgPSBzZHBSZXNwb25zZS5oZWFkZXJzPy5nZXQoJ0xvY2F0aW9uJyk/LnNwbGl0KCcvJykucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7IC4uLnRoaXMuI3N0YXRlLCBjYWxsSWQgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbnN3ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhbnN3ZXInLFxuICAgICAgICAgICAgICAgICAgICBzZHA6IGF3YWl0IHNkcFJlc3BvbnNlLnRleHQoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF3YWl0IHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgYW4gZXZlbnQgdG8gdGhlIFJlYWx0aW1lIEFQSS4gVGhpcyB3aWxsIHN0cmluZ2lmeSB0aGUgZXZlbnQgYW5kIHNlbmQgaXQgZGlyZWN0bHkgdG8gdGhlXG4gICAgICogQVBJLiBUaGlzIGNhbiBiZSB1c2VkIGlmIHlvdSB3YW50IHRvIHRha2UgY29udHJvbCBvdmVyIHRoZSBjb25uZWN0aW9uIGFuZCBzZW5kIGV2ZW50cyBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBldmVudCB0byBzZW5kLlxuICAgICAqL1xuICAgIHNlbmRFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuI3N0YXRlLmRhdGFDaGFubmVsIHx8XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZS5kYXRhQ2hhbm5lbC5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViUlRDIGRhdGEgY2hhbm5lbCBpcyBub3QgY29ubmVjdGVkLiBNYWtlIHN1cmUgeW91IGNhbGwgYGNvbm5lY3QoKWAgYmVmb3JlIHNlbmRpbmcgZXZlbnRzLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3N0YXRlLmRhdGFDaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoZXZlbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTXV0ZSBvciB1bm11dGUgdGhlIHNlc3Npb24uXG4gICAgICogQHBhcmFtIG11dGVkIC0gV2hldGhlciB0byBtdXRlIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIG11dGUobXV0ZWQpIHtcbiAgICAgICAgdGhpcy4jbXV0ZWQgPSBtdXRlZDtcbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLnBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBwZWVyQ29ubmVjdGlvbiA9IHRoaXMuI3N0YXRlLnBlZXJDb25uZWN0aW9uO1xuICAgICAgICAgICAgcGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZvckVhY2goKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZW5kZXIudHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyLnRyYWNrLmVuYWJsZWQgPSAhbXV0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIFJlYWx0aW1lIEFQSSBhbmQgZGlzY29ubmVjdHMgdGhlIHVuZGVybHlpbmcgV2ViUlRDIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdGF0ZS5kYXRhQ2hhbm5lbCkge1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUuZGF0YUNoYW5uZWwuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jc3RhdGUucGVlckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHBlZXJDb25uZWN0aW9uID0gdGhpcy4jc3RhdGUucGVlckNvbm5lY3Rpb247XG4gICAgICAgICAgICBwZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZm9yRWFjaCgoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VuZGVyLnRyYWNrPy5zdG9wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuI3N0YXRlLnN0YXR1cyAhPT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgcGVlckNvbm5lY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNhbGxJZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbl9jaGFuZ2UnLCB0aGlzLiNzdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5fb25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVycnVwdCB0aGUgY3VycmVudCByZXNwb25zZSBpZiBvbmUgaXMgb25nb2luZyBhbmQgY2xlYXIgdGhlIGF1ZGlvIGJ1ZmZlciBzbyB0aGF0IHRoZSBhZ2VudFxuICAgICAqIHN0b3BzIHRhbGtpbmcuXG4gICAgICovXG4gICAgaW50ZXJydXB0KCkge1xuICAgICAgICBpZiAodGhpcy4jb25nb2luZ1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNhbmNlbCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdvdXRwdXRfYXVkaW9fYnVmZmVyLmNsZWFyJyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpUmVhbHRpbWVXZWJSdGMubWpzLm1hcCIsIi8vLyA8cmVmZXJlbmNlIGxpYj1cImRvbVwiIC8+XG5leHBvcnQgY29uc3QgV2ViU29ja2V0ID0gZ2xvYmFsVGhpcy5XZWJTb2NrZXQ7XG5leHBvcnQgZnVuY3Rpb24gaXNCcm93c2VyRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgY29uc3QgdXNlV2ViU29ja2V0UHJvdG9jb2xzID0gdHJ1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaW1zLWJyb3dzZXIubWpzLm1hcCIsImltcG9ydCB7IGlzQnJvd3NlckVudmlyb25tZW50LCB1c2VXZWJTb2NrZXRQcm90b2NvbHMsIFdlYlNvY2tldCwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1yZWFsdGltZS9fc2hpbXMnO1xuaW1wb3J0IHsgT3BlbkFJUmVhbHRpbWVCYXNlLCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lQmFzZS5tanNcIjtcbmltcG9ydCB7IGJhc2U2NFRvQXJyYXlCdWZmZXIsIEhFQURFUlMsIFdFQlNPQ0tFVF9NRVRBIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBVc2VyRXJyb3IgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmltcG9ydCB7IHBhcnNlUmVhbHRpbWVFdmVudCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lRXZlbnRzLm1qc1wiO1xuLyoqXG4gKiBUcmFuc3BvcnQgbGF5ZXIgdGhhdCdzIGhhbmRsaW5nIHRoZSBjb25uZWN0aW9uIGJldHdlZW4gdGhlIGNsaWVudCBhbmQgT3BlbkFJJ3MgUmVhbHRpbWUgQVBJXG4gKiB2aWEgV2ViU29ja2V0cy4gV2hpbGUgdGhpcyB0cmFuc3BvcnQgbGF5ZXIgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCB3aXRoaW4gYSBSZWFsdGltZVNlc3Npb24sIGl0XG4gKiBjYW4gYWxzbyBiZSB1c2VkIHN0YW5kYWxvbmUgaWYgeW91IHdhbnQgdG8gaGF2ZSBhIGRpcmVjdCBjb25uZWN0aW9uIHRvIHRoZSBSZWFsdGltZSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUlSZWFsdGltZVdlYlNvY2tldCBleHRlbmRzIE9wZW5BSVJlYWx0aW1lQmFzZSB7XG4gICAgI2FwaUtleTtcbiAgICAjdXJsO1xuICAgICNzdGF0ZSA9IHtcbiAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgd2Vic29ja2V0OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICAjdXNlSW5zZWN1cmVBcGlLZXk7XG4gICAgI2N1cnJlbnRJdGVtSWQ7XG4gICAgI2N1cnJlbnRBdWRpb0NvbnRlbnRJbmRleDtcbiAgICAvKipcbiAgICAgKiBUaW1lc3RhbXAgbWFpbnRhaW5lZCBieSB0aGUgdHJhbnNwb3J0IGxheWVyIHRvIGFpZCB3aXRoIHRoZSBjYWxjdWxhdGlvbiBvZiB0aGUgZWxhcHNlZCB0aW1lXG4gICAgICogc2luY2UgdGhlIHJlc3BvbnNlIHN0YXJ0ZWQgdG8gY29tcHV0ZSB0aGUgcmlnaHQgaW50ZXJydXB0aW9uIHRpbWUuXG4gICAgICpcbiAgICAgKiBNb3N0bHkgaW50ZXJuYWwgYnV0IG1pZ2h0IGJlIHVzZWQgYnkgZXh0ZW5kZWQgdHJhbnNwb3J0IGxheWVycyBmb3IgdGhlaXIgaW50ZXJydXB0aW9uXG4gICAgICogY2FsY3VsYXRpb24uXG4gICAgICovXG4gICAgX2ZpcnN0QXVkaW9UaW1lc3RhbXA7XG4gICAgX2F1ZGlvTGVuZ3RoTXMgPSAwO1xuICAgICNvbmdvaW5nUmVzcG9uc2UgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuI3VybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICB0aGlzLiN1c2VJbnNlY3VyZUFwaUtleSA9IG9wdGlvbnMudXNlSW5zZWN1cmVBcGlLZXkgPz8gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlLnN0YXR1cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY29ubmVjdGlvbiBzdGF0ZSBvZiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgZ2V0IGNvbm5lY3Rpb25TdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbHdheXMgcmV0dXJucyBgbnVsbGAgYXMgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQgbGF5ZXIgZG9lcyBub3QgaGFuZGxlIG11dGluZy4gSW5zdGVhZCxcbiAgICAgKiB0aGlzIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHRoZSBjbGllbnQgYnkgbm90IHRyaWdnZXJpbmcgdGhlIGBzZW5kQXVkaW9gIG1ldGhvZC5cbiAgICAgKi9cbiAgICBnZXQgbXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBpdGVtIElEIG9mIHRoZSBvbmdvaW5nIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGdldCBjdXJyZW50SXRlbUlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY3VycmVudEl0ZW1JZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGBhdWRpb2AgZXZlbnQgdGhhdCBhIGNsaWVudCBtaWdodCBsaXN0ZW4gdG8gdG8gcmVjZWl2ZSB0aGUgYXVkaW8gYnVmZmVyLlxuICAgICAqIFByb3RlY3RlZCBmb3IgeW91IHRvIGJlIGFibGUgdG8gb3ZlcnJpZGUgYW5kIGRpc2FibGUgZW1pdHRpbmcgdGhpcyBldmVudCBpbiBjYXNlIHlvdXIgZXh0ZW5kZWRcbiAgICAgKiB0cmFuc3BvcnQgbGF5ZXIgaGFuZGxlcyBhdWRpbyBpbnRlcm5hbGx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGF1ZGlvRXZlbnQgLSBUaGUgYXVkaW8gZXZlbnQgdG8gZW1pdC5cbiAgICAgKi9cbiAgICBfb25BdWRpbyhhdWRpb0V2ZW50KSB7XG4gICAgICAgIHRoaXMuZW1pdCgnYXVkaW8nLCBhdWRpb0V2ZW50KTtcbiAgICB9XG4gICAgI3NldHVwV2ViU29ja2V0KHJlc29sdmUsIHJlamVjdCwgc2Vzc2lvbkNvbmZpZykge1xuICAgICAgICBpZiAodGhpcy4jc3RhdGUud2Vic29ja2V0KSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLiNhcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ0FQSSBrZXkgaXMgbm90IHNldC4gUGxlYXNlIGNhbGwgYGNvbm5lY3QoKWAgd2l0aCBhbiBBUEkga2V5IGZpcnN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Jyb3dzZXJFbnZpcm9ubWVudCgpICYmXG4gICAgICAgICAgICAhdGhpcy4jYXBpS2V5LnN0YXJ0c1dpdGgoJ2VrXycpICYmXG4gICAgICAgICAgICAhdGhpcy4jdXNlSW5zZWN1cmVBcGlLZXkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoJ1VzaW5nIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQgcmVxdWlyZXMgYW4gZXBoZW1lcmFsIGNsaWVudCBrZXkuIElmIHlvdSBoYXZlIHRvIHVzZSBhIHJlZ3VsYXIgQVBJIGtleSwgc2V0IHRoZSBgdXNlSW5zZWN1cmVBcGlLZXlgIG9wdGlvbiB0byB0cnVlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJyb3dzZXJzIGFuZCB3b3JrZXJkIHNob3VsZCB1c2UgdGhlIHByb3RvY29scyBhcmd1bWVudCwgbm9kZSBzaG91bGQgdXNlIHRoZSBoZWFkZXJzIGFyZ3VtZW50XG4gICAgICAgIGNvbnN0IHdlYnNvY2tldEFyZ3VtZW50cyA9IHVzZVdlYlNvY2tldFByb3RvY29sc1xuICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgJ3JlYWx0aW1lJyxcbiAgICAgICAgICAgICAgICAvLyBBdXRoXG4gICAgICAgICAgICAgICAgJ29wZW5haS1pbnNlY3VyZS1hcGkta2V5LicgKyB0aGlzLiNhcGlLZXksXG4gICAgICAgICAgICAgICAgLy8gVmVyc2lvbiBoZWFkZXJcbiAgICAgICAgICAgICAgICBXRUJTT0NLRVRfTUVUQSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuI2FwaUtleX1gLFxuICAgICAgICAgICAgICAgICAgICAuLi5IRUFERVJTLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQodGhpcy4jdXJsLCB3ZWJzb2NrZXRBcmd1bWVudHMpO1xuICAgICAgICB0aGlzLiNzdGF0ZSA9IHtcbiAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RpbmcnLFxuICAgICAgICAgICAgd2Vic29ja2V0OiB3cyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX2NoYW5nZScsIHRoaXMuI3N0YXRlLnN0YXR1cyk7XG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdjb25uZWN0ZWQnLFxuICAgICAgICAgICAgICAgIHdlYnNvY2tldDogd3MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX2NoYW5nZScsIHRoaXMuI3N0YXRlLnN0YXR1cyk7XG4gICAgICAgICAgICB0aGlzLl9vbk9wZW4oKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuI3N0YXRlID0ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgd2Vic29ja2V0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjb25uZWN0aW9uX2NoYW5nZScsIHRoaXMuI3N0YXRlLnN0YXR1cyk7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgd3MuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbk1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IHBhcnNlZCwgaXNHZW5lcmljIH0gPSBwYXJzZVJlYWx0aW1lRXZlbnQobWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoIXBhcnNlZCB8fCBpc0dlbmVyaWMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5vdXRwdXRfYXVkaW8uZGVsdGEnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jY3VycmVudEF1ZGlvQ29udGVudEluZGV4ID0gcGFyc2VkLmNvbnRlbnRfaW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy4jY3VycmVudEl0ZW1JZCA9IHBhcnNlZC5pdGVtX2lkO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maXJzdEF1ZGlvVGltZXN0YW1wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlc3BvbnNlIHN0YXJ0IHRpbWVzdGFtcCBpcyBub3Qgc2V0LCB3ZSBzZXQgaXQgdG8gdGhlIGN1cnJlbnQgdGltZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgZWxhcHNlZCB0aW1lIGZvciBpbnRlcnJ1cHRpb24uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZiA9IGJhc2U2NFRvQXJyYXlCdWZmZXIocGFyc2VkLmRlbHRhKTtcbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGF1ZGlvIGxlbmd0aCBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgICAgICAvLyBHQSBmb3JtYXQ6IHNlc3Npb24uYXVkaW8ub3V0cHV0LmZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIHsgdHlwZTogXCJhdWRpby9wY21cIiwgcmF0ZSB9IG9yIFwiYXVkaW8vcGNtdVwiIGV0Yy5cbiAgICAgICAgICAgICAgICBjb25zdCBmbXQgPSB0aGlzLl9yYXdTZXNzaW9uQ29uZmlnPy5hdWRpbz8ub3V0cHV0Py5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgaWYgKGZtdCAmJiB0eXBlb2YgZm10ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdHJ1Y3R1cmVkIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZm10LnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSAnYXVkaW8vcGNtdScgfHwgdCA9PT0gJ2F1ZGlvL3BjbWEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA4a0h6LCAxIGJ5dGUgcGVyIHNhbXBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyArPSBidWZmLmJ5dGVMZW5ndGggLyA4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHQgPT09ICdhdWRpby9wY20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRlID0gZm10LnJhdGUgPz8gMjQwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBieXRlcyAtPiBzYW1wbGVzICgyIGJ5dGVzIHBlciBzYW1wbGUpIC0+IG1zXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zICs9IChidWZmLmJ5dGVMZW5ndGggLyAyIC8gcmF0ZSkgKiAxMDAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgYXNzdW1wdGlvbiBzaW1pbGFyIHRvIGxlZ2FjeVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXVkaW9MZW5ndGhNcyArPSBidWZmLmJ5dGVMZW5ndGggLyAyNCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZtdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZtdC5zdGFydHNXaXRoKCdnNzExXycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0xlbmd0aE1zICs9IGJ1ZmYuYnl0ZUxlbmd0aCAvIDg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgMjRrSHogUENNMTZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgKz0gYnVmZi5ieXRlTGVuZ3RoIC8gMjQgLyAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIDI0a0h6IFBDTTE2IGJlaGF2aW9yIGlmIHVuc3BlY2lmaWVkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgKz0gYnVmZi5ieXRlTGVuZ3RoIC8gMjQgLyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhdWRpb0V2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBidWZmLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUlkOiBwYXJzZWQucmVzcG9uc2VfaWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkF1ZGlvKGF1ZGlvRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VkLnR5cGUgPT09ICdpbnB1dF9hdWRpb19idWZmZXIuc3BlZWNoX3N0YXJ0ZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXV0b21hdGljUmVzcG9uc2VDYW5jZWxsYXRpb25FbmFibGVkID0gdGhpcy5fcmF3U2Vzc2lvbkNvbmZpZz8uYXVkaW8/LmlucHV0Py50dXJuX2RldGVjdGlvblxuICAgICAgICAgICAgICAgICAgICA/LmludGVycnVwdF9yZXNwb25zZSA/PyBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVycnVwdCghYXV0b21hdGljUmVzcG9uc2VDYW5jZWxsYXRpb25FbmFibGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcnNlZC50eXBlID09PSAncmVzcG9uc2UuY3JlYXRlZCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNvbmdvaW5nUmVzcG9uc2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VkLnR5cGUgPT09ICdyZXNwb25zZS5kb25lJykge1xuICAgICAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VkLnR5cGUgPT09ICdzZXNzaW9uLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhY2luZ0NvbmZpZyA9IHBhcnNlZC5zZXNzaW9uLnRyYWNpbmc7XG4gICAgICAgICAgICAgICAgLy8gVHJ5aW5nIHRvIHR1cm4gb24gdHJhY2luZyBhZnRlciB0aGUgc2Vzc2lvbiBpcyBjcmVhdGVkXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVHJhY2luZ0NvbmZpZyhzZXNzaW9uQ29uZmlnLnRyYWNpbmcgPz8gJ2F1dG8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnZGlzY29ubmVjdGVkJyxcbiAgICAgICAgICAgICAgICB3ZWJzb2NrZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Nvbm5lY3Rpb25fY2hhbmdlJywgdGhpcy4jc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMuX29uQ2xvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGNvbm5lY3Qob3B0aW9ucykge1xuICAgICAgICBjb25zdCBtb2RlbCA9IG9wdGlvbnMubW9kZWwgPz8gdGhpcy5jdXJyZW50TW9kZWw7XG4gICAgICAgIHRoaXMuY3VycmVudE1vZGVsID0gbW9kZWw7XG4gICAgICAgIHRoaXMuI2FwaUtleSA9IGF3YWl0IHRoaXMuX2dldEFwaUtleShvcHRpb25zKTtcbiAgICAgICAgY29uc3QgdXJsID0gb3B0aW9ucy51cmwgPz9cbiAgICAgICAgICAgIHRoaXMuI3VybCA/P1xuICAgICAgICAgICAgYHdzczovL2FwaS5vcGVuYWkuY29tL3YxL3JlYWx0aW1lP21vZGVsPSR7dGhpcy5jdXJyZW50TW9kZWx9YDtcbiAgICAgICAgdGhpcy4jdXJsID0gdXJsO1xuICAgICAgICBjb25zdCBzZXNzaW9uQ29uZmlnID0ge1xuICAgICAgICAgICAgLi4uKG9wdGlvbnMuaW5pdGlhbFNlc3Npb25Db25maWcgfHwge30pLFxuICAgICAgICAgICAgbW9kZWw6IHRoaXMuY3VycmVudE1vZGVsLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuI3NldHVwV2ViU29ja2V0KHJlc29sdmUsIHJlamVjdCwgc2Vzc2lvbkNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVTZXNzaW9uQ29uZmlnKHNlc3Npb25Db25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGFuIGV2ZW50IHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgd2lsbCBzdHJpbmdpZnkgdGhlIGV2ZW50IGFuZCBzZW5kIGl0IGRpcmVjdGx5IHRvIHRoZVxuICAgICAqIEFQSS4gVGhpcyBjYW4gYmUgdXNlZCBpZiB5b3Ugd2FudCB0byB0YWtlIGNvbnRyb2wgb3ZlciB0aGUgY29ubmVjdGlvbiBhbmQgc2VuZCBldmVudHMgbWFudWFsbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gc2VuZC5cbiAgICAgKi9cbiAgICBzZW5kRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLiNzdGF0ZS53ZWJzb2NrZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IGlzIG5vdCBjb25uZWN0ZWQuIE1ha2Ugc3VyZSB5b3UgY2FsbCBgY29ubmVjdCgpYCBiZWZvcmUgc2VuZGluZyBldmVudHMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jc3RhdGUud2Vic29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoZXZlbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyB3aWxsIGFsc28gcmVzZXQgYW55IGludGVybmFsIGNvbm5lY3Rpb24gdHJhY2tpbmcgdXNlZCBmb3IgaW50ZXJydXB0aW9uIGhhbmRsaW5nLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLiNzdGF0ZS53ZWJzb2NrZXQ/LmNsb3NlKCk7XG4gICAgICAgIHRoaXMuI2N1cnJlbnRJdGVtSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgPSAwO1xuICAgICAgICB0aGlzLiNjdXJyZW50QXVkaW9Db250ZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpbGwgdGhyb3cgYW4gZXJyb3IgYXMgdGhlIFdlYlNvY2tldCB0cmFuc3BvcnQgbGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBtdXRpbmcuXG4gICAgICovXG4gICAgbXV0ZShfbXV0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXRlIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBXZWJTb2NrZXQgdHJhbnNwb3J0LiBZb3UgaGF2ZSB0byBtdXRlIHRoZSBhdWRpbyBpbnB1dCB5b3Vyc2VsZi4nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBhdWRpbyBidWZmZXIgdG8gdGhlIFJlYWx0aW1lIEFQSS4gVGhpcyBpcyB1c2VkIGZvciB5b3VyIGNsaWVudCB0byBzZW5kIGF1ZGlvIHRvIHRoZVxuICAgICAqIG1vZGVsIHRvIHJlc3BvbmQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXVkaW8gLSBUaGUgYXVkaW8gYnVmZmVyIHRvIHNlbmQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGF1ZGlvIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBzZW5kQXVkaW8oYXVkaW8sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy4jc3RhdGUuc3RhdHVzID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgc3VwZXIuc2VuZEF1ZGlvKGF1ZGlvLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGEgY2FuY2VsIHJlc3BvbnNlIGV2ZW50IHRvIHRoZSBSZWFsdGltZSBBUEkuIFRoaXMgaXMgdXNlZCB0byBjYW5jZWwgYW4gb25nb2luZ1xuICAgICAqICByZXNwb25zZSB0aGF0IHRoZSBtb2RlbCBpcyBjdXJyZW50bHkgZ2VuZXJhdGluZy5cbiAgICAgKi9cbiAgICBfY2FuY2VsUmVzcG9uc2UoKSB7XG4gICAgICAgIC8vIGNhbmNlbCB0aGUgb25nb2luZyByZXNwb25zZVxuICAgICAgICBpZiAodGhpcy4jb25nb2luZ1Jlc3BvbnNlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNhbmNlbCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuI29uZ29pbmdSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvIE5PVCBjYWxsIHRoaXMgbWV0aG9kIGRpcmVjdGx5LiBDYWxsIGBpbnRlcnJ1cHQoKWAgaW5zdGVhZCBmb3IgcHJvcGVyIGludGVycnVwdGlvbiBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gc2VuZCB0aGUgcmlnaHQgZXZlbnRzIHRvIHRoZSBBUEkgdG8gaW5mb3JtIHRoZSBtb2RlbCB0aGF0IHRoZSB1c2VyIGhhc1xuICAgICAqIGludGVycnVwdGVkIHRoZSByZXNwb25zZS4gSXQgbWlnaHQgYmUgb3ZlcnJpZGRlbi9leHRlbmRlZCBieSBhbiBleHRlbmRlZCB0cmFuc3BvcnQgbGF5ZXIuIFNlZVxuICAgICAqIHRoZSBgVHdpbGlvUmVhbHRpbWVUcmFuc3BvcnRMYXllcmAgZm9yIGFuIGV4YW1wbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxhcHNlZFRpbWUgLSBUaGUgZWxhcHNlZCB0aW1lIHNpbmNlIHRoZSByZXNwb25zZSBzdGFydGVkLlxuICAgICAqL1xuICAgIF9pbnRlcnJ1cHQoZWxhcHNlZFRpbWUsIGNhbmNlbE9uZ29pbmdSZXNwb25zZSA9IHRydWUpIHtcbiAgICAgICAgaWYgKGVsYXBzZWRUaW1lIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGVtaXQgdGhpcyBldmVudCBzbyB0aGUgY2xpZW50IGNhbiBzdG9wIHBsYXlpbmcgYXVkaW9cbiAgICAgICAgaWYgKGNhbmNlbE9uZ29pbmdSZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsUmVzcG9uc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLl9hdWRpb0xlbmd0aE1zID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgY29uc3QgYXVkaW9fZW5kX21zID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oTWF0aC5mbG9vcihlbGFwc2VkVGltZSksIGxlbmd0aCkpO1xuICAgICAgICB0aGlzLmVtaXQoJ2F1ZGlvX2ludGVycnVwdGVkJyk7XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICdjb252ZXJzYXRpb24uaXRlbS50cnVuY2F0ZScsXG4gICAgICAgICAgICBpdGVtX2lkOiB0aGlzLiNjdXJyZW50SXRlbUlkLFxuICAgICAgICAgICAgY29udGVudF9pbmRleDogdGhpcy4jY3VycmVudEF1ZGlvQ29udGVudEluZGV4LFxuICAgICAgICAgICAgYXVkaW9fZW5kX21zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJydXB0IHRoZSBvbmdvaW5nIHJlc3BvbnNlLiBUaGlzIG1ldGhvZCBpcyB0cmlnZ2VyZWQgYXV0b21hdGljYWxseSBieSB0aGUgY2xpZW50IHdoZW5cbiAgICAgKiB2b2ljZSBhY3Rpdml0eSBkZXRlY3Rpb24gKFZBRCkgaXMgZW5hYmxlZCAoZGVmYXVsdCkgYXMgd2VsbCBhcyB3aGVuIGFuIG91dHB1dCBndWFyZHJhaWwgZ290XG4gICAgICogdHJpZ2dlcmVkLlxuICAgICAqXG4gICAgICogWW91IGNhbiBhbHNvIGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkgaWYgeW91IHdhbnQgdG8gaW50ZXJydXB0IHRoZSBjb252ZXJzYXRpb24gZm9yIGV4YW1wbGVcbiAgICAgKiBiYXNlZCBvbiBhbiBldmVudCBpbiB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGludGVycnVwdChjYW5jZWxPbmdvaW5nUmVzcG9uc2UgPSB0cnVlKSB7XG4gICAgICAgIGlmICghdGhpcy4jY3VycmVudEl0ZW1JZCB8fCB0eXBlb2YgdGhpcy5fZmlyc3RBdWRpb1RpbWVzdGFtcCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IERhdGUubm93KCkgLSB0aGlzLl9maXJzdEF1ZGlvVGltZXN0YW1wO1xuICAgICAgICBpZiAoZWxhcHNlZFRpbWUgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJydXB0KGVsYXBzZWRUaW1lLCBjYW5jZWxPbmdvaW5nUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2N1cnJlbnRJdGVtSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2ZpcnN0QXVkaW9UaW1lc3RhbXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2F1ZGlvTGVuZ3RoTXMgPSAwO1xuICAgICAgICB0aGlzLiNjdXJyZW50QXVkaW9Db250ZW50SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3BlbmFpUmVhbHRpbWVXZWJzb2NrZXQubWpzLm1hcCIsImltcG9ydCB7IFVzZXJFcnJvciwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmV4cG9ydCBjb25zdCBCQUNLR1JPVU5EX1JFU1VMVF9TWU1CT0wgPSBTeW1ib2woJ2JhY2tncm91bmRSZXN1bHQnKTtcbmV4cG9ydCBmdW5jdGlvbiBiYWNrZ3JvdW5kUmVzdWx0KGNvbnRlbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBbQkFDS0dST1VORF9SRVNVTFRfU1lNQk9MXTogdHJ1ZSxcbiAgICAgICAgY29udGVudCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQmFja2dyb3VuZFJlc3VsdChyZXN1bHQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHJlc3VsdCAhPT0gbnVsbCAmJlxuICAgICAgICBCQUNLR1JPVU5EX1JFU1VMVF9TWU1CT0wgaW4gcmVzdWx0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkUmVhbHRpbWVUb29sKHRvb2wpIHtcbiAgICByZXR1cm4gKHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAodG9vbC50eXBlID09PSAnaG9zdGVkX3Rvb2wnICYmIHRvb2wubmFtZSA9PT0gJ2hvc3RlZF9tY3AnKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9SZWFsdGltZVRvb2xEZWZpbml0aW9uKHRvb2wpIHtcbiAgICBpZiAodG9vbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0b29sO1xuICAgIH1cbiAgICBpZiAodG9vbC50eXBlID09PSAnaG9zdGVkX3Rvb2wnICYmIHRvb2wubmFtZSA9PT0gJ2hvc3RlZF9tY3AnKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlclVybCA9IHRvb2wucHJvdmlkZXJEYXRhLnNlcnZlcl91cmwgJiYgdG9vbC5wcm92aWRlckRhdGEuc2VydmVyX3VybC5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IHRvb2wucHJvdmlkZXJEYXRhLnNlcnZlcl91cmxcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ21jcCcsXG4gICAgICAgICAgICBzZXJ2ZXJfbGFiZWw6IHRvb2wucHJvdmlkZXJEYXRhLnNlcnZlcl9sYWJlbCxcbiAgICAgICAgICAgIHNlcnZlcl91cmw6IHNlcnZlclVybCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRvb2wucHJvdmlkZXJEYXRhLmhlYWRlcnMsXG4gICAgICAgICAgICBhbGxvd2VkX3Rvb2xzOiB0b29sLnByb3ZpZGVyRGF0YS5hbGxvd2VkX3Rvb2xzLFxuICAgICAgICAgICAgcmVxdWlyZV9hcHByb3ZhbDogdG9vbC5wcm92aWRlckRhdGEucmVxdWlyZV9hcHByb3ZhbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFVzZXJFcnJvcihgSW52YWxpZCB0b29sIHR5cGU6ICR7dG9vbH1gKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvb2wubWpzLm1hcCIsImltcG9ydCB7IGdldEhhbmRvZmYsIGdldFRyYW5zZmVyTWVzc2FnZSwgTW9kZWxCZWhhdmlvckVycm9yLCBPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCwgUnVuQ29udGV4dCwgUnVuVG9vbEFwcHJvdmFsSXRlbSwgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlJztcbmltcG9ydCB7IFJ1bnRpbWVFdmVudEVtaXR0ZXIgfSBmcm9tICdAb3BlbmFpL2FnZW50cy1jb3JlL19zaGltcyc7XG5pbXBvcnQgeyBpc1pvZE9iamVjdCwgdG9TbWFydFN0cmluZyB9IGZyb20gJ0BvcGVuYWkvYWdlbnRzLWNvcmUvdXRpbHMnO1xuaW1wb3J0IHsgZGVmaW5lUmVhbHRpbWVPdXRwdXRHdWFyZHJhaWwsIGdldFJlYWx0aW1lR3VhcmRyYWlsRmVlZGJhY2tNZXNzYWdlLCBnZXRSZWFsdGltZUd1YXJkcmFpbFNldHRpbmdzLCB9IGZyb20gXCIuL2d1YXJkcmFpbC5tanNcIjtcbmltcG9ydCB7IE9wZW5BSVJlYWx0aW1lV2ViUlRDIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVXZWJSdGMubWpzXCI7XG5pbXBvcnQgeyBPcGVuQUlSZWFsdGltZVdlYlNvY2tldCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lV2Vic29ja2V0Lm1qc1wiO1xuaW1wb3J0IHsgYXBwcm92YWxJdGVtVG9SZWFsdGltZUFwcHJvdmFsSXRlbSwgZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlLCBoYXNXZWJSVENTdXBwb3J0LCByZWFsdGltZUFwcHJvdmFsSXRlbVRvQXBwcm92YWxJdGVtLCB1cGRhdGVSZWFsdGltZUhpc3RvcnksIH0gZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlci5tanNcIjtcbmltcG9ydCB7IGlzQmFja2dyb3VuZFJlc3VsdCwgaXNWYWxpZFJlYWx0aW1lVG9vbCwgdG9SZWFsdGltZVRvb2xEZWZpbml0aW9uLCB9IGZyb20gXCIuL3Rvb2wubWpzXCI7XG4vKipcbiAqIEEgYFJlYWx0aW1lU2Vzc2lvbmAgaXMgdGhlIGNvcm5lcnN0b25lIG9mIGJ1aWxkaW5nIFZvaWNlIEFnZW50cy4gSXQncyB0aGUgZXF1aXZhbGVudCBvZiBhXG4gKiBSdW5uZXIgaW4gdGV4dC1iYXNlZCBhZ2VudHMgZXhjZXB0IHRoYXQgaXQgYXV0b21hdGljYWxseSBoYW5kbGVzIG11bHRpcGxlIHR1cm5zIGJ5IG1haW50YWluaW5nIGFcbiAqIGNvbm5lY3Rpb24gd2l0aCB0aGUgdW5kZXJseWluZyB0cmFuc3BvcnQgbGF5ZXIuXG4gKlxuICogVGhlIHNlc3Npb24gaGFuZGxlcyBtYW5hZ2luZyB0aGUgbG9jYWwgaGlzdG9yeSBjb3B5LCBleGVjdXRlcyB0b29scywgcnVucyBvdXRwdXQgZ3VhcmRyYWlscywgYW5kXG4gKiBmYWNpbGl0YXRlcyBoYW5kb2Zmcy5cbiAqXG4gKiBUaGUgYWN0dWFsIGF1ZGlvIGhhbmRsaW5nIGFuZCBnZW5lcmF0aW9uIG9mIG1vZGVsIHJlc3BvbnNlcyBpcyBoYW5kbGVkIGJ5IHRoZSB1bmRlcmx5aW5nXG4gKiB0cmFuc3BvcnQgbGF5ZXIuIEJ5IGRlZmF1bHQgaWYgeW91IGFyZSB1c2luZyBhIGJyb3dzZXIgd2l0aCBXZWJSVEMgc3VwcG9ydCwgdGhlIHNlc3Npb24gd2lsbFxuICogYXV0b21hdGljYWxseSB1c2UgdGhlIFdlYlJUQyB2ZXJzaW9uIG9mIHRoZSBPcGVuQUkgUmVhbHRpbWUgQVBJLiBPbiB0aGUgc2VydmVyIG9yIGlmIHlvdSBwYXNzXG4gKiBgd2Vic29ja2V0YCBhcyB0aGUgdHJhbnNwb3J0IGxheWVyLCB0aGUgc2Vzc2lvbiB3aWxsIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gdXNpbmcgV2ViU29ja2V0cy5cbiAqXG4gKiBJbiB0aGUgY2FzZSBvZiBXZWJSVEMsIGluIHRoZSBicm93c2VyLCB0aGUgdHJhbnNwb3J0IGxheWVyIHdpbGwgYWxzbyBhdXRvbWF0aWNhbGx5IGNvbmZpZ3VyZSB0aGVcbiAqIG1pY3JvcGhvbmUgYW5kIGF1ZGlvIG91dHB1dCB0byBiZSB1c2VkIGJ5IHRoZSBzZXNzaW9uLlxuICpcbiAqIFlvdSBjYW4gYWxzbyBjcmVhdGUgYSB0cmFuc3BvcnQgbGF5ZXIgaW5zdGFuY2UgeW91cnNlbGYgYW5kIHBhc3MgaXQgaW4gdG8gaGF2ZSBtb3JlIGNvbnRyb2wgb3ZlclxuICogdGhlIGNvbmZpZ3VyYXRpb24gb3IgZXZlbiBleHRlbmQgdGhlIGV4aXN0aW5nIG9uZXMuIENoZWNrIG91dCB0aGUgYFR3aWxpb1JlYWx0aW1lVHJhbnNwb3J0TGF5ZXJgXG4gKiBmb3IgYW4gZXhhbXBsZSBvZiBob3cgdG8gY3JlYXRlIGEgY3VzdG9tIHRyYW5zcG9ydCBsYXllci5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGNvbnN0IGFnZW50ID0gbmV3IFJlYWx0aW1lQWdlbnQoe1xuICogICBuYW1lOiAnbXktYWdlbnQnLFxuICogICBpbnN0cnVjdGlvbnM6ICdZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQgdGhhdCBjYW4gYW5zd2VyIHF1ZXN0aW9ucyBhbmQgaGVscCB3aXRoIHRhc2tzLicsXG4gKiB9KVxuICpcbiAqIGNvbnN0IHNlc3Npb24gPSBuZXcgUmVhbHRpbWVTZXNzaW9uKGFnZW50KTtcbiAqIHNlc3Npb24uY29ubmVjdCh7XG4gKiAgIGFwaUtleTogJ3lvdXItYXBpLWtleScsXG4gKiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgUmVhbHRpbWVTZXNzaW9uIGV4dGVuZHMgUnVudGltZUV2ZW50RW1pdHRlciB7XG4gICAgaW5pdGlhbEFnZW50O1xuICAgIG9wdGlvbnM7XG4gICAgI3RyYW5zcG9ydDtcbiAgICAjY3VycmVudEFnZW50O1xuICAgICNjdXJyZW50VG9vbHM7XG4gICAgI2NvbnRleHQ7XG4gICAgI291dHB1dEd1YXJkcmFpbHMgPSBbXTtcbiAgICAjb3V0cHV0R3VhcmRyYWlsU2V0dGluZ3M7XG4gICAgI3RyYW5zY3JpYmVkVGV4dERlbHRhcyA9IHt9O1xuICAgICNoaXN0b3J5ID0gW107XG4gICAgI3Nob3VsZEluY2x1ZGVBdWRpb0RhdGE7XG4gICAgI2ludGVycnVwdGVkQnlHdWFyZHJhaWwgPSB7fTtcbiAgICAjYXVkaW9TdGFydGVkID0gZmFsc2U7XG4gICAgLy8gVHJhY2tzIGFsbCBNQ1AgdG9vbHMgZmV0Y2hlZCBwZXIgc2VydmVyIGxhYmVsIChmcm9tIG1jcF9saXN0X3Rvb2xzIHJlc3VsdHMpLlxuICAgICNhbGxNY3BUb29sc0J5U2VydmVyID0gbmV3IE1hcCgpO1xuICAgIC8vIFRyYWNrcyBjdXJyZW50bHkgYXZhaWxhYmxlIE1DUCB0b29scyBiYXNlZCBvbiB0aGUgYWN0aXZlIGFnZW50J3MgY29uZmlndXJlZCBzZXJ2ZXJfbGFiZWxzLlxuICAgICNhdmFpbGFibGVNY3BUb29scyA9IFtdO1xuICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSBsYXN0IGZ1bGwgc2Vzc2lvbiBjb25maWcgd2Ugc2VudCAoY2FtZWxDYXNlIGtleXMpIHNvIHRoYXRcbiAgICAvLyBzdWJzZXF1ZW50IHVwZGF0ZXMgKGUuZy4gZHVyaW5nIGFnZW50IGhhbmRvZmZzKSBwcmVzZXJ2ZSBwcm9wZXJ0aWVzIHRoYXQgYXJlXG4gICAgLy8gbm90IGV4cGxpY2l0bHkgcmVjYWxjdWxhdGVkIGhlcmUgKHN1Y2ggYXMgaW5wdXRBdWRpb0Zvcm1hdCwgb3V0cHV0QXVkaW9Gb3JtYXQsXG4gICAgLy8gbW9kYWxpdGllcywgc3BlZWQsIHRvb2xDaG9pY2UsIHR1cm5EZXRlY3Rpb24sIGV0Yy4pLiBXaXRob3V0IHRoaXMsIHVwZGF0aW5nXG4gICAgLy8gdGhlIGFnZW50IHdvdWxkIGRyb3AgYXVkaW8gZm9ybWF0IG92ZXJyaWRlcyAoZS5nLiBnNzExX3VsYXcpIGFuZCByZXZlcnQgdG9cbiAgICAvLyB0cmFuc3BvcnQgZGVmYXVsdHMgY2F1c2luZyBpc3N1ZXMgZm9yIGludGVncmF0aW9ucyBsaWtlIFR3aWxpby5cbiAgICAjbGFzdFNlc3Npb25Db25maWcgPSBudWxsO1xuICAgICNhdXRvbWF0aWNhbGx5VHJpZ2dlclJlc3BvbnNlRm9yTWNwVG9vbENhbGxzID0gdHJ1ZTtcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsQWdlbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmluaXRpYWxBZ2VudCA9IGluaXRpYWxBZ2VudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgaWYgKCh0eXBlb2Ygb3B0aW9ucy50cmFuc3BvcnQgPT09ICd1bmRlZmluZWQnICYmIGhhc1dlYlJUQ1N1cHBvcnQoKSkgfHxcbiAgICAgICAgICAgIG9wdGlvbnMudHJhbnNwb3J0ID09PSAnd2VicnRjJykge1xuICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0ID0gbmV3IE9wZW5BSVJlYWx0aW1lV2ViUlRDKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy50cmFuc3BvcnQgPT09ICd3ZWJzb2NrZXQnIHx8XG4gICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy50cmFuc3BvcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQgPSBuZXcgT3BlbkFJUmVhbHRpbWVXZWJTb2NrZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydCA9IG9wdGlvbnMudHJhbnNwb3J0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudCA9IGluaXRpYWxBZ2VudDtcbiAgICAgICAgdGhpcy4jY29udGV4dCA9IG5ldyBSdW5Db250ZXh0KHtcbiAgICAgICAgICAgIC4uLihvcHRpb25zLmNvbnRleHQgPz8ge30pLFxuICAgICAgICAgICAgaGlzdG9yeTogdGhpcy4jaGlzdG9yeSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI291dHB1dEd1YXJkcmFpbHMgPSAob3B0aW9ucy5vdXRwdXRHdWFyZHJhaWxzID8/IFtdKS5tYXAoZGVmaW5lUmVhbHRpbWVPdXRwdXRHdWFyZHJhaWwpO1xuICAgICAgICB0aGlzLiNvdXRwdXRHdWFyZHJhaWxTZXR0aW5ncyA9IGdldFJlYWx0aW1lR3VhcmRyYWlsU2V0dGluZ3Mob3B0aW9ucy5vdXRwdXRHdWFyZHJhaWxTZXR0aW5ncyA/PyB7fSk7XG4gICAgICAgIHRoaXMuI3Nob3VsZEluY2x1ZGVBdWRpb0RhdGEgPSBvcHRpb25zLmhpc3RvcnlTdG9yZUF1ZGlvID8/IGZhbHNlO1xuICAgICAgICB0aGlzLiNhdXRvbWF0aWNhbGx5VHJpZ2dlclJlc3BvbnNlRm9yTWNwVG9vbENhbGxzID1cbiAgICAgICAgICAgIG9wdGlvbnMuYXV0b21hdGljYWxseVRyaWdnZXJSZXNwb25zZUZvck1jcFRvb2xDYWxscyA/PyB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNwb3J0IGxheWVyIHVzZWQgYnkgdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IHRyYW5zcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RyYW5zcG9ydDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgYWdlbnQgaW4gdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IGN1cnJlbnRBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2N1cnJlbnRBZ2VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgdXNhZ2Ugb2YgdGhlIHNlc3Npb24uXG4gICAgICovXG4gICAgZ2V0IHVzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY29udGV4dC51c2FnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgY29udGV4dCBvZiB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBnZXQgY29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2NvbnRleHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHNlc3Npb24gaXMgbXV0ZWQuIE1pZ2h0IGJlIGBudWxsYCBpZiB0aGUgdW5kZXJseWluZyB0cmFuc3BvcnQgbGF5ZXIgZG9lcyBub3RcbiAgICAgKiBzdXBwb3J0IG11dGluZy5cbiAgICAgKi9cbiAgICBnZXQgbXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN0cmFuc3BvcnQubXV0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBoaXN0b3J5IG9mIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGdldCBoaXN0b3J5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jaGlzdG9yeTtcbiAgICB9XG4gICAgZ2V0IGF2YWlsYWJsZU1jcFRvb2xzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jYXZhaWxhYmxlTWNwVG9vbHM7XG4gICAgfVxuICAgIGFzeW5jICNzZXRDdXJyZW50QWdlbnQoYWdlbnQpIHtcbiAgICAgICAgdGhpcy4jY3VycmVudEFnZW50ID0gYWdlbnQ7XG4gICAgICAgIGNvbnN0IGhhbmRvZmZzID0gdGhpcy4jY3VycmVudEFnZW50LmhhbmRvZmZzLm1hcChnZXRIYW5kb2ZmKTtcbiAgICAgICAgY29uc3QgaGFuZG9mZlRvb2xzID0gaGFuZG9mZnMubWFwKChoYW5kb2ZmKSA9PiBoYW5kb2ZmLmdldEhhbmRvZmZBc0Z1bmN0aW9uVG9vbCgpKTtcbiAgICAgICAgY29uc3QgYWxsVG9vbHMgPSAoYXdhaXQgdGhpcy4jY3VycmVudEFnZW50LmdldEFsbFRvb2xzKHRoaXMuI2NvbnRleHQpKVxuICAgICAgICAgICAgLmZpbHRlcihpc1ZhbGlkUmVhbHRpbWVUb29sKVxuICAgICAgICAgICAgLm1hcCh0b1JlYWx0aW1lVG9vbERlZmluaXRpb24pO1xuICAgICAgICBjb25zdCBoYXNUb29sc0RlZmluZWQgPSB0eXBlb2YgdGhpcy4jY3VycmVudEFnZW50LnRvb2xzICE9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdHlwZW9mIHRoaXMuI2N1cnJlbnRBZ2VudC5tY3BTZXJ2ZXJzICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgY29uc3QgaGFzSGFuZG9mZnNEZWZpbmVkID0gaGFuZG9mZnMubGVuZ3RoID4gMDtcbiAgICAgICAgdGhpcy4jY3VycmVudFRvb2xzID1cbiAgICAgICAgICAgIGhhc1Rvb2xzRGVmaW5lZCB8fCBoYXNIYW5kb2Zmc0RlZmluZWRcbiAgICAgICAgICAgICAgICA/IFsuLi5hbGxUb29scywgLi4uaGFuZG9mZlRvb2xzXVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAvLyBSZWNvbXB1dGUgY3VycmVudGx5IGF2YWlsYWJsZSBNQ1AgdG9vbHMgYmFzZWQgb24gdGhlIG5ldyBhZ2VudCdzIGFjdGl2ZSBzZXJ2ZXIgbGFiZWxzLlxuICAgICAgICB0aGlzLiN1cGRhdGVBdmFpbGFibGVNY3BUb29scygpO1xuICAgIH1cbiAgICBhc3luYyAjZ2V0U2Vzc2lvbkNvbmZpZyhhZGRpdGlvbmFsQ29uZmlnID0ge30pIHtcbiAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gYXdhaXQgdGhpcy4jY3VycmVudEFnZW50LmdldFN5c3RlbVByb21wdCh0aGlzLiNjb250ZXh0KTtcbiAgICAgICAgY29uc3QgdHJhY2luZ0NvbmZpZyA9IHRoaXMub3B0aW9uc1xuICAgICAgICAgICAgLnRyYWNpbmdEaXNhYmxlZFxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IHRoaXMub3B0aW9ucy53b3JrZmxvd05hbWVcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgd29ya2Zsb3dfbmFtZTogdGhpcy5vcHRpb25zLndvcmtmbG93TmFtZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiAnYXV0byc7XG4gICAgICAgIGlmICh0cmFjaW5nQ29uZmlnICE9PSBudWxsICYmIHRyYWNpbmdDb25maWcgIT09ICdhdXRvJykge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ncm91cElkKSB7XG4gICAgICAgICAgICAgICAgdHJhY2luZ0NvbmZpZy5ncm91cF9pZCA9IHRoaXMub3B0aW9ucy5ncm91cElkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFjZU1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdHJhY2luZ0NvbmZpZy5tZXRhZGF0YSA9IHRoaXMub3B0aW9ucy50cmFjZU1ldGFkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5ncm91cElkIHx8IHRoaXMub3B0aW9ucy50cmFjZU1ldGFkYXRhKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignSW4gb3JkZXIgdG8gc2V0IHRyYWNlTWV0YWRhdGEgb3IgYSBncm91cElkIHlvdSBuZWVkIHRvIHNwZWNpZnkgYSB3b3JrZmxvd05hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnQgZnJvbSBhbnkgcHJldmlvdXNseS1zZW50IGNvbmZpZyAoc28gd2UgcHJlc2VydmUgdmFsdWVzIGxpa2UgYXVkaW8gZm9ybWF0cylcbiAgICAgICAgLy8gYW5kIHRoZSBvcmlnaW5hbCBvcHRpb25zLmNvbmZpZyBwcm92aWRlZCBieSB0aGUgdXNlci4gUHJlZmVyZW5jZSBvcmRlcjpcbiAgICAgICAgLy8gMS4gTGFzdCBzZXNzaW9uIGNvbmZpZyB3ZSBzZW50ICgjbGFzdFNlc3Npb25Db25maWcpXG4gICAgICAgIC8vIDIuIE9yaWdpbmFsIG9wdGlvbnMuY29uZmlnXG4gICAgICAgIC8vIDMuIEFkZGl0aW9uYWwgY29uZmlnIHBhc3NlZCBpbnRvIHRoaXMgaW52b2NhdGlvbiAoZXhwbGljaXQgb3ZlcnJpZGVzKVxuICAgICAgICAvLyBGaW5hbGx5IHdlIG92ZXJ3cml0ZSBkeW5hbWljIGZpZWxkcyAoaW5zdHJ1Y3Rpb25zLCB2b2ljZSwgbW9kZWwsIHRvb2xzLCB0cmFjaW5nKVxuICAgICAgICAvLyB0byBlbnN1cmUgdGhleSBhbHdheXMgcmVmbGVjdCB0aGUgY3VycmVudCBhZ2VudCAmIHJ1bnRpbWUgc3RhdGUuXG4gICAgICAgIGNvbnN0IGJhc2UgPSB7XG4gICAgICAgICAgICAuLi4odGhpcy4jbGFzdFNlc3Npb25Db25maWcgPz8ge30pLFxuICAgICAgICAgICAgLi4uKHRoaXMub3B0aW9ucy5jb25maWcgPz8ge30pLFxuICAgICAgICAgICAgLi4uKGFkZGl0aW9uYWxDb25maWcgPz8ge30pLFxuICAgICAgICB9O1xuICAgICAgICAvLyBOb3RlOiBDZXJ0YWluIGZpZWxkcyBjYW5ub3QgYmUgdXBkYXRlZCBhZnRlciB0aGUgc2Vzc2lvbiBiZWdpbnMsIHN1Y2ggYXMgdm9pY2UgYW5kIG1vZGVsXG4gICAgICAgIGNvbnN0IGZ1bGxDb25maWcgPSB7XG4gICAgICAgICAgICAuLi5iYXNlLFxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgICAgdm9pY2U6IHRoaXMuI2N1cnJlbnRBZ2VudC52b2ljZSxcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm9wdGlvbnMubW9kZWwsXG4gICAgICAgICAgICB0b29sczogdGhpcy4jY3VycmVudFRvb2xzLFxuICAgICAgICAgICAgdHJhY2luZzogdHJhY2luZ0NvbmZpZyxcbiAgICAgICAgICAgIHByb21wdDogdHlwZW9mIHRoaXMuI2N1cnJlbnRBZ2VudC5wcm9tcHQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IGF3YWl0IHRoaXMuI2N1cnJlbnRBZ2VudC5wcm9tcHQodGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KVxuICAgICAgICAgICAgICAgIDogdGhpcy4jY3VycmVudEFnZW50LnByb21wdCxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVXBkYXRlIG91ciBjYWNoZSBzbyBzdWJzZXF1ZW50IHVwZGF0ZXMgaW5oZXJpdCB0aGUgZnVsbCBzZXQgaW5jbHVkaW5nIGFueVxuICAgICAgICAvLyBkeW5hbWljIGZpZWxkcyB3ZSBqdXN0IG92ZXJ3cm90ZS5cbiAgICAgICAgdGhpcy4jbGFzdFNlc3Npb25Db25maWcgPSBmdWxsQ29uZmlnO1xuICAgICAgICByZXR1cm4gZnVsbENvbmZpZztcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlQWdlbnQobmV3QWdlbnQpIHtcbiAgICAgICAgdGhpcy4jY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X2hhbmRvZmYnLCB0aGlzLiNjb250ZXh0LCBuZXdBZ2VudCk7XG4gICAgICAgIHRoaXMuZW1pdCgnYWdlbnRfaGFuZG9mZicsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgbmV3QWdlbnQpO1xuICAgICAgICBhd2FpdCB0aGlzLiNzZXRDdXJyZW50QWdlbnQobmV3QWdlbnQpO1xuICAgICAgICBhd2FpdCB0aGlzLiN0cmFuc3BvcnQudXBkYXRlU2Vzc2lvbkNvbmZpZyhhd2FpdCB0aGlzLiNnZXRTZXNzaW9uQ29uZmlnKCkpO1xuICAgICAgICByZXR1cm4gbmV3QWdlbnQ7XG4gICAgfVxuICAgIGFzeW5jICNoYW5kbGVIYW5kb2ZmKHRvb2xDYWxsLCBoYW5kb2ZmKSB7XG4gICAgICAgIGNvbnN0IG5ld0FnZW50ID0gKGF3YWl0IGhhbmRvZmYub25JbnZva2VIYW5kb2ZmKHRoaXMuI2NvbnRleHQsIHRvb2xDYWxsLmFyZ3VtZW50cykpO1xuICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfaGFuZG9mZicsIHRoaXMuI2NvbnRleHQsIG5ld0FnZW50KTtcbiAgICAgICAgdGhpcy5lbWl0KCdhZ2VudF9oYW5kb2ZmJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50LCBuZXdBZ2VudCk7XG4gICAgICAgIC8vIHVwZGF0ZSBzZXNzaW9uIHdpdGggbmV3IGFnZW50XG4gICAgICAgIGF3YWl0IHRoaXMuI3NldEN1cnJlbnRBZ2VudChuZXdBZ2VudCk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3RyYW5zcG9ydC51cGRhdGVTZXNzaW9uQ29uZmlnKGF3YWl0IHRoaXMuI2dldFNlc3Npb25Db25maWcoKSk7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IGdldFRyYW5zZmVyTWVzc2FnZShuZXdBZ2VudCk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kRnVuY3Rpb25DYWxsT3V0cHV0KHRvb2xDYWxsLCBvdXRwdXQsIHRydWUpO1xuICAgICAgICByZXR1cm4gbmV3QWdlbnQ7XG4gICAgfVxuICAgIGFzeW5jICNoYW5kbGVGdW5jdGlvblRvb2xDYWxsKHRvb2xDYWxsLCB0b29sKSB7XG4gICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLiNoaXN0b3J5KSk7IC8vIGRlZXAgY29weSBvZiB0aGUgaGlzdG9yeVxuICAgICAgICBsZXQgcGFyc2VkQXJncyA9IHRvb2xDYWxsLmFyZ3VtZW50cztcbiAgICAgICAgaWYgKHRvb2wucGFyYW1ldGVycykge1xuICAgICAgICAgICAgaWYgKGlzWm9kT2JqZWN0KHRvb2wucGFyYW1ldGVycykpIHtcbiAgICAgICAgICAgICAgICBwYXJzZWRBcmdzID0gdG9vbC5wYXJhbWV0ZXJzLnBhcnNlKHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkQXJncyA9IEpTT04ucGFyc2UocGFyc2VkQXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmVlZHNBcHByb3ZhbCA9IGF3YWl0IHRvb2wubmVlZHNBcHByb3ZhbCh0aGlzLiNjb250ZXh0LCBwYXJzZWRBcmdzLCB0b29sQ2FsbC5jYWxsSWQpO1xuICAgICAgICBpZiAobmVlZHNBcHByb3ZhbCkge1xuICAgICAgICAgICAgY29uc3QgYXBwcm92YWwgPSB0aGlzLmNvbnRleHQuaXNUb29sQXBwcm92ZWQoe1xuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgY2FsbElkOiB0b29sQ2FsbC5jYWxsSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhcHByb3ZhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQsIHRvb2wsIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCB0aGlzLiNjb250ZXh0LCB0b29sLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9ICdUb29sIGV4ZWN1dGlvbiB3YXMgbm90IGFwcHJvdmVkLic7XG4gICAgICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRGdW5jdGlvbkNhbGxPdXRwdXQodG9vbENhbGwsIHJlc3VsdCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbCwgcmVzdWx0LCB7IHRvb2xDYWxsIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHRoaXMuI2NvbnRleHQsIHRvb2wsIHJlc3VsdCwge1xuICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXBwcm92YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b29sX2FwcHJvdmFsX3JlcXVlc3RlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb25fYXBwcm92YWwnLFxuICAgICAgICAgICAgICAgICAgICB0b29sLFxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbEl0ZW06IG5ldyBSdW5Ub29sQXBwcm92YWxJdGVtKHRvb2xDYWxsLCB0aGlzLiNjdXJyZW50QWdlbnQpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQsIHRvb2wsIHtcbiAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jY3VycmVudEFnZW50LmVtaXQoJ2FnZW50X3Rvb2xfc3RhcnQnLCB0aGlzLiNjb250ZXh0LCB0b29sLCB7XG4gICAgICAgICAgICB0b29sQ2FsbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLiNoaXN0b3J5KSk7IC8vIGRlZXAgY29weSBvZiB0aGUgaGlzdG9yeVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0b29sLmludm9rZSh0aGlzLiNjb250ZXh0LCB0b29sQ2FsbC5hcmd1bWVudHMsIHtcbiAgICAgICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHN0cmluZ1Jlc3VsdDtcbiAgICAgICAgaWYgKGlzQmFja2dyb3VuZFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBnZW5lcmF0ZSBhIG5ldyByZXNwb25zZSwganVzdCBzZW5kIHRoZSByZXN1bHRcbiAgICAgICAgICAgIHN0cmluZ1Jlc3VsdCA9IHRvU21hcnRTdHJpbmcocmVzdWx0LmNvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRGdW5jdGlvbkNhbGxPdXRwdXQodG9vbENhbGwsIHN0cmluZ1Jlc3VsdCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RyaW5nUmVzdWx0ID0gdG9TbWFydFN0cmluZyhyZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRGdW5jdGlvbkNhbGxPdXRwdXQodG9vbENhbGwsIHN0cmluZ1Jlc3VsdCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdhZ2VudF90b29sX2VuZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbCwgc3RyaW5nUmVzdWx0LCB7IHRvb2xDYWxsIH0pO1xuICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfdG9vbF9lbmQnLCB0aGlzLiNjb250ZXh0LCB0b29sLCBzdHJpbmdSZXN1bHQsIHsgdG9vbENhbGwgfSk7XG4gICAgfVxuICAgIGFzeW5jICNoYW5kbGVGdW5jdGlvbkNhbGwodG9vbENhbGwpIHtcbiAgICAgICAgY29uc3QgaGFuZG9mZk1hcCA9IG5ldyBNYXAodGhpcy4jY3VycmVudEFnZW50LmhhbmRvZmZzXG4gICAgICAgICAgICAubWFwKGdldEhhbmRvZmYpXG4gICAgICAgICAgICAubWFwKChoYW5kb2ZmKSA9PiBbaGFuZG9mZi50b29sTmFtZSwgaGFuZG9mZl0pKTtcbiAgICAgICAgY29uc3QgYWxsVG9vbHMgPSBhd2FpdCB0aGlzLiNjdXJyZW50QWdlbnQuZ2V0QWxsVG9vbHModGhpcy4jY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9uVG9vbE1hcCA9IG5ldyBNYXAoYWxsVG9vbHMubWFwKCh0b29sKSA9PiBbdG9vbC5uYW1lLCB0b29sXSkpO1xuICAgICAgICBjb25zdCBwb3NzaWJsZUhhbmRvZmYgPSBoYW5kb2ZmTWFwLmdldCh0b29sQ2FsbC5uYW1lKTtcbiAgICAgICAgaWYgKHBvc3NpYmxlSGFuZG9mZikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlSGFuZG9mZih0b29sQ2FsbCwgcG9zc2libGVIYW5kb2ZmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uVG9vbCA9IGZ1bmN0aW9uVG9vbE1hcC5nZXQodG9vbENhbGwubmFtZSk7XG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25Ub29sICYmIGZ1bmN0aW9uVG9vbC50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25Ub29sQ2FsbCh0b29sQ2FsbCwgZnVuY3Rpb25Ub29sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoYFRvb2wgJHt0b29sQ2FsbC5uYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyAjcnVuT3V0cHV0R3VhcmRyYWlscyhvdXRwdXQsIHJlc3BvbnNlSWQsIGl0ZW1JZCkge1xuICAgICAgICBpZiAodGhpcy4jb3V0cHV0R3VhcmRyYWlscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBndWFyZHJhaWxBcmdzID0ge1xuICAgICAgICAgICAgYWdlbnQ6IHRoaXMuI2N1cnJlbnRBZ2VudCxcbiAgICAgICAgICAgIGFnZW50T3V0cHV0OiBvdXRwdXQsXG4gICAgICAgICAgICBjb250ZXh0OiB0aGlzLiNjb250ZXh0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy4jb3V0cHV0R3VhcmRyYWlscy5tYXAoKGd1YXJkcmFpbCkgPT4gZ3VhcmRyYWlsLnJ1bihndWFyZHJhaWxBcmdzKSkpO1xuICAgICAgICBjb25zdCBmaXJzdFRyaXB3aXJlVHJpZ2dlcmVkID0gcmVzdWx0cy5maW5kKChyZXN1bHQpID0+IHJlc3VsdC5vdXRwdXQudHJpcHdpcmVUcmlnZ2VyZWQpO1xuICAgICAgICBpZiAoZmlyc3RUcmlwd2lyZVRyaWdnZXJlZCkge1xuICAgICAgICAgICAgLy8gdGhpcyBlbnN1cmVzIHRoYXQgaWYgb25lIGd1YXJkcmFpbCBhbHJlYWR5IHRyaXBzIGFuZCB3ZSBhcmUgaW4gdGhlIG1pZGRsZSBvZiBhbm90aGVyXG4gICAgICAgICAgICAvLyBndWFyZHJhaWwgcnVuLCB3ZSBkb24ndCB0cmlwIGFnYWluXG4gICAgICAgICAgICBpZiAodGhpcy4jaW50ZXJydXB0ZWRCeUd1YXJkcmFpbFtyZXNwb25zZUlkXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI2ludGVycnVwdGVkQnlHdWFyZHJhaWxbcmVzcG9uc2VJZF0gPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgT3V0cHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQoYE91dHB1dCBndWFyZHJhaWwgdHJpZ2dlcmVkOiAke0pTT04uc3RyaW5naWZ5KGZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQub3V0cHV0Lm91dHB1dEluZm8pfWAsIGZpcnN0VHJpcHdpcmVUcmlnZ2VyZWQpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdndWFyZHJhaWxfdHJpcHBlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgZXJyb3IsIHtcbiAgICAgICAgICAgICAgICBpdGVtSWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJydXB0KCk7XG4gICAgICAgICAgICBjb25zdCBmZWVkYmFja1RleHQgPSBnZXRSZWFsdGltZUd1YXJkcmFpbEZlZWRiYWNrTWVzc2FnZShmaXJzdFRyaXB3aXJlVHJpZ2dlcmVkKTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoZmVlZGJhY2tUZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignKicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd0cmFuc3BvcnRfZXZlbnQnLCBldmVudCk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgY29tcGxldGVkIHVzZXIgdHJhbnNjcmlwdGlvbiBldmVudHNcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAnY29udmVyc2F0aW9uLml0ZW0uaW5wdXRfYXVkaW9fdHJhbnNjcmlwdGlvbi5jb21wbGV0ZWQnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGxldGVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jaGlzdG9yeSA9IHVwZGF0ZVJlYWx0aW1lSGlzdG9yeSh0aGlzLiNoaXN0b3J5LCBjb21wbGV0ZWRFdmVudCwgdGhpcy4jc2hvdWxkSW5jbHVkZUF1ZGlvRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X3VwZGF0ZWQnLCB0aGlzLiNoaXN0b3J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbignbWNwX3Rvb2xzX2xpc3RlZCcsICh7IHNlcnZlckxhYmVsLCB0b29scyB9KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2FsbE1jcFRvb2xzQnlTZXJ2ZXIuc2V0KHNlcnZlckxhYmVsLCB0b29scyA/PyBbXSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jdXBkYXRlQXZhaWxhYmxlTWNwVG9vbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgeyB0eXBlOiAnZXJyb3InLCBlcnJvcjogZXJyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpbycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLiNhdWRpb1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNhdWRpb1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYXVkaW9fc3RhcnQnLCB0aGlzLiNjb250ZXh0LCB0aGlzLiNjdXJyZW50QWdlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpbycsIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbigndHVybl9zdGFydGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jYXVkaW9TdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X3N0YXJ0JywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KTtcbiAgICAgICAgICAgIHRoaXMuI2N1cnJlbnRBZ2VudC5lbWl0KCdhZ2VudF9zdGFydCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ3R1cm5fZG9uZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGV2ZW50LnJlc3BvbnNlLm91dHB1dFtldmVudC5yZXNwb25zZS5vdXRwdXQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjb25zdCB0ZXh0T3V0cHV0ID0gZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlKGl0ZW0pID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gaXRlbT8uaWQgPz8gJyc7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2FnZW50X2VuZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdGV4dE91dHB1dCk7XG4gICAgICAgICAgICB0aGlzLiNjdXJyZW50QWdlbnQuZW1pdCgnYWdlbnRfZW5kJywgdGhpcy4jY29udGV4dCwgdGV4dE91dHB1dCk7XG4gICAgICAgICAgICB0aGlzLiNydW5PdXRwdXRHdWFyZHJhaWxzKHRleHRPdXRwdXQsIGV2ZW50LnJlc3BvbnNlLmlkLCBpdGVtSWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpb19kb25lJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2F1ZGlvU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19zdG9wcGVkJywgdGhpcy4jY29udGV4dCwgdGhpcy4jY3VycmVudEFnZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBsYXN0UnVuSW5kZXggPSAwO1xuICAgICAgICBsZXQgbGFzdEl0ZW1JZDtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdhdWRpb190cmFuc2NyaXB0X2RlbHRhJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gZXZlbnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gZXZlbnQuaXRlbUlkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlSWQgPSBldmVudC5yZXNwb25zZUlkO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0SXRlbUlkICE9PSBpdGVtSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEl0ZW1JZCA9IGl0ZW1JZDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJ1bkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRleHQgPSB0aGlzLiN0cmFuc2NyaWJlZFRleHREZWx0YXNbaXRlbUlkXSA/PyAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUZXh0ID0gY3VycmVudFRleHQgKyBkZWx0YTtcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc2NyaWJlZFRleHREZWx0YXNbaXRlbUlkXSA9IG5ld1RleHQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI291dHB1dEd1YXJkcmFpbFNldHRpbmdzLmRlYm91bmNlVGV4dExlbmd0aCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdSdW5JbmRleCA9IE1hdGguZmxvb3IobmV3VGV4dC5sZW5ndGggLyB0aGlzLiNvdXRwdXRHdWFyZHJhaWxTZXR0aW5ncy5kZWJvdW5jZVRleHRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdSdW5JbmRleCA+IGxhc3RSdW5JbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UnVuSW5kZXggPSBuZXdSdW5JbmRleDtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgY2FuY2VsIGV4aXN0aW5nIHJ1bnMgYmVjYXVzZSB3ZSB3YW50IHRoZSBmaXJzdCBvbmUgdG8gZmFpbCB0byBmYWlsXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc3BvcnQgbGF5ZXIgc2hvdWxkIHVwb24gZmFpbHVyZSBoYW5kbGUgdGhlIGludGVycnVwdGlvbiBhbmQgc3RvcCB0aGUgbW9kZWxcbiAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSBnZW5lcmF0aW5nIGZ1cnRoZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcnVuT3V0cHV0R3VhcmRyYWlscyhuZXdUZXh0LCByZXNwb25zZUlkLCBpdGVtSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdpdGVtX3VwZGF0ZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpc05ldyA9ICF0aGlzLiNoaXN0b3J5LnNvbWUoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkID09PSBldmVudC5pdGVtSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2hpc3RvcnkgPSB1cGRhdGVSZWFsdGltZUhpc3RvcnkodGhpcy4jaGlzdG9yeSwgZXZlbnQsIHRoaXMuI3Nob3VsZEluY2x1ZGVBdWRpb0RhdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkZWRJdGVtID0gdGhpcy4jaGlzdG9yeS5maW5kKChpdGVtKSA9PiBpdGVtLml0ZW1JZCA9PT0gZXZlbnQuaXRlbUlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkZGVkSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X2FkZGVkJywgYWRkZWRJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2hpc3RvcnlfdXBkYXRlZCcsIHRoaXMuI2hpc3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2l0ZW1fZGVsZXRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNoaXN0b3J5ID0gdGhpcy4jaGlzdG9yeS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaXRlbUlkICE9PSBldmVudC5pdGVtSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuI2NvbnRleHQuY29udGV4dC5oaXN0b3J5ID0gdGhpcy4jaGlzdG9yeTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2hpc3RvcnlfdXBkYXRlZCcsIHRoaXMuI2hpc3RvcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2Z1bmN0aW9uX2NhbGwnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25DYWxsKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgaGFuZGxpbmcgZnVuY3Rpb24gY2FsbCcsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5vbigndXNhZ2VfdXBkYXRlJywgKHVzYWdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNjb250ZXh0LnVzYWdlLmFkZCh1c2FnZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2F1ZGlvX2ludGVycnVwdGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1ZGlvU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI2F1ZGlvU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdhdWRpb19pbnRlcnJ1cHRlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0Lm9uKCdtY3BfdG9vbF9jYWxsX2NvbXBsZXRlZCcsICh0b29sQ2FsbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbF9jYWxsX2NvbXBsZXRlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwgdG9vbENhbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuI2F1dG9tYXRpY2FsbHlUcmlnZ2VyUmVzcG9uc2VGb3JNY3BUb29sQ2FsbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlLmNyZWF0ZScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQub24oJ21jcF9hcHByb3ZhbF9yZXF1ZXN0JywgKGFwcHJvdmFsUmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd0b29sX2FwcHJvdmFsX3JlcXVlc3RlZCcsIHRoaXMuI2NvbnRleHQsIHRoaXMuI2N1cnJlbnRBZ2VudCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtY3BfYXBwcm92YWxfcmVxdWVzdCcsXG4gICAgICAgICAgICAgICAgYXBwcm92YWxJdGVtOiByZWFsdGltZUFwcHJvdmFsSXRlbVRvQXBwcm92YWxJdGVtKHRoaXMuI2N1cnJlbnRBZ2VudCwgYXBwcm92YWxSZXF1ZXN0KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb21wdXRlcyB0aGUgY3VycmVudGx5IGF2YWlsYWJsZSBNQ1AgdG9vbHMgYmFzZWQgb24gdGhlIGN1cnJlbnQgYWdlbnQncyBhY3RpdmVcbiAgICAgKiBNQ1Agc2VydmVyIGNvbmZpZ3VyYXRpb25zIGFuZCB0aGUgY2FjaGVkIHBlci1zZXJ2ZXIgdG9vbCBsaXN0aW5ncy4gRW1pdHNcbiAgICAgKiBgbWNwX3Rvb2xzX2NoYW5nZWRgIGlmIHRoZSBzZXQgY2hhbmdlZC5cbiAgICAgKi9cbiAgICAjdXBkYXRlQXZhaWxhYmxlTWNwVG9vbHMoKSB7XG4gICAgICAgIC8vIENvbGxlY3QgYWN0aXZlIE1DUCBzZXJ2ZXIgbGFiZWxzIGFuZCBvcHRpb25hbCBhbGxvd2VkIGZpbHRlcnMgZnJvbSB0aGUgY3VycmVudCBhZ2VudFxuICAgICAgICBjb25zdCBhY3RpdmVNY3BDb25maWdzID0gdGhpcy4jY3VycmVudFRvb2xzPy5maWx0ZXIoKHQpID0+IHQudHlwZSA9PT0gJ21jcCcpO1xuICAgICAgICBjb25zdCBhbGxvd2VkRnJvbUNvbmZpZyA9IChjZmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFsbG93ZWQgPSBjZmcuYWxsb3dlZF90b29scztcbiAgICAgICAgICAgIGlmICghYWxsb3dlZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYWxsb3dlZCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWQ7XG4gICAgICAgICAgICBpZiAoYWxsb3dlZCAmJiBBcnJheS5pc0FycmF5KGFsbG93ZWQudG9vbF9uYW1lcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbG93ZWQudG9vbF9uYW1lcztcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRlZHVwQnlOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGNmZyBvZiBhY3RpdmVNY3BDb25maWdzKSB7XG4gICAgICAgICAgICBjb25zdCB0b29scyA9IHRoaXMuI2FsbE1jcFRvb2xzQnlTZXJ2ZXIuZ2V0KGNmZy5zZXJ2ZXJfbGFiZWwpID8/IFtdO1xuICAgICAgICAgICAgY29uc3QgYWxsb3dlZCA9IGFsbG93ZWRGcm9tQ29uZmlnKGNmZyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZCAmJiAhYWxsb3dlZC5pbmNsdWRlcyh0b29sLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZHVwQnlOYW1lLmhhcyh0b29sLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZHVwQnlOYW1lLnNldCh0b29sLm5hbWUsIHRvb2wpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0ID0gQXJyYXkuZnJvbShkZWR1cEJ5TmFtZS52YWx1ZXMoKSk7XG4gICAgICAgIGNvbnN0IHByZXYgPSB0aGlzLiNhdmFpbGFibGVNY3BUb29scztcbiAgICAgICAgY29uc3QgY2hhbmdlZCA9IHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCB8fFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJldi5tYXAoKHQpID0+IHQubmFtZSkuc29ydCgpKSAhPT1cbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuZXh0Lm1hcCgodCkgPT4gdC5uYW1lKS5zb3J0KCkpO1xuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy4jYXZhaWxhYmxlTWNwVG9vbHMgPSBuZXh0O1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtY3BfdG9vbHNfY2hhbmdlZCcsIHRoaXMuI2F2YWlsYWJsZU1jcFRvb2xzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIHRoZSBzZXNzaW9uLiBUaGlzIHdpbGwgZXN0YWJsaXNoIHRoZSBjb25uZWN0aW9uIHRvIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydCBsYXllclxuICAgICAqIGFuZCBzdGFydCB0aGUgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIEFmdGVyIGNvbm5lY3RpbmcsIHRoZSBzZXNzaW9uIHdpbGwgYWxzbyBlbWl0IGEgYGhpc3RvcnlfdXBkYXRlZGAgZXZlbnQgd2l0aCBhbiBlbXB0eSBoaXN0b3J5LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdChvcHRpb25zKSB7XG4gICAgICAgIC8vIG1ha2VzIHN1cmUgdGhlIGN1cnJlbnQgYWdlbnQgaXMgY29ycmVjdGx5IHNldCBhbmQgbG9hZHMgdGhlIHRvb2xzXG4gICAgICAgIGF3YWl0IHRoaXMuI3NldEN1cnJlbnRBZ2VudCh0aGlzLmluaXRpYWxBZ2VudCk7XG4gICAgICAgIHRoaXMuI3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuI3RyYW5zcG9ydC5jb25uZWN0KHtcbiAgICAgICAgICAgIGFwaUtleTogb3B0aW9ucy5hcGlLZXkgPz8gdGhpcy5vcHRpb25zLmFwaUtleSxcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLm9wdGlvbnMubW9kZWwsXG4gICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgICAgICAgaW5pdGlhbFNlc3Npb25Db25maWc6IGF3YWl0IHRoaXMuI2dldFNlc3Npb25Db25maWcodGhpcy5vcHRpb25zLmNvbmZpZyksXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBFbnN1cmUgdGhlIGNhY2hlZCBsYXN0U2Vzc2lvbkNvbmZpZyBpbmNsdWRlcyBldmVyeXRoaW5nIHBhc3NlZCBhcyB0aGUgaW5pdGlhbCBzZXNzaW9uIGNvbmZpZ1xuICAgICAgICAvLyAodGhlIGNhbGwgYWJvdmUgYWxyZWFkeSBzZXQgaXQgdmlhICNnZXRTZXNzaW9uQ29uZmlnIGJ1dCBpbiBjYXNlIGFkZGl0aW9uYWwgb3ZlcnJpZGVzIHdlcmVcbiAgICAgICAgLy8gcGFzc2VkIGRpcmVjdGx5IGhlcmUgaW4gdGhlIGZ1dHVyZSB3ZSBjb3VsZCBtZXJnZSB0aGVtKS4gRm9yIG5vdyBpdCdzIGEgbm8tb3AuXG4gICAgICAgIHRoaXMuI2hpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5lbWl0KCdoaXN0b3J5X3VwZGF0ZWQnLCB0aGlzLiNoaXN0b3J5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBoaXN0b3J5IG9mIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBuZXdIaXN0b3J5IC0gVGhlIG5ldyBoaXN0b3J5IHRvIHNldC5cbiAgICAgKi9cbiAgICB1cGRhdGVIaXN0b3J5KG5ld0hpc3RvcnkpIHtcbiAgICAgICAgbGV0IHVwZGF0ZWRIaXN0b3J5O1xuICAgICAgICBpZiAodHlwZW9mIG5ld0hpc3RvcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHVwZGF0ZWRIaXN0b3J5ID0gbmV3SGlzdG9yeSh0aGlzLiNoaXN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZWRIaXN0b3J5ID0gbmV3SGlzdG9yeTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiN0cmFuc3BvcnQucmVzZXRIaXN0b3J5KHRoaXMuI2hpc3RvcnksIHVwZGF0ZWRIaXN0b3J5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIHNlc3Npb24uXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvdGhlckV2ZW50RGF0YSAtIEFkZGl0aW9uYWwgZXZlbnQgZGF0YSB0byBzZW5kLlxuICAgICAqL1xuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UsIG90aGVyRXZlbnREYXRhID0ge30pIHtcbiAgICAgICAgdGhpcy4jdHJhbnNwb3J0LnNlbmRNZXNzYWdlKG1lc3NhZ2UsIG90aGVyRXZlbnREYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGltYWdlIHRvIHRoZSBzZXNzaW9uXG4gICAgICogQHBhcmFtIGltYWdlIC0gVGhlIGltYWdlIHRvIGFkZC5cbiAgICAgKi9cbiAgICBhZGRJbWFnZShpbWFnZSwgeyB0cmlnZ2VyUmVzcG9uc2UgPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuYWRkSW1hZ2UoaW1hZ2UsIHsgdHJpZ2dlclJlc3BvbnNlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdXRlIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBtdXRlZCAtIFdoZXRoZXIgdG8gbXV0ZSB0aGUgc2Vzc2lvbi5cbiAgICAgKi9cbiAgICBtdXRlKG11dGVkKSB7XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5tdXRlKG11dGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCBmcm9tIHRoZSBzZXNzaW9uLlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLiNpbnRlcnJ1cHRlZEJ5R3VhcmRyYWlsID0ge307XG4gICAgICAgIHRoaXMuI3RyYW5zcG9ydC5jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIGF1ZGlvIHRvIHRoZSBzZXNzaW9uLlxuICAgICAqIEBwYXJhbSBhdWRpbyAtIFRoZSBhdWRpbyB0byBzZW5kLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNvbW1pdCAtIFdoZXRoZXIgdG8gZmluaXNoIHRoZSB0dXJuIHdpdGggdGhpcyBhdWRpby5cbiAgICAgKi9cbiAgICBzZW5kQXVkaW8oYXVkaW8sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuc2VuZEF1ZGlvKGF1ZGlvLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJydXB0IHRoZSBzZXNzaW9uIGFydGlmaWNpYWxseSBmb3IgZXhhbXBsZSBpZiB5b3Ugd2FudCB0byBidWlsZCBhIFwic3RvcCB0YWxraW5nXCJcbiAgICAgKiBidXR0b24uXG4gICAgICovXG4gICAgaW50ZXJydXB0KCkge1xuICAgICAgICB0aGlzLiN0cmFuc3BvcnQuaW50ZXJydXB0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcHJvdmUgYSB0b29sIGNhbGwuIFRoaXMgd2lsbCBhbHNvIHRyaWdnZXIgdGhlIHRvb2wgY2FsbCB0byB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSBhcHByb3ZhbCBpdGVtIHRvIGFwcHJvdmUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYWx3YXlzQXBwcm92ZSAtIFdoZXRoZXIgdG8gYWx3YXlzIGFwcHJvdmUgdGhlIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyBhcHByb3ZlKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyA9IHsgYWx3YXlzQXBwcm92ZTogZmFsc2UgfSkge1xuICAgICAgICB0aGlzLiNjb250ZXh0LmFwcHJvdmVUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHRvb2wgPSB0aGlzLiNjdXJyZW50QWdlbnQudG9vbHMuZmluZCgodG9vbCkgPT4gdG9vbC5uYW1lID09PSBhcHByb3ZhbEl0ZW0ucmF3SXRlbS5uYW1lKTtcbiAgICAgICAgaWYgKHRvb2wgJiZcbiAgICAgICAgICAgIHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgYXBwcm92YWxJdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLiNoYW5kbGVGdW5jdGlvblRvb2xDYWxsKGFwcHJvdmFsSXRlbS5yYXdJdGVtLCB0b29sKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcHByb3ZhbEl0ZW0ucmF3SXRlbS50eXBlID09PSAnaG9zdGVkX3Rvb2xfY2FsbCcpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFsd2F5c0FwcHJvdmUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybignQWx3YXlzIGFwcHJvdmluZyBNQ1AgdG9vbHMgaXMgbm90IHN1cHBvcnRlZC4gVXNlIHRoZSBhbGxvd2VkIHRvb2xzIGNvbmZpZ3VyYXRpb24gaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1jcEFwcHJvdmFsUmVxdWVzdCA9IGFwcHJvdmFsSXRlbVRvUmVhbHRpbWVBcHByb3ZhbEl0ZW0oYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kTWNwUmVzcG9uc2UobWNwQXBwcm92YWxSZXF1ZXN0LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNb2RlbEJlaGF2aW9yRXJyb3IoYFRvb2wgJHthcHByb3ZhbEl0ZW0ucmF3SXRlbS5uYW1lfSBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3QgYSB0b29sIGNhbGwuIFRoaXMgd2lsbCBhbHNvIHRyaWdnZXIgdGhlIHRvb2wgY2FsbCB0byB0aGUgYWdlbnQuXG4gICAgICogQHBhcmFtIGFwcHJvdmFsSXRlbSAtIFRoZSBhcHByb3ZhbCBpdGVtIHRvIHJlamVjdC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hbHdheXNSZWplY3QgLSBXaGV0aGVyIHRvIGFsd2F5cyByZWplY3QgdGhlIHRvb2wgY2FsbC5cbiAgICAgKi9cbiAgICBhc3luYyByZWplY3QoYXBwcm92YWxJdGVtLCBvcHRpb25zID0geyBhbHdheXNSZWplY3Q6IGZhbHNlIH0pIHtcbiAgICAgICAgdGhpcy4jY29udGV4dC5yZWplY3RUb29sKGFwcHJvdmFsSXRlbSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIHdlIHN0aWxsIG5lZWQgdG8gc2ltdWxhdGUgYSB0b29sIGNhbGwgdG8gdGhlIGFnZW50IHRvIGxldCB0aGUgYWdlbnQga25vd1xuICAgICAgICBjb25zdCB0b29sID0gdGhpcy4jY3VycmVudEFnZW50LnRvb2xzLmZpbmQoKHRvb2wpID0+IHRvb2wubmFtZSA9PT0gYXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZSk7XG4gICAgICAgIGlmICh0b29sICYmXG4gICAgICAgICAgICB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIGFwcHJvdmFsSXRlbS5yYXdJdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlRnVuY3Rpb25Ub29sQ2FsbChhcHByb3ZhbEl0ZW0ucmF3SXRlbSwgdG9vbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXBwcm92YWxJdGVtLnJhd0l0ZW0udHlwZSA9PT0gJ2hvc3RlZF90b29sX2NhbGwnKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbHdheXNSZWplY3QpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIud2FybignQWx3YXlzIHJlamVjdGluZyBNQ1AgdG9vbHMgaXMgbm90IHN1cHBvcnRlZC4gVXNlIHRoZSBhbGxvd2VkIHRvb2xzIGNvbmZpZ3VyYXRpb24gaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1jcEFwcHJvdmFsUmVxdWVzdCA9IGFwcHJvdmFsSXRlbVRvUmVhbHRpbWVBcHByb3ZhbEl0ZW0oYXBwcm92YWxJdGVtKTtcbiAgICAgICAgICAgIHRoaXMuI3RyYW5zcG9ydC5zZW5kTWNwUmVzcG9uc2UobWNwQXBwcm92YWxSZXF1ZXN0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTW9kZWxCZWhhdmlvckVycm9yKGBUb29sICR7YXBwcm92YWxJdGVtLnJhd0l0ZW0ubmFtZX0gbm90IGZvdW5kYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFsdGltZVNlc3Npb24ubWpzLm1hcCIsImltcG9ydCAqIGFzIHV0aWxJbXBvcnQgZnJvbSBcIi4vdXRpbHMubWpzXCI7XG5leHBvcnQgeyBSZWFsdGltZUFnZW50IH0gZnJvbSBcIi4vcmVhbHRpbWVBZ2VudC5tanNcIjtcbmV4cG9ydCB7IFJlYWx0aW1lU2Vzc2lvbiwgfSBmcm9tIFwiLi9yZWFsdGltZVNlc3Npb24ubWpzXCI7XG5leHBvcnQgeyBPcGVuQUlSZWFsdGltZVdlYlJUQywgfSBmcm9tIFwiLi9vcGVuYWlSZWFsdGltZVdlYlJ0Yy5tanNcIjtcbmV4cG9ydCB7IE9wZW5BSVJlYWx0aW1lV2ViU29ja2V0LCB9IGZyb20gXCIuL29wZW5haVJlYWx0aW1lV2Vic29ja2V0Lm1qc1wiO1xuZXhwb3J0IHsgT3BlbkFJUmVhbHRpbWVCYXNlLCBERUZBVUxUX09QRU5BSV9SRUFMVElNRV9NT0RFTCwgREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUcsIH0gZnJvbSBcIi4vb3BlbmFpUmVhbHRpbWVCYXNlLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHV0aWxzID0ge1xuICAgIGJhc2U2NFRvQXJyYXlCdWZmZXI6IHV0aWxJbXBvcnQuYmFzZTY0VG9BcnJheUJ1ZmZlcixcbiAgICBhcnJheUJ1ZmZlclRvQmFzZTY0OiB1dGlsSW1wb3J0LmFycmF5QnVmZmVyVG9CYXNlNjQsXG4gICAgZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlOiB1dGlsSW1wb3J0LmdldExhc3RUZXh0RnJvbUF1ZGlvT3V0cHV0TWVzc2FnZSxcbn07XG5leHBvcnQgeyBNb2RlbEJlaGF2aW9yRXJyb3IsIE91dHB1dEd1YXJkcmFpbFRyaXB3aXJlVHJpZ2dlcmVkLCB0b29sLCBVc2VyRXJyb3IsIH0gZnJvbSAnQG9wZW5haS9hZ2VudHMtY29yZSc7XG5leHBvcnQgeyBiYWNrZ3JvdW5kUmVzdWx0LCBpc0JhY2tncm91bmRSZXN1bHQgfSBmcm9tIFwiLi90b29sLm1qc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6WyJNRVRBREFUQSIsInNhZmVFeGVjdXRlIiwiZm4iLCJlcnJvciIsIm1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0IiwicmVzcG9uc2VfZm9ybWF0IiwicGFyc2VyIiwib2JqIiwiaWdub3JlT3ZlcnJpZGUiLCJkZWZhdWx0T3B0aW9ucyIsImdldERlZmF1bHRPcHRpb25zIiwib3B0aW9ucyIsInpvZERlZiIsInpvZFNjaGVtYSIsImlzRW1wdHlPYmoiLCJfayIsImdldFJlZnMiLCJfb3B0aW9ucyIsImN1cnJlbnRQYXRoIiwibmFtZSIsImRlZiIsImFkZEVycm9yTWVzc2FnZSIsInJlcyIsImtleSIsImVycm9yTWVzc2FnZSIsInJlZnMiLCJzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIiwidmFsdWUiLCJ1dGlsIiwiXyIsImFzc2VydElzIiwiX2FyZyIsImFzc2VydE5ldmVyIiwiX3giLCJpdGVtcyIsIml0ZW0iLCJ2YWxpZEtleXMiLCJrIiwiZmlsdGVyZWQiLCJlIiwib2JqZWN0Iiwia2V5cyIsImFyciIsImNoZWNrZXIiLCJ2YWwiLCJqb2luVmFsdWVzIiwiYXJyYXkiLCJzZXBhcmF0b3IiLCJvYmplY3RVdGlsIiwiZmlyc3QiLCJzZWNvbmQiLCJab2RQYXJzZWRUeXBlIiwiZ2V0UGFyc2VkVHlwZSIsImRhdGEiLCJab2RJc3N1ZUNvZGUiLCJab2RFcnJvciIsImlzc3VlcyIsInN1YiIsInN1YnMiLCJhY3R1YWxQcm90byIsIl9tYXBwZXIiLCJtYXBwZXIiLCJpc3N1ZSIsImZpZWxkRXJyb3JzIiwicHJvY2Vzc0Vycm9yIiwiY3VyciIsImkiLCJlbCIsImZvcm1FcnJvcnMiLCJlcnJvck1hcCIsIl9jdHgiLCJtZXNzYWdlIiwib3ZlcnJpZGVFcnJvck1hcCIsImRlZmF1bHRFcnJvck1hcCIsImdldEVycm9yTWFwIiwibWFrZUlzc3VlIiwicGFyYW1zIiwicGF0aCIsImVycm9yTWFwcyIsImlzc3VlRGF0YSIsImZ1bGxQYXRoIiwiZnVsbElzc3VlIiwibWFwcyIsIm0iLCJtYXAiLCJhZGRJc3N1ZVRvQ29udGV4dCIsImN0eCIsIm92ZXJyaWRlTWFwIiwieCIsIlBhcnNlU3RhdHVzIiwic3RhdHVzIiwicmVzdWx0cyIsImFycmF5VmFsdWUiLCJJTlZBTElEIiwicGFpcnMiLCJzeW5jUGFpcnMiLCJwYWlyIiwiZmluYWxPYmplY3QiLCJESVJUWSIsIk9LIiwiaXNBYm9ydGVkIiwiaXNEaXJ0eSIsImlzVmFsaWQiLCJpc0FzeW5jIiwiZXJyb3JVdGlsIiwiUGFyc2VJbnB1dExhenlQYXRoIiwicGFyZW50IiwiaGFuZGxlUmVzdWx0IiwicmVzdWx0IiwicHJvY2Vzc0NyZWF0ZVBhcmFtcyIsImludmFsaWRfdHlwZV9lcnJvciIsInJlcXVpcmVkX2Vycm9yIiwiZGVzY3JpcHRpb24iLCJpc3MiLCJab2RUeXBlIiwiaW5wdXQiLCJlcnIiLCJfYiIsIl9hIiwibWF5YmVBc3luY1Jlc3VsdCIsImNoZWNrIiwiZ2V0SXNzdWVQcm9wZXJ0aWVzIiwic2V0RXJyb3IiLCJyZWZpbmVtZW50RGF0YSIsInJlZmluZW1lbnQiLCJab2RFZmZlY3RzIiwiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwiWm9kT3B0aW9uYWwiLCJab2ROdWxsYWJsZSIsIlpvZEFycmF5IiwiWm9kUHJvbWlzZSIsIm9wdGlvbiIsIlpvZFVuaW9uIiwiaW5jb21pbmciLCJab2RJbnRlcnNlY3Rpb24iLCJ0cmFuc2Zvcm0iLCJkZWZhdWx0VmFsdWVGdW5jIiwiWm9kRGVmYXVsdCIsIlpvZEJyYW5kZWQiLCJjYXRjaFZhbHVlRnVuYyIsIlpvZENhdGNoIiwiVGhpcyIsInRhcmdldCIsIlpvZFBpcGVsaW5lIiwiWm9kUmVhZG9ubHkiLCJjdWlkUmVnZXgiLCJjdWlkMlJlZ2V4IiwidWxpZFJlZ2V4IiwidXVpZFJlZ2V4IiwibmFub2lkUmVnZXgiLCJqd3RSZWdleCIsImR1cmF0aW9uUmVnZXgiLCJlbWFpbFJlZ2V4IiwiX2Vtb2ppUmVnZXgiLCJlbW9qaVJlZ2V4IiwiaXB2NFJlZ2V4IiwiaXB2NENpZHJSZWdleCIsImlwdjZSZWdleCIsImlwdjZDaWRyUmVnZXgiLCJiYXNlNjRSZWdleCIsImJhc2U2NHVybFJlZ2V4IiwiZGF0ZVJlZ2V4U291cmNlIiwiZGF0ZVJlZ2V4IiwidGltZVJlZ2V4U291cmNlIiwiYXJncyIsInNlY29uZHNSZWdleFNvdXJjZSIsInNlY29uZHNRdWFudGlmaWVyIiwidGltZVJlZ2V4IiwiZGF0ZXRpbWVSZWdleCIsInJlZ2V4Iiwib3B0cyIsImlzVmFsaWRJUCIsImlwIiwidmVyc2lvbiIsImlzVmFsaWRKV1QiLCJqd3QiLCJhbGciLCJoZWFkZXIiLCJiYXNlNjQiLCJkZWNvZGVkIiwiaXNWYWxpZENpZHIiLCJab2RTdHJpbmciLCJ0b29CaWciLCJ0b29TbWFsbCIsInZhbGlkYXRpb24iLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJsZW4iLCJjaCIsIm1pbiIsIm1heCIsImZsb2F0U2FmZVJlbWFpbmRlciIsInN0ZXAiLCJ2YWxEZWNDb3VudCIsInN0ZXBEZWNDb3VudCIsImRlY0NvdW50IiwidmFsSW50Iiwic3RlcEludCIsIlpvZE51bWJlciIsImtpbmQiLCJpbmNsdXNpdmUiLCJab2RCaWdJbnQiLCJab2RCb29sZWFuIiwiWm9kRGF0ZSIsIm1pbkRhdGUiLCJtYXhEYXRlIiwiWm9kU3ltYm9sIiwiWm9kVW5kZWZpbmVkIiwiWm9kTnVsbCIsIlpvZEFueSIsIlpvZFVua25vd24iLCJab2ROZXZlciIsIlpvZFZvaWQiLCJzY2hlbWEiLCJkZWVwUGFydGlhbGlmeSIsIlpvZE9iamVjdCIsIm5ld1NoYXBlIiwiZmllbGRTY2hlbWEiLCJab2RUdXBsZSIsInNoYXBlIiwic2hhcGVLZXlzIiwiZXh0cmFLZXlzIiwia2V5VmFsaWRhdG9yIiwidW5rbm93bktleXMiLCJjYXRjaGFsbCIsImRlZmF1bHRFcnJvciIsImF1Z21lbnRhdGlvbiIsIm1lcmdpbmciLCJpbmRleCIsIm1hc2siLCJuZXdGaWVsZCIsImNyZWF0ZVpvZEVudW0iLCJoYW5kbGVSZXN1bHRzIiwidW5pb25FcnJvcnMiLCJjaGlsZEN0eCIsImRpcnR5IiwidHlwZXMiLCJnZXREaXNjcmltaW5hdG9yIiwidHlwZSIsIlpvZExhenkiLCJab2RMaXRlcmFsIiwiWm9kRW51bSIsIlpvZE5hdGl2ZUVudW0iLCJab2REaXNjcmltaW5hdGVkVW5pb24iLCJkaXNjcmltaW5hdG9yIiwiZGlzY3JpbWluYXRvclZhbHVlIiwib3B0aW9uc01hcCIsImRpc2NyaW1pbmF0b3JWYWx1ZXMiLCJtZXJnZVZhbHVlcyIsImEiLCJiIiwiYVR5cGUiLCJiVHlwZSIsImJLZXlzIiwic2hhcmVkS2V5cyIsIm5ld09iaiIsInNoYXJlZFZhbHVlIiwibmV3QXJyYXkiLCJpdGVtQSIsIml0ZW1CIiwiaGFuZGxlUGFyc2VkIiwicGFyc2VkTGVmdCIsInBhcnNlZFJpZ2h0IiwibWVyZ2VkIiwibGVmdCIsInJpZ2h0IiwiaXRlbUluZGV4IiwicmVzdCIsInNjaGVtYXMiLCJab2RSZWNvcmQiLCJrZXlUeXBlIiwidmFsdWVUeXBlIiwidGhpcmQiLCJab2RNYXAiLCJmaW5hbE1hcCIsIlpvZFNldCIsImZpbmFsaXplU2V0IiwiZWxlbWVudHMiLCJwYXJzZWRTZXQiLCJlbGVtZW50IiwibWluU2l6ZSIsIm1heFNpemUiLCJzaXplIiwiZ2V0dGVyIiwidmFsdWVzIiwiZXhwZWN0ZWRWYWx1ZXMiLCJlbnVtVmFsdWVzIiwibmV3RGVmIiwib3B0IiwibmF0aXZlRW51bVZhbHVlcyIsInByb21pc2lmaWVkIiwiZWZmZWN0IiwiY2hlY2tDdHgiLCJhcmciLCJwcm9jZXNzZWQiLCJleGVjdXRlUmVmaW5lbWVudCIsImFjYyIsImlubmVyIiwiYmFzZSIsInByZXByb2Nlc3MiLCJuZXdDdHgiLCJab2ROYU4iLCJpblJlc3VsdCIsImZyZWV6ZSIsInN0cmluZ1R5cGUiLCJudW1iZXJUeXBlIiwiYm9vbGVhblR5cGUiLCJhbnlUeXBlIiwiYXJyYXlUeXBlIiwib2JqZWN0VHlwZSIsInVuaW9uVHlwZSIsImRpc2NyaW1pbmF0ZWRVbmlvblR5cGUiLCJyZWNvcmRUeXBlIiwibGF6eVR5cGUiLCJsaXRlcmFsVHlwZSIsImVudW1UeXBlIiwicGFyc2VBbnlEZWYiLCJwYXJzZUFycmF5RGVmIiwicGFyc2VEZWYiLCJwYXJzZUJpZ2ludERlZiIsInBhcnNlQm9vbGVhbkRlZiIsInBhcnNlQnJhbmRlZERlZiIsIl9kZWYiLCJwYXJzZUNhdGNoRGVmIiwicGFyc2VEYXRlRGVmIiwib3ZlcnJpZGVEYXRlU3RyYXRlZ3kiLCJzdHJhdGVneSIsImludGVnZXJEYXRlUGFyc2VyIiwicGFyc2VEZWZhdWx0RGVmIiwicGFyc2VFZmZlY3RzRGVmIiwiZm9yY2VSZXNvbHV0aW9uIiwicGFyc2VFbnVtRGVmIiwiaXNKc29uU2NoZW1hN0FsbE9mVHlwZSIsInBhcnNlSW50ZXJzZWN0aW9uRGVmIiwiYWxsT2YiLCJ1bmV2YWx1YXRlZFByb3BlcnRpZXMiLCJtZXJnZWRBbGxPZiIsIm5lc3RlZFNjaGVtYSIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwicGFyc2VMaXRlcmFsRGVmIiwicGFyc2VkVHlwZSIsInpvZFBhdHRlcm5zIiwicGFyc2VTdHJpbmdEZWYiLCJwcm9jZXNzUGF0dGVybiIsImVzY2FwZU5vbkFscGhhTnVtZXJpYyIsImFkZEZvcm1hdCIsImFkZFBhdHRlcm4iLCJjIiwicHJvY2Vzc1JlZ0V4cCIsInJlZ2V4T3JGdW5jdGlvbiIsImZsYWdzIiwic291cmNlIiwicGF0dGVybiIsImlzRXNjYXBlZCIsImluQ2hhckdyb3VwIiwiaW5DaGFyUmFuZ2UiLCJyZWdleFRlc3QiLCJwYXJzZVJlY29yZERlZiIsIl9jIiwiX2QiLCJwYXJzZU1hcERlZiIsInBhcnNlTmF0aXZlRW51bURlZiIsImFjdHVhbFZhbHVlcyIsInBhcnNlZFR5cGVzIiwicGFyc2VOZXZlckRlZiIsInBhcnNlTnVsbERlZiIsInByaW1pdGl2ZU1hcHBpbmdzIiwicGFyc2VVbmlvbkRlZiIsImFzQW55T2YiLCJ1bmlxdWVUeXBlcyIsImFueU9mIiwicGFyc2VOdWxsYWJsZURlZiIsInBhcnNlTnVtYmVyRGVmIiwiZGVjaWRlQWRkaXRpb25hbFByb3BlcnRpZXMiLCJwYXJzZU9iamVjdERlZiIsInByb3BOYW1lIiwicHJvcERlZiIsInByb3BlcnR5UGF0aCIsInBhcnNlZERlZiIsInBhcnNlT3B0aW9uYWxEZWYiLCJpbm5lclNjaGVtYSIsInBhcnNlUGlwZWxpbmVEZWYiLCJwYXJzZVByb21pc2VEZWYiLCJwYXJzZVNldERlZiIsInBhcnNlVHVwbGVEZWYiLCJwYXJzZVVuZGVmaW5lZERlZiIsInBhcnNlVW5rbm93bkRlZiIsInBhcnNlUmVhZG9ubHlEZWYiLCJzZWVuSXRlbSIsIm92ZXJyaWRlUmVzdWx0Iiwic2VlblNjaGVtYSIsImdldCRyZWYiLCJuZXdJdGVtIiwianNvblNjaGVtYSIsInNlbGVjdFBhcnNlciIsImFkZE1ldGEiLCJnZXRSZWxhdGl2ZVBhdGgiLCJwYXRoQSIsInBhdGhCIiwidHlwZU5hbWUiLCJ6b2RUb0pzb25TY2hlbWEiLCJtYWluIiwidGl0bGUiLCJkZWZpbml0aW9ucyIsInByb2Nlc3NlZERlZmluaXRpb25zIiwibmV3RGVmaW5pdGlvbnMiLCJjb21iaW5lZCIsIm1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wiLCJ0b29sIiwiY2FsbGJhY2siLCJfem9kVG9Kc29uU2NoZW1hIiwiem9kVGV4dEZvcm1hdCIsInpvZE9iamVjdCIsInByb3BzIiwiY29udGVudCIsInpvZFJlc3BvbnNlc0Z1bmN0aW9uIiwiQWdlbnRzRXJyb3IiLCJzdGF0ZSIsIl9fcHVibGljRmllbGQiLCJTeXN0ZW1FcnJvciIsIk1heFR1cm5zRXhjZWVkZWRFcnJvciIsIk1vZGVsQmVoYXZpb3JFcnJvciIsIlVzZXJFcnJvciIsIkd1YXJkcmFpbEV4ZWN1dGlvbkVycm9yIiwiVG9vbENhbGxFcnJvciIsIklucHV0R3VhcmRyYWlsVHJpcHdpcmVUcmlnZ2VyZWQiLCJPdXRwdXRHdWFyZHJhaWxUcmlwd2lyZVRyaWdnZXJlZCIsImlzWm9kT2JqZWN0IiwiaXNBZ2VudFRvb2xJbnB1dCIsInRvRnVuY3Rpb25Ub29sTmFtZSIsImdldFNjaGVtYUFuZFBhcnNlckZyb21JbnB1dFR5cGUiLCJpbnB1dFR5cGUiLCJmb3JtYXR0ZWRGdW5jdGlvbiIsImNvbnZlcnRBZ2VudE91dHB1dFR5cGVUb1NlcmlhbGl6YWJsZSIsIm91dHB1dFR5cGUiLCJvdXRwdXQiLCJzIiwiaCIsImQiLCJ3IiwieSIsIm1zIiwicGFyc2UiLCJmbXRMb25nIiwiZm10U2hvcnQiLCJzdHIiLCJtYXRjaCIsIm4iLCJtc0FicyIsInBsdXJhbCIsImlzUGx1cmFsIiwic2V0dXAiLCJlbnYiLCJjcmVhdGVEZWJ1ZyIsImNvZXJjZSIsImRpc2FibGUiLCJlbmFibGUiLCJlbmFibGVkIiwicmVxdWlyZSQkMCIsImRlc3Ryb3kiLCJzZWxlY3RDb2xvciIsIm5hbWVzcGFjZSIsImhhc2giLCJwcmV2VGltZSIsImVuYWJsZU92ZXJyaWRlIiwibmFtZXNwYWNlc0NhY2hlIiwiZW5hYmxlZENhY2hlIiwiZGVidWciLCJzZWxmIiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwiZXh0ZW5kIiwidiIsImRlbGltaXRlciIsIm5ld0RlYnVnIiwibmFtZXNwYWNlcyIsInNwbGl0IiwibnMiLCJtYXRjaGVzVGVtcGxhdGUiLCJzZWFyY2giLCJ0ZW1wbGF0ZSIsInNlYXJjaEluZGV4IiwidGVtcGxhdGVJbmRleCIsInN0YXJJbmRleCIsIm1hdGNoSW5kZXgiLCJza2lwIiwiY29tbW9uIiwiZXhwb3J0cyIsImZvcm1hdEFyZ3MiLCJzYXZlIiwibG9hZCIsInVzZUNvbG9ycyIsImxvY2Fsc3RvcmFnZSIsIndhcm5lZCIsIm1vZHVsZSIsImxhc3RDIiwiciIsImZvcm1hdHRlcnMiLCJsb2FkRW52IiwiX2xvYWRFbnYiLCJpc0VuYWJsZWQiLCJmbGFnTmFtZSIsInRyYWNpbmciLCJsb2dnaW5nIiwiZG9udExvZ01vZGVsRGF0YSIsImRvbnRMb2dUb29sRGF0YSIsImdldExvZ2dlciIsImxvZ2dlciIsInRvU21hcnRTdHJpbmciLCJkZWZhdWx0VG9vbEVycm9yRnVuY3Rpb24iLCJjb250ZXh0IiwidG9vbEVycm9yRnVuY3Rpb24iLCJzdHJpY3RNb2RlIiwicGFyYW1ldGVycyIsIl9pbnZva2UiLCJydW5Db250ZXh0IiwiZGV0YWlscyIsInBhcnNlZCIsInN0cmluZ1Jlc3VsdCIsImludm9rZSIsImN1cnJlbnRTcGFuIiwiZ2V0Q3VycmVudFNwYW4iLCJuZWVkc0FwcHJvdmFsIiwiei5vYmplY3QiLCJ6LnN0cmluZyIsInoubGl0ZXJhbCIsInoucmVjb3JkIiwiei5hbnkiLCJ6LmFycmF5Iiwiei5ib29sZWFuIiwiX2NhY2hlZFRvb2xzIiwiZ2V0RnVuY3Rpb25Ub29sc0Zyb21TZXJ2ZXIiLCJzZXJ2ZXIiLCJjb252ZXJ0U2NoZW1hc1RvU3RyaWN0IiwiYWdlbnQiLCJ0IiwibWNwVG9GdW5jdGlvblRvb2wiLCJ3aXRoTUNQTGlzdFRvb2xzU3BhbiIsInNwYW4iLCJmZXRjaGVkTWNwVG9vbHMiLCJtY3BUb29scyIsImZpbHRlcmVkVG9vbHMiLCJmaWx0ZXIiLCJnbG9iYWxMb2dnZXIiLCJhbGxvd2VkVG9vbE5hbWVzIiwiYmxvY2tlZFRvb2xOYW1lcyIsImFsbG93ZWQiLCJibG9ja2VkIiwidG9vbHMiLCJnZXRBbGxNY3BUb29scyIsIm1jcFNlcnZlcnNPck9wdHMiLCJtY3BTZXJ2ZXJzIiwiY29udmVydFNjaGVtYXNUb1N0cmljdEZyb21PcHRzIiwicnVuQ29udGV4dEZyb21PcHRzIiwiYWdlbnRGcm9tT3B0cyIsImFsbFRvb2xzIiwidG9vbE5hbWVzIiwic2VydmVyVG9vbHMiLCJpbnRlcnNlY3Rpb24iLCJtY3BUb29sIiwiX2NvbnRleHQiLCJzdHJpY3RTY2hlbWEiLCJlbnN1cmVTdHJpY3RKc29uU2NoZW1hIiwibm9uU3RyaWN0U2NoZW1hIiwib3V0IiwiQnJvd3NlckV2ZW50RW1pdHRlciIsIl9fcHJpdmF0ZUFkZCIsIl90YXJnZXQiLCJfbGlzdGVuZXJXcmFwcGVycyIsImxpc3RlbmVyIiwiZXZlbnRUeXBlIiwibGlzdGVuZXJzRm9yVHlwZSIsIl9fcHJpdmF0ZUdldCIsIndyYXBwZXJzIiwid3JhcHBlciIsImV2ZW50IiwiaGFuZGxlciIsInJhbmRvbVVVSUQiLCJSZWFkYWJsZSIsIl9kZXN0aW5hdGlvbiIsIl90cmFuc2Zvcm0iLCJSZWFkYWJsZVN0cmVhbSIsIlRyYW5zZm9ybVN0cmVhbSIsIkFzeW5jTG9jYWxTdG9yYWdlIiwiQnJvd3NlclRpbWVyIiwidGltZW91dCIsInRpbWVvdXRJZCIsInRpbWVyIiwiX2NvbnRleHRBc3luY0xvY2FsU3RvcmFnZSIsImdldENvbnRleHRBc3luY0xvY2FsU3RvcmFnZSIsImdldEN1cnJlbnRUcmFjZSIsImN1cnJlbnRUcmFjZSIsIl93cmFwRnVuY3Rpb25XaXRoVHJhY2VMaWZlY3ljbGUiLCJ0cmFjZSIsIndpdGhUcmFjZSIsIm5ld1RyYWNlIiwiZ2V0R2xvYmFsVHJhY2VQcm92aWRlciIsImdldE9yQ3JlYXRlVHJhY2UiLCJzZXRDdXJyZW50U3BhbiIsInJlc2V0Q3VycmVudFNwYW4iLCJhZGRFcnJvclRvQ3VycmVudFNwYW4iLCJzcGFuRXJyb3IiLCJjbG9uZUN1cnJlbnRDb250ZXh0Iiwid2l0aE5ld1NwYW5Db250ZXh0IiwiY3VycmVudENvbnRleHQiLCJjb3B5T2ZDb250ZXh0IiwiQ29uc29sZVNwYW5FeHBvcnRlciIsIkJhdGNoVHJhY2VQcm9jZXNzb3IiLCJleHBvcnRlciIsIm1heFF1ZXVlU2l6ZSIsIm1heEJhdGNoU2l6ZSIsInNjaGVkdWxlRGVsYXkiLCJleHBvcnRUcmlnZ2VyUmF0aW8iLCJfQmF0Y2hUcmFjZVByb2Nlc3Nvcl9pbnN0YW5jZXMiLCJfbWF4UXVldWVTaXplIiwiX21heEJhdGNoU2l6ZSIsIl9zY2hlZHVsZURlbGF5IiwiX2V4cG9ydFRyaWdnZXJTaXplIiwiX2V4cG9ydGVyIiwiX2J1ZmZlciIsIl90aW1lciIsIl90aW1lb3V0IiwiX2V4cG9ydEluUHJvZ3Jlc3MiLCJfdGltZW91dEFib3J0Q29udHJvbGxlciIsIl9fcHJpdmF0ZVNldCIsIl9fcHJpdmF0ZU1ldGhvZCIsInJ1bkV4cG9ydExvb3BfZm4iLCJzYWZlQWRkSXRlbV9mbiIsIl90cmFjZSIsIl9zcGFuIiwiZXhwb3J0QmF0Y2hlc19mbiIsInJlc29sdmUiLCJmb3JjZSIsInRvRXhwb3J0IiwiYmF0Y2giLCJNdWx0aVRyYWNpbmdQcm9jZXNzb3IiLCJfcHJvY2Vzc29ycyIsInByb2Nlc3NvciIsInByb2Nlc3NvcnMiLCJfZGVmYXVsdEV4cG9ydGVyIiwiX2RlZmF1bHRQcm9jZXNzb3IiLCJkZWZhdWx0RXhwb3J0ZXIiLCJkZWZhdWx0UHJvY2Vzc29yIiwidGltZUlzbyIsImdlbmVyYXRlVHJhY2VJZCIsImdlbmVyYXRlU3BhbklkIiwicmVtb3ZlUHJpdmF0ZUZpZWxkcyIsIl9TcGFuIiwiX2RhdGEiLCJfdHJhY2VJZCIsIl9zcGFuSWQiLCJfcGFyZW50SWQiLCJfcHJvY2Vzc29yIiwiX3N0YXJ0ZWRBdCIsIl9lbmRlZEF0IiwiX2Vycm9yIiwiX3ByZXZpb3VzU3BhbiIsIlNwYW4iLCJOb29wU3BhbiIsIl9UcmFjZSIsIl9zdGFydGVkIiwiVHJhY2UiLCJOb29wVHJhY2UiLCJUcmFjZVByb3ZpZGVyIiwiX1RyYWNlUHJvdmlkZXJfaW5zdGFuY2VzIiwiX211bHRpUHJvY2Vzc29yIiwiX2Rpc2FibGVkIiwiYWRkQ2xlYW51cExpc3RlbmVyc19mbiIsImRpc2FibGVkIiwidHJhY2VPcHRpb25zIiwidHJhY2VJZCIsInNwYW5PcHRpb25zIiwicGFyZW50SWQiLCJjbGVhbnVwIiwiaGFzT3RoZXJMaXN0ZW5lcnNGb3JTaWduYWxzIiwicmVhc29uIiwicHJvbWlzZSIsImhhc090aGVyTGlzdGVuZXJzRm9yRXZlbnRzIiwiR0xPQkFMX1RSQUNFX1BST1ZJREVSIiwiX3dpdGhTcGFuRmFjdG9yeSIsImNyZWF0ZVNwYW4iLCJjcmVhdGVBZ2VudFNwYW4iLCJjcmVhdGVGdW5jdGlvblNwYW4iLCJ3aXRoRnVuY3Rpb25TcGFuIiwiY3JlYXRlSGFuZG9mZlNwYW4iLCJ3aXRoSGFuZG9mZlNwYW4iLCJjcmVhdGVHdWFyZHJhaWxTcGFuIiwid2l0aEd1YXJkcmFpbFNwYW4iLCJjcmVhdGVNQ1BMaXN0VG9vbHNTcGFuIiwiYWRkVHJhY2VQcm9jZXNzb3IiLCJFdmVudEVtaXR0ZXJEZWxlZ2F0ZSIsIkFnZW50SG9va3MiLCJSdW50aW1lRXZlbnRFbWl0dGVyIiwiUnVuSG9va3MiLCJPUEVOQUlfREVGQVVMVF9NT0RFTF9FTlZfVkFSSUFCTEVfTkFNRSIsImdwdDVSZWFzb25pbmdTZXR0aW5nc1JlcXVpcmVkIiwibW9kZWxOYW1lIiwiaXNHcHQ1RGVmYXVsdCIsImdldERlZmF1bHRNb2RlbCIsImdldERlZmF1bHRNb2RlbFNldHRpbmdzIiwibW9kZWwiLCJfbW9kZWwiLCJkZWZpbmVJbnB1dEd1YXJkcmFpbCIsImV4ZWN1dGUiLCJkZWZpbmVPdXRwdXRHdWFyZHJhaWwiLCJnZXRUcmFuc2Zlck1lc3NhZ2UiLCJkZWZhdWx0SGFuZG9mZlRvb2xOYW1lIiwiZGVmYXVsdEhhbmRvZmZUb29sRGVzY3JpcHRpb24iLCJIYW5kb2ZmIiwib25JbnZva2VIYW5kb2ZmIiwiaGFuZG9mZiIsImNvbmZpZyIsImhhc09uSGFuZG9mZiIsImhhc0lucHV0VHlwZSIsImlucHV0SnNvblN0cmluZyIsImdldEhhbmRvZmYiLCJnZXREZWZhdWx0TW9kZWxQcm92aWRlciIsIlNoYXJlZEJhc2UiLCJJdGVtQmFzZSIsIlJlZnVzYWwiLCJPdXRwdXRUZXh0IiwiSW5wdXRUZXh0IiwiUmVhc29uaW5nVGV4dCIsIklucHV0SW1hZ2UiLCJ6XG4gICAgICAgIC5zdHJpbmciLCJJbnB1dEZpbGUiLCJBdWRpb0NvbnRlbnQiLCJJbWFnZUNvbnRlbnQiLCJUb29sT3V0cHV0VGV4dCIsIlRvb2xPdXRwdXRJbWFnZSIsIkNvbXB1dGVyVG9vbE91dHB1dCIsImNvbXB1dGVyQWN0aW9ucyIsInouZGlzY3JpbWluYXRlZFVuaW9uIiwiei5udW1iZXIiLCJ6LmVudW0iLCJBc3Npc3RhbnRDb250ZW50IiwiTWVzc2FnZUJhc2UiLCJBc3Npc3RhbnRNZXNzYWdlSXRlbSIsIlVzZXJDb250ZW50IiwiVXNlck1lc3NhZ2VJdGVtIiwiU3lzdGVtTWVzc2FnZUl0ZW0iLCJIb3N0ZWRUb29sQ2FsbEl0ZW0iLCJGdW5jdGlvbkNhbGxJdGVtIiwiRnVuY3Rpb25DYWxsUmVzdWx0SXRlbSIsIkNvbXB1dGVyVXNlQ2FsbEl0ZW0iLCJDb21wdXRlckNhbGxSZXN1bHRJdGVtIiwiVG9vbENhbGxJdGVtIiwiUmVhc29uaW5nSXRlbSIsIlVua25vd25JdGVtIiwiT3V0cHV0TW9kZWxJdGVtIiwiTW9kZWxJdGVtIiwiei51bmlvbiIsIlVzYWdlRGF0YSIsIlN0cmVhbUV2ZW50VGV4dFN0cmVhbSIsIlN0cmVhbUV2ZW50UmVzcG9uc2VTdGFydGVkIiwiU3RyZWFtRXZlbnRSZXNwb25zZUNvbXBsZXRlZCIsIlN0cmVhbUV2ZW50R2VuZXJpY0l0ZW0iLCJVc2FnZSIsImlucHV0VG9rZW5zRGV0YWlscyIsIm91dHB1dFRva2Vuc0RldGFpbHMiLCJuZXdVc2FnZSIsIlJ1bkNvbnRleHQiLCJfYXBwcm92YWxzIiwiYXBwcm92YWxzIiwidG9vbE5hbWUiLCJjYWxsSWQiLCJhcHByb3ZhbEVudHJ5IiwiaW5kaXZpZHVhbENhbGxBcHByb3ZhbCIsImluZGl2aWR1YWxDYWxsUmVqZWN0aW9uIiwiYXBwcm92YWxJdGVtIiwiYWx3YXlzQXBwcm92ZSIsImFsd2F5c1JlamVjdCIsIlJ1blJlc3VsdEJhc2UiLCJnZXRUdXJuSW5wdXQiLCJyZXNwb25zZXMiLCJSdW5SZXN1bHQiLCJTdHJlYW1lZFJ1blJlc3VsdCIsIl9zaWduYWwiLCJfcmVhZGFibGVDb250cm9sbGVyIiwiX3JlYWRhYmxlU3RyZWFtIiwiX2NvbXBsZXRlZFByb21pc2UiLCJfY29tcGxldGVkUHJvbWlzZVJlc29sdmUiLCJfY29tcGxldGVkUHJvbWlzZVJlamVjdCIsIl9jYW5jZWxsZWQiLCJfUmVhZGFibGVTdHJlYW0iLCJjb250cm9sbGVyIiwicmVqZWN0IiwiaGFuZGxlQWJvcnQiLCJzdHJlYW0iLCJzZXJpYWxpemVUb29sIiwic2VyaWFsaXplSGFuZG9mZiIsIlJ1bkl0ZW1CYXNlIiwiUnVuTWVzc2FnZU91dHB1dEl0ZW0iLCJyYXdJdGVtIiwicGFydCIsIlJ1blRvb2xDYWxsSXRlbSIsIlJ1blRvb2xDYWxsT3V0cHV0SXRlbSIsIlJ1blJlYXNvbmluZ0l0ZW0iLCJSdW5IYW5kb2ZmQ2FsbEl0ZW0iLCJSdW5IYW5kb2ZmT3V0cHV0SXRlbSIsInNvdXJjZUFnZW50IiwidGFyZ2V0QWdlbnQiLCJSdW5Ub29sQXBwcm92YWxJdGVtIiwiZ2V0TGFzdFRleHRGcm9tT3V0cHV0TWVzc2FnZSIsIm91dHB1dE1lc3NhZ2UiLCJsYXN0SXRlbSIsImdldE91dHB1dFRleHQiLCJSdW5SYXdNb2RlbFN0cmVhbUV2ZW50IiwiUnVuSXRlbVN0cmVhbUV2ZW50IiwiUnVuQWdlbnRVcGRhdGVkU3RyZWFtRXZlbnQiLCJwcm9jZXNzTW9kZWxSZXNwb25zZSIsIm1vZGVsUmVzcG9uc2UiLCJoYW5kb2ZmcyIsInJ1bkhhbmRvZmZzIiwicnVuRnVuY3Rpb25zIiwicnVuQ29tcHV0ZXJBY3Rpb25zIiwicnVuTUNQQXBwcm92YWxSZXF1ZXN0cyIsInRvb2xzVXNlZCIsImhhbmRvZmZNYXAiLCJmdW5jdGlvbk1hcCIsImNvbXB1dGVyVG9vbCIsIm1jcFRvb2xNYXAiLCJwcm92aWRlckRhdGEiLCJtY3BTZXJ2ZXJMYWJlbCIsIm1jcFNlcnZlclRvb2wiLCJmdW5jdGlvblRvb2wiLCJuZXh0U3RlcFNjaGVtYSIsIlNpbmdsZVN0ZXBSZXN1bHQiLCJvcmlnaW5hbElucHV0IiwicHJlU3RlcEl0ZW1zIiwibmV3U3RlcEl0ZW1zIiwibmV4dFN0ZXAiLCJtYXliZVJlc2V0VG9vbENob2ljZSIsInRvb2xVc2VUcmFja2VyIiwibW9kZWxTZXR0aW5ncyIsImV4ZWN1dGVJbnRlcnJ1cHRlZFRvb2xzQW5kU2lkZUVmZmVjdHMiLCJvcmlnaW5hbFByZVN0ZXBJdGVtcyIsIm5ld1Jlc3BvbnNlIiwicHJvY2Vzc2VkUmVzcG9uc2UiLCJydW5uZXIiLCJmdW5jdGlvbkNhbGxJZHMiLCJmdW5jdGlvblRvb2xSdW5zIiwicnVuIiwiZnVuY3Rpb25SZXN1bHRzIiwiZXhlY3V0ZUZ1bmN0aW9uVG9vbENhbGxzIiwibmV3SXRlbXMiLCJtY3BBcHByb3ZhbFJ1bnMiLCJhcHByb3ZhbFJlcXVlc3RJZCIsImFwcHJvdmVkIiwiY2hlY2tUb29sT3V0cHV0IiwiY2hlY2tGb3JGaW5hbE91dHB1dEZyb21Ub29scyIsImV4ZWN1dGVUb29sc0FuZFNpZGVFZmZlY3RzIiwiY29tcHV0ZXJSZXN1bHRzIiwiZXhlY3V0ZUNvbXB1dGVyQWN0aW9ucyIsImFwcHJvdmFsUmVxdWVzdCIsInRvb2xEYXRhIiwicmVxdWVzdERhdGEiLCJhcHByb3ZhbFJlc3VsdCIsImFwcHJvdmFsUmVzcG9uc2VEYXRhIiwiZXhlY3V0ZUhhbmRvZmZDYWxscyIsIm1lc3NhZ2VJdGVtcyIsInBvdGVudGlhbEZpbmFsT3V0cHV0IiwiZ2V0VG9vbENhbGxPdXRwdXRJdGVtIiwidG9vbENhbGwiLCJ0b29sUnVucyIsInJ1blNpbmdsZVRvb2wiLCJ0b29sUnVuIiwicGFyc2VkQXJncyIsImFwcHJvdmFsIiwicmVzcG9uc2UiLCJ0b29sT3V0cHV0IiwiZnVuY3Rpb25SZXN1bHQiLCJuZXN0ZWRSdW5SZXN1bHQiLCJjb25zdW1lQWdlbnRUb29sUnVuUmVzdWx0IiwibmVzdGVkSW50ZXJydXB0aW9ucyIsIl9ydW5Db21wdXRlckFjdGlvbkFuZFNjcmVlbnNob3QiLCJjb21wdXRlciIsImFjdGlvbiIsInNjcmVlbnNob3QiLCJwIiwiYWN0aW9ucyIsImN1c3RvbUxvZ2dlciIsIl9sb2dnZXIiLCJpbWFnZVVybCIsImFjdHVhbEhhbmRvZmYiLCJoYW5kb2ZmU3BhbiIsIm5ld0FnZW50IiwicmVxdWVzdGVkQWdlbnRzIiwiaW5wdXRGaWx0ZXIiLCJoYW5kb2ZmSW5wdXREYXRhIiwiTk9UX0ZJTkFMX09VVFBVVCIsInRvb2xSZXN1bHRzIiwiaW50ZXJydXB0aW9ucyIsImZpcnN0VG9vbFJlc3VsdCIsInRvb2xVc2VCZWhhdmlvciIsInN0b3BwaW5nVG9vbCIsImFkZFN0ZXBUb1J1blJlc3VsdCIsIml0ZW1OYW1lIiwiQWdlbnRUb29sVXNlVHJhY2tlciIsIl9hZ2VudFRvVG9vbHMiLCJDVVJSRU5UX1NDSEVNQV9WRVJTSU9OIiwiJHNjaGVtYVZlcnNpb24iLCJzZXJpYWxpemVkQWdlbnRTY2hlbWEiLCJTZXJpYWxpemVkU3BhbiIsInpcbiAgICAgICAgLm9iamVjdCIsInoubGF6eSIsInVzYWdlU2NoZW1hIiwibW9kZWxSZXNwb25zZVNjaGVtYSIsInByb3RvY29sLk91dHB1dE1vZGVsSXRlbSIsIml0ZW1TY2hlbWEiLCJwcm90b2NvbC5Bc3Npc3RhbnRNZXNzYWdlSXRlbSIsInByb3RvY29sLlRvb2xDYWxsSXRlbSIsInByb3RvY29sLkhvc3RlZFRvb2xDYWxsSXRlbSIsInByb3RvY29sLkZ1bmN0aW9uQ2FsbFJlc3VsdEl0ZW0iLCJwcm90b2NvbC5SZWFzb25pbmdJdGVtIiwicHJvdG9jb2wuRnVuY3Rpb25DYWxsSXRlbSIsInNlcmlhbGl6ZWRUcmFjZVNjaGVtYSIsInNlcmlhbGl6ZWRQcm9jZXNzZWRSZXNwb25zZVNjaGVtYSIsInpcbiAgICAgICAgLmFycmF5IiwiZ3VhcmRyYWlsRnVuY3Rpb25PdXRwdXRTY2hlbWEiLCJpbnB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSIsIm91dHB1dEd1YXJkcmFpbFJlc3VsdFNjaGVtYSIsIlNlcmlhbGl6ZWRSdW5TdGF0ZSIsInByb3RvY29sLk1vZGVsSXRlbSIsIlJ1blN0YXRlIiwic3RhcnRpbmdBZ2VudCIsIm1heFR1cm5zIiwiaW5pdGlhbEFnZW50IiwicGFyc2luZ0Vycm9yIiwianNvblJlc3VsdCIsImN1cnJlbnRTY2hlbWFWZXJzaW9uIiwic3RhdGVKc29uIiwiYWdlbnRNYXAiLCJidWlsZEFnZW50TWFwIiwiY3VycmVudEFnZW50IiwiYWdlbnROYW1lIiwiZGVzZXJpYWxpemVTcGFuIiwiZGVzZXJpYWxpemVNb2RlbFJlc3BvbnNlIiwiZGVzZXJpYWxpemVJdGVtIiwiZGVzZXJpYWxpemVQcm9jZXNzZWRSZXNwb25zZSIsIl9lIiwicXVldWUiLCJBZ2VudCIsInNlcmlhbGl6ZWRTcGFuIiwic3BhbkRhdGEiLCJwcmV2aW91c1NwYW4iLCJzZXJpYWxpemVkTW9kZWxSZXNwb25zZSIsInVzYWdlIiwic2VyaWFsaXplZEl0ZW0iLCJzZXJpYWxpemVkUHJvY2Vzc2VkUmVzcG9uc2UiLCJjb21wdXRlclRvb2xzIiwiZW50cnkiLCJmdW5jdGlvbkNhbGwiLCJjb21wdXRlckFjdGlvbiIsIkRFRkFVTFRfTUFYX1RVUk5TIiwiZ2V0VHJhY2luZyIsInRyYWNpbmdEaXNhYmxlZCIsInRyYWNlSW5jbHVkZVNlbnNpdGl2ZURhdGEiLCJnZW5lcmF0ZWRJdGVtcyIsInJhd0l0ZW1zIiwiUnVubmVyIiwiX1J1bm5lcl9pbnN0YW5jZXMiLCJydW5JbmRpdmlkdWFsU3RyZWFtX2ZuIiwicnVuSW5kaXZpZHVhbE5vblN0cmVhbV9mbiIsImV4cGxpY3RseU1vZGVsU2V0Iiwic2VsZWN0TW9kZWwiLCJ0dXJuUmVzdWx0IiwiaGFuZG9mZk5hbWVzIiwic2VyaWFsaXplZFRvb2xzIiwic2VyaWFsaXplZEhhbmRvZmZzIiwicnVuSW5wdXRHdWFyZHJhaWxzX2ZuIiwidHVybklucHV0IiwiYWdlbnRNb2RlbFNldHRpbmdzIiwiYWRqdXN0TW9kZWxTZXR0aW5nc0Zvck5vbkdQVDVSdW5uZXJNb2RlbCIsInJ1bk91dHB1dEd1YXJkcmFpbHNfZm4iLCJndWFyZHJhaWxzIiwiZ3VhcmRyYWlsQXJncyIsImd1YXJkcmFpbCIsImFnZW50T3V0cHV0IiwicnVuU3RyZWFtTG9vcF9mbiIsImZpbmFsUmVzcG9uc2UiLCJhZ2VudE1vZGVsIiwicnVuQ29uZmlnTW9kZWwiLCJydW5uZXJNb2RlbCIsIl9nIiwiX2YiLCJfaCIsImFnZW50VG9vbFJ1blJlc3VsdHMiLCJzYXZlQWdlbnRUb29sUnVuUmVzdWx0IiwicnVuUmVzdWx0IiwiQWdlbnRBc1Rvb2xOZWVkQXBwcm92YWxTY2hhbWUiLCJfQWdlbnQiLCJvdXRwdXRUeXBlcyIsInRvb2xEZXNjcmlwdGlvbiIsImN1c3RvbU91dHB1dEV4dHJhY3RvciIsInJ1bkNvbmZpZyIsInJ1bk9wdGlvbnMiLCJvdXRwdXRUZXh0IiwiYmFzZTY0VG9BcnJheUJ1ZmZlciIsImJpbmFyeVN0cmluZyIsImJ5dGVzIiwiYXJyYXlCdWZmZXJUb0Jhc2U2NCIsImFycmF5QnVmZmVyIiwiZ2V0TGFzdFRleHRGcm9tQXVkaW9PdXRwdXRNZXNzYWdlIiwibGFzdENvbnRlbnRJdGVtIiwiZGlmZlJlYWx0aW1lSGlzdG9yeSIsIm9sZEhpc3RvcnkiLCJuZXdIaXN0b3J5IiwicmVtb3ZhbHMiLCJhZGRpdGlvbnMiLCJvbGRJdGVtIiwidXBkYXRlcyIsImhhc1dlYlJUQ1N1cHBvcnQiLCJyZW1vdmVBdWRpb0Zyb21Db250ZW50IiwidXBkYXRlUmVhbHRpbWVIaXN0b3J5IiwiaGlzdG9yeSIsInNob3VsZEluY2x1ZGVBdWRpb0RhdGEiLCJ1cGRhdGVkQ29udGVudCIsIm5ld0V2ZW50IiwiZXhpc3RpbmdJbmRleCIsImlkeCIsInByZXZJbmRleCIsIkhFQURFUlMiLCJXRUJTT0NLRVRfTUVUQSIsInJlYWx0aW1lQXBwcm92YWxJdGVtVG9BcHByb3ZhbEl0ZW0iLCJhcHByb3ZhbEl0ZW1Ub1JlYWx0aW1lQXBwcm92YWxJdGVtIiwiaXRlbUlkIiwic2VydmVyTGFiZWwiLCJSZWFsdGltZUFnZW50IiwiZ2V0UmVhbHRpbWVHdWFyZHJhaWxTZXR0aW5ncyIsInNldHRpbmdzIiwiZGVmaW5lUmVhbHRpbWVPdXRwdXRHdWFyZHJhaWwiLCJwb2xpY3lIaW50SW5wdXQiLCJiYXNlR3VhcmRyYWlsIiwicG9saWN5SGludCIsImdldFJlYWx0aW1lR3VhcmRyYWlsRmVlZGJhY2tNZXNzYWdlIiwiaXNEZWZpbmVkIiwiaXNEZXByZWNhdGVkQ29uZmlnIiwidG9OZXdTZXNzaW9uQ29uZmlnIiwiaW5wdXRDb25maWciLCJub3JtYWxpemVBdWRpb0Zvcm1hdCIsInJlcXVlc3RlZE91dHB1dFZvaWNlIiwib3V0cHV0Q29uZmlnIiwiZiIsInJlYWx0aW1lTWVzc2FnZUl0ZW1TY2hlbWEiLCJyZWFsdGltZVRvb2xDYWxsSXRlbSIsInJlYWx0aW1lTWNwQ2FsbEl0ZW0iLCJyZWFsdGltZU1jcENhbGxBcHByb3ZhbFJlcXVlc3RJdGVtIiwicmVhbHRpbWVSZXNwb25zZSIsInpcbiAgICAgICAgICAgIC5vYmplY3QiLCJ6XG4gICAgICAgIC5lbnVtIiwielxuICAgICAgICAgICAgLnJlY29yZCIsImNvbnZlcnNhdGlvbkl0ZW1Db250ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVNjaGVtYSIsInpcbiAgICAub2JqZWN0IiwiY29udmVyc2F0aW9uQ3JlYXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUFkZGVkRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtRG9uZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbURlbGV0ZWRFdmVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkNvbXBsZXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUlucHV0QXVkaW9UcmFuc2NyaXB0aW9uRGVsdGFFdmVudFNjaGVtYSIsImNvbnZlcnNhdGlvbkl0ZW1JbnB1dEF1ZGlvVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVJldHJpZXZlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVRydW5jYXRlZEV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbUNyZWF0ZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbURlbGV0ZUV2ZW50U2NoZW1hIiwiY29udmVyc2F0aW9uSXRlbVJldHJpZXZlRXZlbnRTY2hlbWEiLCJjb252ZXJzYXRpb25JdGVtVHJ1bmNhdGVFdmVudFNjaGVtYSIsImVycm9yRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ2xlYXJlZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlckFwcGVuZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlckNsZWFyRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0RXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyQ29tbWl0dGVkRXZlbnRTY2hlbWEiLCJpbnB1dEF1ZGlvQnVmZmVyU3BlZWNoU3RhcnRlZEV2ZW50U2NoZW1hIiwiaW5wdXRBdWRpb0J1ZmZlclNwZWVjaFN0b3BwZWRFdmVudFNjaGVtYSIsIm91dHB1dEF1ZGlvQnVmZmVyU3RhcnRlZEV2ZW50U2NoZW1hIiwib3V0cHV0QXVkaW9CdWZmZXJTdG9wcGVkRXZlbnRTY2hlbWEiLCJvdXRwdXRBdWRpb0J1ZmZlckNsZWFyZWRFdmVudFNjaGVtYSIsInJhdGVMaW1pdHNVcGRhdGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvRGVsdGFFdmVudFNjaGVtYSIsInJlc3BvbnNlQXVkaW9Eb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERlbHRhRXZlbnRTY2hlbWEiLCJyZXNwb25zZUF1ZGlvVHJhbnNjcmlwdERvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlQ29udGVudFBhcnRBZGRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VDb250ZW50UGFydERvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlQ3JlYXRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VEb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RlbHRhRXZlbnRTY2hlbWEiLCJyZXNwb25zZUZ1bmN0aW9uQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlT3V0cHV0SXRlbUFkZGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZU91dHB1dEl0ZW1Eb25lRXZlbnRTY2hlbWEiLCJyZXNwb25zZVRleHREZWx0YUV2ZW50U2NoZW1hIiwicmVzcG9uc2VUZXh0RG9uZUV2ZW50U2NoZW1hIiwic2Vzc2lvbkNyZWF0ZWRFdmVudFNjaGVtYSIsInNlc3Npb25VcGRhdGVkRXZlbnRTY2hlbWEiLCJyZXNwb25zZUNhbmNlbEV2ZW50U2NoZW1hIiwicmVzcG9uc2VDcmVhdGVFdmVudFNjaGVtYSIsInNlc3Npb25VcGRhdGVFdmVudFNjaGVtYSIsIm1jcExpc3RUb29sc0luUHJvZ3Jlc3NFdmVudFNjaGVtYSIsIm1jcExpc3RUb29sc0NvbXBsZXRlZEV2ZW50U2NoZW1hIiwicmVzcG9uc2VNY3BDYWxsQXJndW1lbnRzRGVsdGFFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbEFyZ3VtZW50c0RvbmVFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbEluUHJvZ3Jlc3NFdmVudFNjaGVtYSIsInJlc3BvbnNlTWNwQ2FsbENvbXBsZXRlZEV2ZW50U2NoZW1hIiwibWNwTGlzdFRvb2xzRmFpbGVkRXZlbnRTY2hlbWEiLCJnZW5lcmljRXZlbnRTY2hlbWEiLCJyZWFsdGltZVNlcnZlckV2ZW50U2NoZW1hIiwicGFyc2VSZWFsdGltZUV2ZW50IiwicmF3IiwiZ2VuZXJpY1BhcnNlZCIsIkRFRkFVTFRfT1BFTkFJX1JFQUxUSU1FX01PREVMIiwiREVGQVVMVF9PUEVOQUlfUkVBTFRJTUVfU0VTU0lPTl9DT05GSUciLCJfT3BlbkFJUmVhbHRpbWVCYXNlIiwiX2FwaUtleSIsIl90cmFjaW5nQ29uZmlnIiwiX3Jhd1Nlc3Npb25Db25maWciLCJhcGlLZXkiLCJpc0dlbmVyaWMiLCJpbnB1dFRva2VucyIsIm91dHB1dFRva2VucyIsInRvdGFsVG9rZW5zIiwicHJldmlvdXNJdGVtSWQiLCJtY3BBcHByb3ZhbFJlcXVlc3QiLCJtY3BDYWxsIiwicmVhbHRpbWVJdGVtIiwib3RoZXJFdmVudERhdGEiLCJ0cmlnZ2VyUmVzcG9uc2UiLCJpbWFnZSIsIm5ld0NvbmZpZyIsInNlc3Npb25EYXRhIiwiX2oiLCJfaSIsIl9sIiwiX24iLCJfbSIsIl9wIiwiX28iLCJfciIsIl9xIiwiX3QiLCJfcyIsIl92IiwiX3UiLCJfdyIsIl96IiwiX3kiLCJfQiIsIl9BIiwiY3JlYXRlUmVzcG9uc2UiLCJjcmVhdGVfcmVzcG9uc2UiLCJlYWdlcm5lc3MiLCJpbnRlcnJ1cHRSZXNwb25zZSIsImludGVycnVwdF9yZXNwb25zZSIsInByZWZpeFBhZGRpbmdNcyIsInByZWZpeF9wYWRkaW5nX21zIiwic2lsZW5jZUR1cmF0aW9uTXMiLCJzaWxlbmNlX2R1cmF0aW9uX21zIiwidGhyZXNob2xkIiwiaWRsZVRpbWVvdXRNcyIsImlkbGVfdGltZW91dF9tcyIsInRyYWNpbmdDb25maWciLCJzdGFydFJlc3BvbnNlIiwiYXVkaW8iLCJjb21taXQiLCJyZW1vdmFsSWRzIiwidXBkYXRlIiwiYWRkaXRpb25zQW5kVXBkYXRlcyIsImFkZGl0aW9uIiwiaXRlbUVudHJ5IiwiT3BlbkFJUmVhbHRpbWVCYXNlIiwiT3BlbkFJUmVhbHRpbWVXZWJSVEMiLCJfdXJsIiwiX3N0YXRlIiwiX3VzZUluc2VjdXJlQXBpS2V5IiwiX29uZ29pbmdSZXNwb25zZSIsIl9tdXRlZCIsImJhc2VVcmwiLCJpc0NsaWVudEtleSIsInVzZXJTZXNzaW9uQ29uZmlnIiwiY29ubmVjdGlvblVybCIsInBlZXJDb25uZWN0aW9uIiwiZGF0YUNoYW5uZWwiLCJhdWRpb0VsZW1lbnQiLCJvZmZlciIsInNkcFJlc3BvbnNlIiwiYW5zd2VyIiwibXV0ZWQiLCJzZW5kZXIiLCJXZWJTb2NrZXQiLCJPcGVuQUlSZWFsdGltZVdlYlNvY2tldCIsIl9PcGVuQUlSZWFsdGltZVdlYlNvY2tldF9pbnN0YW5jZXMiLCJfY3VycmVudEl0ZW1JZCIsIl9jdXJyZW50QXVkaW9Db250ZW50SW5kZXgiLCJhdWRpb0V2ZW50IiwidXJsIiwic2Vzc2lvbkNvbmZpZyIsInNldHVwV2ViU29ja2V0X2ZuIiwiZWxhcHNlZFRpbWUiLCJjYW5jZWxPbmdvaW5nUmVzcG9uc2UiLCJsZW5ndGgiLCJhdWRpb19lbmRfbXMiLCJ3ZWJzb2NrZXRBcmd1bWVudHMiLCJ3cyIsImJ1ZmYiLCJmbXQiLCJyYXRlIiwiYXV0b21hdGljUmVzcG9uc2VDYW5jZWxsYXRpb25FbmFibGVkIiwiQkFDS0dST1VORF9SRVNVTFRfU1lNQk9MIiwiYmFja2dyb3VuZFJlc3VsdCIsImlzQmFja2dyb3VuZFJlc3VsdCIsImlzVmFsaWRSZWFsdGltZVRvb2wiLCJ0b1JlYWx0aW1lVG9vbERlZmluaXRpb24iLCJzZXJ2ZXJVcmwiLCJSZWFsdGltZVNlc3Npb24iLCJfUmVhbHRpbWVTZXNzaW9uX2luc3RhbmNlcyIsIl90cmFuc3BvcnQiLCJfY3VycmVudEFnZW50IiwiX2N1cnJlbnRUb29scyIsIl9vdXRwdXRHdWFyZHJhaWxzIiwiX291dHB1dEd1YXJkcmFpbFNldHRpbmdzIiwiX3RyYW5zY3JpYmVkVGV4dERlbHRhcyIsIl9oaXN0b3J5IiwiX3Nob3VsZEluY2x1ZGVBdWRpb0RhdGEiLCJfaW50ZXJydXB0ZWRCeUd1YXJkcmFpbCIsIl9hdWRpb1N0YXJ0ZWQiLCJfYWxsTWNwVG9vbHNCeVNlcnZlciIsIl9hdmFpbGFibGVNY3BUb29scyIsIl9sYXN0U2Vzc2lvbkNvbmZpZyIsIl9hdXRvbWF0aWNhbGx5VHJpZ2dlclJlc3BvbnNlRm9yTWNwVG9vbENhbGxzIiwic2V0Q3VycmVudEFnZW50X2ZuIiwiZ2V0U2Vzc2lvbkNvbmZpZ19mbiIsInNldEV2ZW50TGlzdGVuZXJzX2ZuIiwidXBkYXRlZEhpc3RvcnkiLCJoYW5kbGVGdW5jdGlvblRvb2xDYWxsX2ZuIiwiaGFuZG9mZlRvb2xzIiwiaGFzVG9vbHNEZWZpbmVkIiwiaGFzSGFuZG9mZnNEZWZpbmVkIiwidXBkYXRlQXZhaWxhYmxlTWNwVG9vbHNfZm4iLCJhZGRpdGlvbmFsQ29uZmlnIiwiaW5zdHJ1Y3Rpb25zIiwiZnVsbENvbmZpZyIsImhhbmRsZUhhbmRvZmZfZm4iLCJoYW5kbGVGdW5jdGlvbkNhbGxfZm4iLCJmdW5jdGlvblRvb2xNYXAiLCJwb3NzaWJsZUhhbmRvZmYiLCJyZXNwb25zZUlkIiwiZmlyc3RUcmlwd2lyZVRyaWdnZXJlZCIsImZlZWRiYWNrVGV4dCIsImNvbXBsZXRlZEV2ZW50IiwidGV4dE91dHB1dCIsImxhc3RSdW5JbmRleCIsImxhc3RJdGVtSWQiLCJkZWx0YSIsIm5ld1RleHQiLCJuZXdSdW5JbmRleCIsImlzTmV3IiwiYWRkZWRJdGVtIiwiYWN0aXZlTWNwQ29uZmlncyIsImFsbG93ZWRGcm9tQ29uZmlnIiwiY2ZnIiwiZGVkdXBCeU5hbWUiLCJuZXh0IiwicHJldiIsInV0aWxzIiwidXRpbEltcG9ydC5iYXNlNjRUb0FycmF5QnVmZmVyIiwidXRpbEltcG9ydC5hcnJheUJ1ZmZlclRvQmFzZTY0IiwidXRpbEltcG9ydC5nZXRMYXN0VGV4dEZyb21BdWRpb091dHB1dE1lc3NhZ2UiXSwibWFwcGluZ3MiOiJnaUNBQ08sTUFBTUEsRUFBVyxDQUVwQixRQUFXLE9BS2YsRUNSTyxlQUFlQyxFQUFZ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LFlBQWEsQ0FDYixNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsVUFBVSxDQUNqRSxDQUNBLElBQUksU0FBVSxDQUNWLE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxPQUFPLENBQzlELENBQ0EsSUFBSSxPQUFRLENBQ1IsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLEtBQUssQ0FDNUQsQ0FDQSxJQUFJLFNBQVUsQ0FDVixNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsT0FBTyxDQUM5RCxDQUNBLElBQUksUUFBUyxDQUNULE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxNQUFNLENBQzdELENBQ0EsSUFBSSxVQUFXLENBQ1gsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLFFBQVEsQ0FDL0QsQ0FDQSxJQUFJLFFBQVMsQ0FDVCxNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsTUFBTSxDQUM3RCxDQUNBLElBQUksU0FBVSxDQUNWLE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxPQUFPLENBQzlELENBQ0EsSUFBSSxRQUFTLENBQ1QsTUFBTyxDQUFDLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBTUEsR0FBT0EsRUFBRyxPQUFTLE1BQU0sQ0FDN0QsQ0FDQSxJQUFJLE1BQU8sQ0FDUCxNQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFNQSxHQUFPQSxFQUFHLE9BQVMsSUFBSSxDQUMzRCxDQUNBLElBQUksUUFBUyxDQUNULE1BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQU1BLEdBQU9BLEVBQUcsT0FBUyxNQUFNLENB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Q0FBRyxFQUNyQyxVQUFXcDFCLEtBQVE0SSxFQUNYRixHQUFXLENBQUNBLEVBQVEsU0FBUzFJLEVBQUssSUFBSSxHQUVyQ3ExQixFQUFZLElBQUlyMUIsRUFBSyxJQUFJLEdBQzFCcTFCLEVBQVksSUFBSXIxQixFQUFLLEtBQU1BLENBQUksQ0FHM0MsQ0FDQSxNQUFNczFCLEVBQU8sTUFBTSxLQUFLRCxFQUFZLE9BQU0sQ0FBRSxFQUN0Q0UsRUFBT25yQixFQUFBLEtBQUsrb0IsS0FDRm9DLEVBQUssU0FBV0QsRUFBSyxRQUNqQyxLQUFLLFVBQVVDLEVBQUssSUFBS3h0QixHQUFNQSxFQUFFLElBQUksRUFBRSxNQUFNLElBQ3pDLEtBQUssVUFBVXV0QixFQUFLLElBQUt2dEIsR0FBTUEsRUFBRSxJQUFJLEVBQUUsTUFBTSxLQUVqRHlGLEVBQUEsS0FBSzJsQixHQUFxQm1DLEdBQzFCLEtBQUssS0FBSyxvQkFBcUJsckIsRUFBQSxLQUFLK29CLEdBQWtCLEVBRTlELEVDM2dCUSxNQUFDcUMsR0FBUSxDQUNqQixvQkFBcUJDLEdBQ3JCLG9CQUFxQkMsR0FDckIsa0NBQW1DQyxFQUN2QyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlsyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNTEsNTIsNTNdfQ==
